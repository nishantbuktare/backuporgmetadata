/*! ************************************************************************
 *
 * VLOCITY, INC. CONFIDENTIAL
 * __________________
 *
 *  [2014] - [2019] Vlocity, Inc.
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Vlocity, Inc. and its suppliers,
 * if any. The intellectual and technical concepts contained
 * herein are proprietary to Vlocity, Inc. and its suppliers and may be
 * covered by U.S. and Foreign Patents, patents in process, and are
 * protected by trade secret or copyright law. Dissemination of this
 * information and reproduction, modification or reverse-engineering
 * of this material, is prohibited unless prior written permission
 * is obtained from Vlocity, Inc.
 *
 * Build details:  
 * hash: 7ba8fe61081152867f66
 * chunkhash: 2253214ada74d42ab44e
 * file: productconsole.sdk.js
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.productconsole=t():(e.VlocitySDK=e.VlocitySDK||{},e.VlocitySDK.productconsole=t())}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=232)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(47)),n(r(16)),n(r(48)),n(r(9)),n(r(51))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(50))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(56))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=500;class i{static setDefaultRetryCount(e){this.defaultRetryCount=e}static addRetryDelay(){return new Promise(e=>{setTimeout(e,n)})}static setDefaultTimeout(e){this.defaultTimeout=e}}t.default=i,i.defaultRetryCount=3,i.defaultTimeout=1e4},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=a(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(33)),n(r(90)),n(r(91))},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var i,o,s;if(u(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,l=m(c,u);for(r=0;r<u;++r)o(l[r],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static get namespace(){return n.internalNamespace}static set namespace(e){n.internalNamespace=e,e?(n.internalPrefix=`${e}__`,n.internalRestAPIPrefix=`/${e}`):(n.internalPrefix=e,n.internalRestAPIPrefix=e)}static get prefix(){return n.internalPrefix}static get restAPIPrefix(){return n.internalRestAPIPrefix}}t.SalesForceNamespace=n,n.internalPrefix="omnistudio__",n.internalNamespace="omnistudio",n.internalRestAPIPrefix="/omnistudio"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9);t.VlocityInput=class{constructor(){this.apiNamespace=n.SalesForceNamespace.restAPIPrefix}getEndPointWithNamespace(){return this.restUrl.startsWith("/")||(this.restUrl=`/${this.restUrl}`),`/services/apexrest${n.SalesForceNamespace.restAPIPrefix}${this.restUrl}`}getApexRestEndPoint(){if(!this.apexRestUrl)throw new Error("VlocityInput.apexRestUrl is invalid and must be defined.");return this.apexRestUrl.startsWith("/")||(this.apexRestUrl=`/${this.restUrl}`),`${n.SalesForceNamespace.restAPIPrefix}${this.apexRestUrl}`}}},function(e,t,r){"use strict";(function(t){var n=r(60);n.prototype.thenCall=function(e){return"function"==typeof e&&this.then(function(r){t.nextTick(function(){e(null,r)})},function(r){t.nextTick(function(){e(r)})}),this},n.prototype.fail=n.prototype.catch,n.defer=function(){return new i};var i=function(){var e=this;this.promise=new n(function(t,r){e.resolve=t,e.reject=r})};e.exports=n}).call(this,r(5))},function(e,t,r){"use strict";var n=r(20),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=Object.create(r(14));o.inherits=r(3);var s=r(38),a=r(41);o.inherits(d,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=new Function("try {return this===global;}catch(e){return false;}")()},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(17).Buffer)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(82)),n(r(83))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INDEXEDDB="INDEXEDDB",e.LOCALSTORAGE="LOCALSTORAGE",e.SESSIONSTORAGE="SESSIONSTORAGE"}(t.CacheType||(t.CacheType={}))},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(58),i=r(59),o=r(36);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=a(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var d=!0,p=0;p<c;p++)if(u(e,o+p)!==u(t,p)){d=!1;break}if(d)return o}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return $(U(t,e.length-r),e,r,n)}function _(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return _(e,t,r,n)}function w(e,t,r,n){return $(q(t),e,r,n)}function P(e,t,r,n){return $(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r),d=0;d<a;++d)if(u[d]!==l[d]){o=u[d],s=l[d];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=V(e[o]);return i}function j(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function M(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function k(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,o){return o||k(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return o||k(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=c.isBuffer(e)?e:U(new c(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(8))},function(e,t){e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},function(e,t,r){(t=e.exports=r(38)).Stream=t,t.Readable=t,t.Writable=r(41),t.Duplex=r(12),t.Transform=r(43),t.PassThrough=r(74)},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,r(5))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(80)),n(r(81))},function(e,t,r){"use strict";var n=r(7).EventEmitter,i=e.exports=new n;i.VERSION=r(34),i.Connection=r(35),i.OAuth2=r(23),i.Date=i.SfDate=r(27),i.Promise=r(11),i.require=r(77)},function(e,t,r){"use strict";var n=r(63),i=r(24),o="https://login.salesforce.com",s=e.exports=function(e){e.authzServiceUrl&&e.tokenServiceUrl?(this.loginUrl=e.authzServiceUrl.split("/").slice(0,3).join("/"),this.authzServiceUrl=e.authzServiceUrl,this.tokenServiceUrl=e.tokenServiceUrl,this.revokeServiceUrl=e.revokeServiceUrl):(this.loginUrl=e.loginUrl||o,this.authzServiceUrl=this.loginUrl+"/services/oauth2/authorize",this.tokenServiceUrl=this.loginUrl+"/services/oauth2/token",this.revokeServiceUrl=this.loginUrl+"/services/oauth2/revoke"),this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.redirectUri=e.redirectUri,e.proxyUrl?this._transport=new i.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new i.HttpProxyTransport(e.httpProxy):this._transport=new i};Object.assign(s.prototype,{getAuthorizationUrl:function(e){return e=Object.assign({response_type:"code",client_id:this.clientId,redirect_uri:this.redirectUri},e||{}),this.authzServiceUrl+(this.authzServiceUrl.indexOf("?")>=0?"&":"?")+n.stringify(e)},refreshToken:function(e,t){var r={grant_type:"refresh_token",refresh_token:e,client_id:this.clientId};return this.clientSecret&&(r.client_secret=this.clientSecret),this._postParams(r,t)},requestToken:function(e,t,r){return"function"==typeof t&&(r=t,t={}),t=Object.assign({grant_type:"authorization_code",code:e,client_id:this.clientId,redirect_uri:this.redirectUri},t||{}),this.clientSecret&&(t.client_secret=this.clientSecret),this._postParams(t,r)},authenticate:function(e,t,r){return this._postParams({grant_type:"password",username:e,password:t,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},r)},revokeToken:function(e,t){return this._transport.httpRequest({method:"POST",url:this.revokeServiceUrl,body:n.stringify({token:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.statusCode>=400){var t=n.parse(e.body);t&&t.error||(t={error:"ERROR_HTTP_"+e.statusCode,error_description:e.body});var r=new Error(t.error_description);throw r.name=t.error,r}}).thenCall(t)},_postParams:function(e,t){return this._transport.httpRequest({method:"POST",url:this.tokenServiceUrl,body:n.stringify(e),headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(e){var t;try{t=JSON.parse(e.body)}catch(e){}if(e.statusCode>=400){t=t||{error:"ERROR_HTTP_"+e.statusCode,error_description:e.body};var r=new Error(t.error_description);throw r.name=t.error,r}return t}).thenCall(t)}})},function(e,t,r){"use strict";(function(t){var n,i=r(18),o=r(11),s=r(66),a=r(75),c=r(76);if(s.defaults){var u={followAllRedirects:!0};t.env.HTTP_PROXY&&(u.proxy=t.env.HTTP_PROXY),parseInt(t.env.HTTP_TIMEOUT)&&(u.timeout=parseInt(t.env.HTTP_TIMEOUT)),s=s.defaults(u)}if("undefined"==typeof window)n=t.env.LOCATION_BASE_URL||"";else{var l=function(e){var t=/(\w+)\.(visual\.force|salesforce)\.com$/.exec(e);t&&(e=t[1]+".salesforce.com");return e}(window.location.host);n=l?"https://"+l:""}var d=e.exports=function(){};d.prototype.httpRequest=function(e,t){var r,n=o.defer(),i=this._getHttpRequestModule();return function e(t,r){var n=t.then;return t.then=function(){return r(),e(n.apply(t,arguments),r)},t.stream=r,t}(n.promise,function(){return r||(r=i(e,function(e,t){e?n.reject(e):n.resolve(t)})),r}).thenCall(t)},d.prototype._getHttpRequestModule=function(){return s};var p=d.JsonpTransport=function(e){this._jsonpParam=e};i(p,d),p.prototype._getHttpRequestModule=function(){return c.createRequest(this._jsonpParam)},p.supported=c.supported;var h=d.CanvasTransport=function(e){this._signedRequest=e};i(h,d),h.prototype._getHttpRequestModule=function(){return a.createRequest(this._signedRequest)},h.supported=a.supported;var f=d.ProxyTransport=function(e){this._proxyUrl=e};i(f,d),f.prototype.httpRequest=function(e,t){var r=e.url;0===r.indexOf("/")&&(r=n+r);var i={method:e.method,url:this._proxyUrl+"?"+Date.now()+"."+(""+Math.random()).substring(2),headers:{"salesforceproxy-endpoint":r}};if((e.body||""===e.body)&&(i.body=e.body),e.headers)for(var o in e.headers)i.headers[o]=e.headers[o];return f.super_.prototype.httpRequest.call(this,i,t)};var m=d.HttpProxyTransport=function(e){this._httpProxy=e};i(m,d),m.prototype.httpRequest=function(e,t){var r=e.url;0===r.indexOf("/")&&(r=n+r);var i={method:e.method,url:e.url,proxy:this._httpProxy,headers:{}};if((e.body||""===e.body)&&(i.body=e.body),e.headers)for(var o in e.headers)i.headers[o]=e.headers[o];return m.super_.prototype.httpRequest.call(this,i,t)}}).call(this,r(5))},function(e,t,r){var n=r(17),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t){var n=r(3),i=(r(7),r(19)),o=r(11),s=r(44),a=e.exports=function(e,t,r){a.super_.call(this,{objectMode:!0}),this._conn=e,"string"==typeof t?this._soql=t:t.locator&&t.locator.indexOf("/")>=0?this._locator=t.locator.split("/").pop():(this._config=t,this.select(t.fields),t.includes&&this.include(t.includes),t.sort&&this.sort(t.sort)),this._options=Object.assign(r||{},{maxFetch:1e4,autoFetch:!1,scanAll:!1,responseTarget:c.QueryResult}),this._executed=!1,this._finished=!1,this._chaining=!1,this._deferred=o.defer()};n(a,i.Readable);var c=a.ResponseTargets={};["QueryResult","Records","SingleRecord","Count"].forEach(function(e){c[e]=e}),a.prototype.run=a.prototype.exec=a.prototype.execute=function(e,t){var r=this,n=this._conn._logger,i=this._deferred;if(this._executed)return i.reject(new Error("re-executing already executed query")),this;if(this._finished)return i.reject(new Error("executing already closed query")),this;"function"==typeof e&&(t=e,e={}),e={headers:(e=e||{}).headers||r._options.headers,responseTarget:e.responseTarget||r._options.responseTarget,autoFetch:e.autoFetch||r._options.autoFetch,maxFetch:e.maxFetch||r._options.maxFetch,scanAll:e.scanAll||r._options.scanAll};var o=function(e,r){if("function"==typeof t)try{r=t(e,r),e=null}catch(t){e=t}e?i.reject(e):i.resolve(r)};return this.once("response",function(e){o(null,e)}),this.once("error",function(e){o(e)}),this.once("fetch",function(){if(e.responseTarget===c.Records&&(r._chaining||t)){n.debug("--- collecting all fetched records ---");var i=[],o=function(e){i.push(e)};r.on("record",o),r.once("end",function(){r.removeListener("record",o),r.emit("response",i,r)})}}),this._executed=!0,n.debug(">>> Query start >>>"),this._execute(e).then(function(){n.debug("*** Query finished ***")}).fail(function(e){n.debug("--- Query error ---"),r.emit("error",e)}),this},a.prototype._execute=function(e){var t=this,r=this._conn._logger,n=e.responseTarget,i=e.autoFetch,s=e.maxFetch,a=e.scanAll;return o.resolve(t._locator?t._conn._baseUrl()+"/query/"+t._locator:t.toSOQL().then(function(e){return t.totalFetched=0,r.debug("SOQL = "+e),t._conn._baseUrl()+"/"+(a?"queryAll":"query")+"?q="+encodeURIComponent(e)})).then(function(r){return t._conn.request({method:"GET",url:r,headers:e.headers})}).then(function(r){var o;switch(t.emit("fetch"),t.totalSize=r.totalSize,n){case c.SingleRecord:o=r.records&&r.records.length>0?r.records[0]:null;break;case c.Records:o=r.records;break;case c.Count:o=r.totalSize;break;default:o=r}n!==c.Records&&t.emit("response",o,t);for(var a=r.records&&r.records.length||0,u=0;u<a;u++){if(t.totalFetched>=s){t._finished=!0;break}var l=r.records[u];t.push(l),t.emit("record",l,t.totalFetched++,t)}return r.nextRecordsUrl&&(t._locator=r.nextRecordsUrl.split("/").pop()),t._finished=t._finished||r.done||!i,t._finished?t.push(null):t._execute(e),o})},a.prototype.on=function(e,t){if("record"===e){var r=this;this.on("readable",function(){for(;null!==r.read(););})}return a.super_.prototype.on.call(this,e,t)},a.prototype.addListener=a.prototype.on,a.prototype._expandFields=function(){if(this._soql)return o.reject(new Error("Cannot expand fields for the query which has already built SOQL."));var e=this,t=e._conn._logger,r=this._conn,n=this._config.table,i=this._config.fields||[];t.debug("_expandFields: table = "+n+", fields = "+i.join(", "));var s=[],a=[];return i.forEach(function(e){s.push(function e(r,n){t.debug('expanding field "'+n+'" in "'+r+'"...');var i=n.split(".");return"*"===i[i.length-1]?c(r).then(function(n){if(t.debug("table "+r+"has been described"),i.length>1){var o=i.shift(),s=n.fields.find(function(e){return e.relationshipName&&e.relationshipName.toUpperCase()===o.toUpperCase()});if(s){var a=1===s.referenceTo.length?s.referenceTo[0]:"Name";return e(a,i.join(".")).then(function(e){return e.map(e=>o+"."+e)})}return[]}return n.fields.map(e=>e.name)}):o.resolve([n])}(n,e))}),(e._children||[]).forEach(function(e){a.push(e._expandFields())}),o.all([o.resolve(e._parent?function(r){var n=e._parent._config.table;return t.debug('finding table for relation "'+r+'" in "'+n+'"...'),c(n).then(function(e){var t=r.toUpperCase(),n=e.childRelationships.find(function(e){return(e.relationshipName||"").toUpperCase()===t});return n?n.childSObject:o.reject(new Error("No child relationship found: "+r))})}(n):n).then(function(t){return o.all(s).then(function(t){e._config.fields=t.flat()})}),o.all(a)]);function c(e){t.debug("describe cache: "+e);var n=o.defer();return r.describe$(e,function(e,r){t.debug("... done."),e?n.reject(e):n.resolve(r)}),n.promise}},a.prototype.toSOQL=function(e){var t=this;return o.resolve(t._soql||t._expandFields().then(function(){return s.createSOQL(t._config)})).thenCall(e)};a.prototype.then=function(e,t){return this._chaining=!0,this._finished||this._executed||this.execute(),this._deferred.promise.then.apply(this._deferred.promise,arguments)},a.prototype.thenCall=function(e){return"function"==typeof e&&this.then(function(r){t.nextTick(function(){e(null,r)})},function(r){t.nextTick(function(){e(r)})}),this};var u=function(e,t,r){u.super_.call(this,e,r),this._parent=t};n(u,a),u.prototype.include=function(){throw new Error("Not allowed to include another subquery in subquery.")},u.prototype.end=function(){return this._parent},u.prototype.run=u.prototype.exec=u.prototype.execute=function(){return this._parent.execute.apply(this._parent,arguments)}}).call(this,r(5))},function(e,t,r){"use strict";var n=e.exports=function(e){this._literal=e};function i(e){return(e<10?"0":"")+e}n.prototype.toString=n.prototype.toJSON=function(){return this._literal},n.toDateLiteral=function(e){"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=n.parseDate(e));var t=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),s=[t,i(r),i(o)].join("-");return new n(s)},n.toDateTimeLiteral=function(e){"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=n.parseDate(e));var t=e.getUTCFullYear(),r=e.getUTCMonth()+1,o=e.getUTCDate(),s=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds(),u=[t,i(r),i(o)].join("-")+"T"+[i(s),i(a),i(c)].join(":")+"Z";return new n(u)},n.parseDate=function(e){var t=new Date,r=e.match(/^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/);if(r){if(t=new Date(0),r[4]){if(t.setUTCFullYear(parseInt(r[1],10)),t.setUTCDate(parseInt(r[3],10)),t.setUTCMonth(parseInt(r[2],10)-1),t.setUTCHours(parseInt(r[5],10)),t.setUTCMinutes(parseInt(r[6],10)),t.setUTCSeconds(parseInt(r[7],10)),t.setUTCMilliseconds(parseInt(r[9]||"0",10)),r[10]&&"Z"!==r[10]){var n=60*parseInt(r[12],10)+parseInt(r[13],10);t.setTime(("+"===r[11]?-1:1)*n*60*1e3+t.getTime())}}else t.setFullYear(parseInt(r[1],10)),t.setDate(parseInt(r[3],10)),t.setMonth(parseInt(r[2],10)-1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);return t}throw new Error("Invalid date format is specified : "+e)};var o={YESTERDAY:1,TODAY:1,TOMORROW:1,LAST_WEEK:1,THIS_WEEK:1,NEXT_WEEK:1,LAST_MONTH:1,THIS_MONTH:1,NEXT_MONTH:1,LAST_90_DAYS:1,NEXT_90_DAYS:1,LAST_N_DAYS:2,NEXT_N_DAYS:2,NEXT_N_WEEKS:2,LAST_N_WEEKS:2,NEXT_N_MONTHS:2,LAST_N_MONTHS:2,THIS_QUARTER:1,LAST_QUARTER:1,NEXT_QUARTER:1,NEXT_N_QUARTERS:2,LAST_N_QUARTERS:2,THIS_YEAR:1,LAST_YEAR:1,NEXT_YEAR:1,NEXT_N_YEARS:2,LAST_N_YEARS:2,THIS_FISCAL_QUARTER:1,LAST_FISCAL_QUARTER:1,NEXT_FISCAL_QUARTER:1,NEXT_N_FISCAL_QUARTERS:2,LAST_N_FISCAL_QUARTERS:2,THIS_FISCAL_YEAR:1,LAST_FISCAL_YEAR:1,NEXT_FISCAL_YEAR:1,NEXT_N_FISCAL_YEARS:2,LAST_N_FISCAL_YEARS:2};for(var s in o){var a=o[s];n[s]=1===a?new n(s):c(s)}function c(e){return function(t){return new n(e+":"+t)}}},function(e,t,r){"use strict";var n=r(7),i=function(){this.fetching=!1};r(3)(i,n.EventEmitter),i.prototype.get=function(e){if(!e)return this._value;this.once("value",e),void 0!==this._value&&this.emit("value",this._value)},i.prototype.set=function(e){this._value=e,this.emit("value",this._value)},i.prototype.clear=function(){this.fetching=!1,delete this._value};var o=function(){this._entries={}};function s(e,t){let r=[],n="";return(t=Array.prototype.slice.apply(t)).forEach(function(e){r.push(JSON.stringify(e))}),e+"("+(n=r.join(","))+")"}o.prototype.get=function(e){if(e&&this._entries[e])return this._entries[e];var t=new i;return this._entries[e]=t,t},o.prototype.clear=function(e){for(var t in this._entries)e&&0!==t.indexOf(e)||this._entries[t].clear()},o.prototype.makeResponseCacheable=function(e,t,r){var n=this;return r=r||{},function(){var i=Array.prototype.slice.apply(arguments),o=i.pop();"function"!=typeof o&&(i.push(o),o=null);var a,c,u="string"==typeof r.key||r.key instanceof String?r.key:"function"==typeof r.key?r.key.apply(t,i):s(r.namespace,i),l=n.get(u);l.fetching=!0,o&&i.push(function(e,t){l.set({error:e,result:t}),o(e,t)});try{a=e.apply(t||this,i)}catch(e){c=e}if(a&&"function"==typeof a.then)return o?a:a.then(function(e){return l.set({error:void 0,result:e}),e},function(e){throw l.set({error:e,result:void 0}),e});if(l.set({error:c,result:a}),c)throw c;return a}},o.prototype.makeCacheable=function(e,t,r){var n=this;r=r||{};var i=function(){var i=Array.prototype.slice.apply(arguments),o=i.pop();"function"!=typeof o&&i.push(o);var a="string"==typeof r.key?r.key:"function"==typeof r.key?r.key.apply(t,i):s(r.namespace,i),c=n.get(a);if("function"!=typeof o){var u=c.get();if(!u)throw new Error("Function call result is not cached yet.");if(u.error)throw u.error;return u.result}c.get(function(e){o(e.error,e.result)}),c.fetching||(c.fetching=!0,i.push(function(e,t){c.set({error:e,result:t})}),e.apply(t||this,i))};return i.clear=function(){var e="string"==typeof r.key?r.key:"function"==typeof r.key?r.key.apply(t,arguments):s(r.namespace,arguments);n.clear(e)},i},e.exports=o},function(e,t,r){"use strict";var n=r(3),i=r(7),o=r(11),s=function(e,t){t=t||{},this._conn=e,this.on("resume",function(t){e.emit("resume",t)}),this._responseType=t.responseType,this._transport=t.transport||e._transport,this._noContentResponse=t.noContentResponse};function a(e){return JSON.parse(e)}function c(e){return e}n(s,i.EventEmitter),s.prototype.request=function(e,t){var r=this,n=this._conn,i=n._logger,s=this.getRefreshDelegate(),a=n.instanceUrl,c=o.defer(),u=function(t){t?c.reject(t):(a!==n.instanceUrl&&(e.url=e.url.replace(a,n.instanceUrl)),r.request(e).then(function(e){c.resolve(e)},function(e){c.reject(e)}))};if(s&&s._refreshing)return s.once("resume",u),c.promise.thenCall(t);r.beforeSend(e),r.emit("request",e),i.debug("<request> method="+e.method+", url="+e.url);var l=Date.now();return this._transport.httpRequest(e).then(function(t){var n=Date.now();if(i.debug("elappsed time : "+(n-l)+"msec"),i.debug("<response> status="+t.statusCode+", url="+e.url),r.emit("response",t),r.isSessionExpired(t)&&s)return s.refresh(l,u),c.promise;if(r.isErrorResponse(t))throw r.getError(t);return r.getResponseBody(t)},function(e){var t=Date.now();throw i.debug("elappsed time : "+(t-l)+"msec"),i.error(e),e}).thenCall(t)},s.prototype.getRefreshDelegate=function(){return this._conn._refreshDelegate},s.prototype.beforeSend=function(e){if(e.headers=e.headers||{},this._conn.accessToken&&(e.headers.Authorization="Bearer "+this._conn.accessToken),this._conn.callOptions){var t=[];for(var r in this._conn.callOptions)t.push(r+"="+this._conn.callOptions[r]);e.headers["Sforce-Call-Options"]=t.join(", ")}},s.prototype.getResponseContentType=function(e){return this._responseType||e.headers&&e.headers["content-type"]},s.prototype.parseResponseBody=function(e){var t=this.getResponseContentType(e),r=/^application\/json(;|$)/.test(t)?a:c;try{return r(e.body)}catch(t){return e.body}},s.prototype.getResponseBody=function(e){if(204===e.statusCode)return this._noContentResponse;var t,r=this.parseResponseBody(e);if(this.hasErrorInResponseBody(r))throw t=this.getError(e,r);if(300===e.statusCode)throw(t=new Error("Multiple records found")).name="MULTIPLE_CHOICES",t.content=r,t;return r},s.prototype.isSessionExpired=function(e){return 401===e.statusCode},s.prototype.isErrorResponse=function(e){return e.statusCode>=400},s.prototype.hasErrorInResponseBody=function(e){return!1},s.prototype.parseError=function(e){var t=e;return Array.isArray(t)?t[0]:t},s.prototype.getError=function(e,t){var r;try{r=this.parseError(t||this.parseResponseBody(e))}catch(e){}r="object"==typeof r&&"string"==typeof r.message?r:{errorCode:"ERROR_HTTP_"+e.statusCode,message:e.body};var n=new Error(r.message);for(var i in n.name=r.errorCode,r)n[i]=r[i];return n};var u=function(e,t){this._conn=e,this._refreshFn=t,this._refreshing=!1};n(u,i.EventEmitter),u.prototype.refresh=function(e,t){if(this._lastRefreshedAt>e)return t();var r=this,n=this._conn,i=n._logger;return r.once("resume",t),r._refreshing?void 0:(i.debug("<refresh token>"),r._refreshing=!0,r._refreshFn(n,function(e,t,o){e||(i.debug("Connection refresh completed."),n.accessToken=t,n.emit("refresh",t,o)),r._lastRefreshedAt=Date.now(),r._refreshing=!1,r.emit("resume",e)}))},s.SessionRefreshDelegate=u,e.exports=s},,function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),c=n[r];r<o;c=n[++r])m(c)||!_(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var o,s={};function a(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),l(n,e,n.depth)}function c(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&P(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return g(i)||(i=l(e,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),w(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(r);if(0===s.length){if(P(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(I(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return d(r)}var u,_="",S=!1,O=["{","}"];(h(r)&&(S=!0,O=["[","]"]),P(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),I(r)&&(_=" "+Date.prototype.toUTCString.call(r)),w(r)&&(_=" "+d(r)),0!==s.length||S&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=S?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)x(t,String(s))?o.push(p(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,r,n,i,!0))}),o}(e,r,n,a,s):s.map(function(t){return p(e,r,n,a,t,S)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,_,O)):O[0]+_+O[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),x(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(r)?l(e,c.value,null):l(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function I(e){return _(e)&&"[object Date]"===S(e)}function w(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function P(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(v(o)&&(o=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var n=e.pid;s[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else s[r]=function(){};return s[r]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=_,t.isDate=I,t.isError=w,t.isFunction=P,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(52);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r(53),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var E="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(E&&e[E]){var t;if("function"!=typeof(t=e[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),E&&Object.defineProperty(t,E,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=E,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(t){e.nextTick(s,null,t)},function(t){e.nextTick(C,t,s)})}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(5))},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryStringEncode=function(e,t=!0,r){let n;return(n=Object.entries(e).filter(([e])=>!r||0===r.length||r.indexOf(e)>=0).map(([e,t])=>`${e}=${encodeURIComponent(String(t))}`).join("&"))?(t&&(n=`?${n}`),n):""}},function(e,t,r){"use strict";e.exports="1.9.2"},function(e,t,r){"use strict";(function(t){var n=r(7),i=r(18),o=(r(11),r(37)),s=r(23),a=r(26),c=(r(45),r(29)),u=r(24),l=r(28),d="https://login.salesforce.com",p="",h="42.0",f=e.exports=function(e){e=e||{},this._logger=new o(e.logLevel);var t=e.oauth2||{loginUrl:e.loginUrl,clientId:e.clientId,clientSecret:e.clientSecret,redirectUri:e.redirectUri,proxyUrl:e.proxyUrl,httpProxy:e.httpProxy};this.oauth2=t=t instanceof s?t:new s(t),this.loginUrl=e.loginUrl||t.loginUrl||d,this.version=e.version||h,this.maxRequest=e.maxRequest||this.maxRequest||10,e.proxyUrl?this._transport=new u.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new u.HttpProxyTransport(e.httpProxy):this._transport=new u,this.callOptions=e.callOptions,r(22).emit("connection:new",this),this.cache=new l;var n=e.refreshFn;!n&&this.oauth2.clientId&&(n=m),n&&(this._refreshDelegate=new c.SessionRefreshDelegate(this,n));var i={key:function(e){return e?"describe."+e:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,i),this.describe=this.cache.makeResponseCacheable(this.describe,this,i),this.describeSObject$=this.describe$,this.describeSObject=this.describe,i={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,i),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,i),this.initialize(e)};function m(e,t){e.oauth2.refreshToken(e.refreshToken,function(r,n){if(r)return t(r);var i=y(n.id);e.initialize({instanceUrl:n.instance_url,accessToken:n.access_token,userInfo:i}),t(null,n.access_token,n)})}function y(e){var t=e.split("/");return{id:t.pop(),organizationId:t.pop(),url:e}}function g(e){return e&&String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}i(f,n.EventEmitter),f.prototype.initialize=function(e){if(!e.instanceUrl&&e.serverUrl&&(e.instanceUrl=e.serverUrl.split("/").slice(0,3).join("/")),this.instanceUrl=e.instanceUrl||e.serverUrl||this.instanceUrl||p,this.accessToken=e.sessionId||e.accessToken||this.accessToken,this.refreshToken=e.refreshToken||this.refreshToken,this.refreshToken&&!this._refreshDelegate)throw new Error("Refresh token is specified without oauth2 client information or refresh function");this.signedRequest=e.signedRequest&&function(e){if("string"==typeof e){if("{"===e[0])return JSON.parse(e);var r=e.split(".").pop(),n=t.from(r,"base64").toString("utf-8");return JSON.parse(n)}return e}(e.signedRequest),this.signedRequest&&(this.accessToken=this.signedRequest.client.oauthToken,u.CanvasTransport.supported&&(this._transport=new u.CanvasTransport(this.signedRequest))),e.userInfo&&(this.userInfo=e.userInfo),this.limitInfo={},this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",function(e){e.result&&e.result.sobjects.map(e=>e.name).forEach(this.sobject,this)}.bind(this)),this.tooling&&this.tooling.initialize(),this._sessionType=e.sessionId?"soap":"oauth2"},f.prototype._baseUrl=function(){return[this.instanceUrl,"services/data","v"+this.version].join("/")},f.prototype._normalizeUrl=function(e){return"/"===e[0]?0===e.indexOf("/services/")?this.instanceUrl+e:this._baseUrl()+e:e},f.prototype.request=function(e,t,r){"function"==typeof t&&(r=t,t=null),t=t||{};var n=this;"string"==typeof e&&(e={method:"GET",url:e}),e.url=this._normalizeUrl(e.url);var i=new c(this,t);return i.on("response",function(e){if(e.headers&&e.headers["sforce-limit-info"]){var t=e.headers["sforce-limit-info"].match(/api\-usage=(\d+)\/(\d+)/);t&&(n.limitInfo={apiUsage:{used:parseInt(t[1],10),limit:parseInt(t[2],10)}})}}),i.request(e).thenCall(r)},f.prototype.query=function(e,t,r){"function"==typeof t&&(r=t,t=void 0);var n=new a(this,e,t);return r&&n.run(r),n},f.prototype.search=function(e,t){var r=this._baseUrl()+"/search?q="+encodeURIComponent(e);return this.request(r).thenCall(t)},f.prototype.login=function(e,t,r){return this._refreshDelegate=new c.SessionRefreshDelegate(this,function(e,t){return function(r,n){r.login(e,t,function(e){if(e)return n(e);n(null,r.accessToken)})}}(e,t)),this.oauth2&&this.oauth2.clientId&&this.oauth2.clientSecret?this.loginByOAuth2(e,t,r):this.loginBySoap(e,t,r)},f.prototype.loginByOAuth2=function(e,t,r){var n=this,i=this._logger;return this.oauth2.authenticate(e,t).then(function(e){var t=y(e.id);return n.initialize({instanceUrl:e.instance_url,accessToken:e.access_token,userInfo:t}),i.debug("<login> completed. user id = "+t.id+", org id = "+t.organizationId),t}).thenCall(r)},f.prototype.loginBySoap=function(e,t,r){var n=this,i=this._logger,o=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header/>","<se:Body>",'<login xmlns="urn:partner.soap.sforce.com">',"<username>"+g(e)+"</username>","<password>"+g(t)+"</password>","</login>","</se:Body>","</se:Envelope>"].join(""),s=[this.loginUrl,"services/Soap/u",this.version].join("/");return this._transport.httpRequest({method:"POST",url:s,body:o,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(e){var t;if(e.statusCode>=400){var r=(t=e.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&t[1];throw new Error(r||e.body)}i.debug("SOAP response = "+e.body);var o=(t=e.body.match(/<serverUrl>([^<]+)<\/serverUrl>/))&&t[1],a=(t=e.body.match(/<sessionId>([^<]+)<\/sessionId>/))&&t[1],c=(t=e.body.match(/<userId>([^<]+)<\/userId>/))&&t[1],u=(t=e.body.match(/<organizationId>([^<]+)<\/organizationId>/))&&t[1],l=s.split("/").slice(0,3).join("/"),d={id:c,organizationId:u,url:l+="/id/"+u+"/"+c};return n.initialize({serverUrl:o.split("/").slice(0,3).join("/"),sessionId:a,userInfo:d}),i.debug("<login> completed. user id = "+c+", org id = "+u),d}).thenCall(r)},f.prototype.logout=function(e,t){return"function"==typeof e&&(t=e,e=!1),"oauth2"===this._sessionType?this.logoutByOAuth2(e,t):this.logoutBySoap(e,t)},f.prototype.logoutByOAuth2=function(e,t){"function"==typeof e&&(t=e,e=!1);var r=this;this._logger;return this.oauth2.revokeToken(e?this.refreshToken:this.accessToken).then(function(){r.accessToken=null,r.userInfo=null,r.refreshToken=null,r.instanceUrl=null,r.cache.clear()}).thenCall(t)},f.prototype.logoutBySoap=function(e,t){"function"==typeof e&&(t=e,e=!1);var r=this,n=this._logger,i=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header>",'<SessionHeader xmlns="urn:partner.soap.sforce.com">',"<sessionId>"+g(e?this.refreshToken:this.accessToken)+"</sessionId>","</SessionHeader>","</se:Header>","<se:Body>",'<logout xmlns="urn:partner.soap.sforce.com"/>',"</se:Body>","</se:Envelope>"].join("");return this._transport.httpRequest({method:"POST",url:[this.instanceUrl,"services/Soap/u",this.version].join("/"),body:i,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(e){if(n.debug("SOAP statusCode = "+e.statusCode+", response = "+e.body),e.statusCode>=400){var t=e.body.match(/<faultstring>([^<]+)<\/faultstring>/),i=t&&t[1];throw new Error(i||e.body)}r.accessToken=null,r.userInfo=null,r.refreshToken=null,r.instanceUrl=null,r.cache.clear()}).thenCall(t)}}).call(this,r(17).Buffer)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=e.exports=function(e){"string"==typeof e&&(e=i[e]),e||(e=i.INFO),this._logLevel=e},i=n.LogLevels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};for(var o in n.prototype.log=function(e,t){this._logLevel<=e&&(e<i.ERROR?console.log(t):console.error(t))},i)n.prototype[o.toLowerCase()]=s(i[o]);function s(e){return function(t){this.log(e,t)}}},function(e,t,r){"use strict";(function(t,n){var i=r(20);e.exports=b;var o,s=r(36);b.ReadableState=v;r(7).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=r(39),u=r(25).Buffer,l=t.Uint8Array||function(){};var d=Object.create(r(14));d.inherits=r(3);var p=r(67),h=void 0;h=p&&p.debuglog?p.debuglog("stream"):function(){};var f,m=r(68),y=r(40);d.inherits(b,c);var g=["error","close","destroy","pause","resume"];function v(e,t){o=o||r(12),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(42).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||r(12),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}(e,s)):(i||(o=function(e,t){var r;(function(e){return u.isBuffer(e)||e instanceof l})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):I(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?I(e,s,t,!1):A(e,s)):I(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),A(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return f||(f=r(42).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var w=8388608;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(O,e):O(e))}function O(e){h("emit readable"),e.emit("readable"),j(e)}function A(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(x,e,t))}function x(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function E(e){h("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):S(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&R(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&R(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:b;function u(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",d),e.removeListener("error",y),e.removeListener("unpipe",u),r.removeListener("end",l),r.removeListener("end",b),r.removeListener("data",m),p=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function l(){h("onend"),e.end()}o.endEmitted?i.nextTick(c):r.once("end",c),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",d);var p=!1;var f=!1;function m(t){h("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==M(o.pipes,e))&&!p&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function y(t){h("onerror",t),b(),e.removeListener("error",y),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),b()}function v(){h("onfinish"),e.removeListener("close",g),b()}function b(){h("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",y),e.once("close",g),e.once("finish",v),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=M(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):i.nextTick(E,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=N}).call(this,r(8),r(5))},function(e,t,r){e.exports=r(7).EventEmitter},function(e,t,r){"use strict";var n=r(20);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";(function(t,n,i){var o=r(20);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var a,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;v.WritableState=g;var u=Object.create(r(14));u.inherits=r(3);var l={deprecate:r(72)},d=r(39),p=r(25).Buffer,h=i.Uint8Array||function(){};var f,m=r(40);function y(){}function g(e,t){a=a||r(12),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,i);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),n?c(_,e,r,s,i):_(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(e){if(a=a||r(12),!(f.call(v,this)||this instanceof a))return new v(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function I(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function S(e,t){var r=w(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(P,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(v,d),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===v&&(e&&e._writableState instanceof g)}})):f=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&function(e){return p.isBuffer(e)||e instanceof h}(e);return s&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=y),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(n,s),i=!1),i}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,n,i,o);return c}(this,n,s,e,t,r)),i},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||I(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(5),r(70).setImmediate,r(8))},function(e,t,r){"use strict";var n=r(73).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=o;var n=r(12),i=Object.create(r(14));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){a(e,t,r)}):a(this,null,null)}function a(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(3),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";var n=r(27);function i(e){var t=["SELECT ",function(e,t){let r=[];return(t=t||[]).forEach(e=>{r.push("("+i(cquery)+")")}),(e||["Id"]).concat(r).join(", ")}(e.fields,e.includes)," FROM ",e.table].join(""),r=function e(t,r,n){if("string"==typeof t)return t;t=t||[];r=r||"AND";n=n||0;t=a(t)?t.map(function(e){var t=[];for(var r in e)t.push({key:r,value:e[r]});return t.length>1?t:t[0]}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});t=t.map(function(i){var a,c=n+1;switch(i.key){case"$or":case"$and":case"$not":return"NOT"!==r&&1===t.length&&(c=n),a="$or"===i.key?"OR":"$and"===i.key?"AND":"NOT",e(i.value,a,c);default:return function(e,t){var r="$eq";if(Array.isArray(t))r="$in";else if("object"==typeof t){for(var n in t)if("$"===n[0]){r=n,t=t[n];break}}var i=o[r];if(!i||void 0===t)return null;var a=s(t);if(void 0===a)return null;switch(i){case"NOT LIKE":return"("+["NOT",e,"LIKE",a].join(" ")+")";case"EXISTS":return[e,t?"!=":"=","null"].join(" ");default:return[e,i,a].join(" ")}}(i.key,i.value)}}).filter(function(e){return e});var i;return"NOT"===r?((i=n>0)?"(":"")+"NOT "+t[0]+(i?")":""):((i=n>0&&t.length>1)?"(":"")+t.join(" "+r+" ")+(i?")":"")}(e.conditions);r&&(t+=" WHERE "+r);var n=function(e){if("string"==typeof(e=e||[])){if(/,|\s+(asc|desc)\s*$/.test(e))return e;e=e.split(/\s+/).map(function(e){var t="ASC",r=e[0];return"-"===r?(t="DESC",e=e.substring(1)):"+"===r&&(e=e.substring(1)),[e,t]})}else a(e)||(e=Object.keys(e).map(function(t){var r=e[t];return[t,r]}));return e.map(function(e){var t=e[0],r=e[1];switch(String(r)){case"DESC":case"desc":case"descending":case"-":case"-1":r="DESC";break;default:r="ASC"}return t+" "+r}).join(", ")}(e.sort);return n&&(t+=" ORDER BY "+n),e.limit&&(t+=" LIMIT "+e.limit),e.offset&&(t+=" OFFSET "+e.offset),t}var o={"=":"=",$eq:"=","!=":"!=",$ne:"!=",">":">",$gt:">","<":"<",$lt:"<",">=":">=",$gte:">=","<=":"<=",$lte:"<=",$like:"LIKE",$nlike:"NOT LIKE",$in:"IN",$nin:"NOT IN",$includes:"INCLUDES",$excludes:"EXCLUDES",$exists:"EXISTS"};function s(e){return a(e)?e.length>0?"("+e.map(s).join(", ")+")":void 0:e instanceof n?e.toString():"string"==typeof e?"'"+function(e){return String(e||"").replace(/'/g,"\\'")}(e)+"'":"number"==typeof e?e.toString():null===e?"null":e}function a(e){return"object"==typeof e&&"function"==typeof e.pop}t.createSOQL=i},function(e,t,r){"use strict";var n=r(46),i=r(26),o=(r(28),e.exports=function(e,t){this._conn=e,this.type=t;var r={key:"describe."+this.type};this.describe$=e.cache.makeCacheable(this.describe,this,r),this.describe=e.cache.makeResponseCacheable(this.describe,this,r),r={key:"layouts."+this.type},this.layouts$=e.cache.makeCacheable(this.layouts,this,r),this.layouts=e.cache.makeResponseCacheable(this.layouts,this,r),r={key:"compactLayouts."+this.type},this.compactLayouts$=e.cache.makeCacheable(this.compactLayouts,this,r),this.compactLayouts=e.cache.makeResponseCacheable(this.compactLayouts,this,r),r={key:"approvalLayouts."+this.type},this.approvalLayouts$=e.cache.makeCacheable(this.approvalLayouts,this,r),this.approvalLayouts=e.cache.makeResponseCacheable(this.approvalLayouts,this,r)});o.prototype.insert=o.prototype.create=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.create(this.type,e,t,r)},o.prototype.retrieve=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.retrieve(this.type,e,t,r)},o.prototype.update=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.update(this.type,e,t,r)},o.prototype.upsert=function(e,t,r,n){return"function"==typeof r&&(n=r,r={}),this._conn.upsert(this.type,e,t,r,n)},o.prototype.delete=o.prototype.del=o.prototype.destroy=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.destroy(this.type,e,t,r)},o.prototype.describe=function(e){return this._conn.describe(this.type,e)},o.prototype.record=function(e){return new n(this._conn,this.type,e)},o.prototype.find=function(e,t,r,n){"function"==typeof e?(n=e,e={},t=null,r=null):"function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null);var o={fields:t,includes:(r=r||{}).includes,table:this.type,conditions:e,limit:r.limit,sort:r.sort,offset:r.offset||r.skip},s=new i(this._conn,o,r);return s.setResponseTarget(i.ResponseTargets.Records),n&&s.run(n),s},o.prototype.findOne=function(e,t,r,n){"function"==typeof e?(n=e,e={},t=null,r=null):"function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null),r=Object.assign(r||{},{limit:1});var o=this.find(e,t,r);return o.setResponseTarget(i.ResponseTargets.SingleRecord),n&&o.run(n),o},o.prototype.select=function(e,t){return this.find(null,e,null,t)},o.prototype.count=function(e,t){"function"==typeof e&&(t=e,e={});var r=this.find(e,{"count()":!0});return r.setResponseTarget("Count"),t&&r.run(t),r},o.prototype.recent=function(e){return this._conn.recent(this.type,e)},o.prototype.updated=function(e,t,r){return this._conn.updated(this.type,e,t,r)},o.prototype.deleted=function(e,t,r){return this._conn.deleted(this.type,e,t,r)},o.prototype.layouts=function(e,t){"function"==typeof e&&(t=e,e=null);var r="/sobjects/"+this.type+"/describe/"+(e?"namedLayouts/"+e:"layouts");return this._conn.request(r,t)},o.prototype.compactLayouts=function(e){var t="/sobjects/"+this.type+"/describe/compactLayouts";return this._conn.request(t,e)},o.prototype.approvalLayouts=function(e){var t="/sobjects/"+this.type+"/describe/approvalLayouts";return this._conn.request(t,e)},o.prototype.listviews=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews";return this._conn.request(t,e)},o.prototype.listview=function(e){return new s(this._conn,this.type,e)};var s=function(e,t,r){this._conn=e,this.type=t,this.id=r};s.prototype.results=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/results";return this._conn.request(t,e)},s.prototype.describe=function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var r=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/describe";return this._conn.request({method:"GET",url:r,headers:e.headers},t)},s.prototype.explain=function(e){var t="/query/?explain="+this.id;return this._conn.request(t,e)}},function(e,t,r){"use strict";var n=e.exports=function(e,t,r){this._conn=e,this.type=t,this.id=r};n.prototype.retrieve=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.retrieve(this.type,this.id,e,t)},n.prototype.update=function(e,t,r){return"function"==typeof t&&(r=t,t={}),e.Id=this.id,this._conn.update(this.type,e,t,r)},n.prototype.delete=n.prototype.del=n.prototype.destroy=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.destroy(this.type,this.id,e,t)},n.prototype.blob=function(e){var t=[this._conn._baseUrl(),"sobjects",this.type,this.id,e].join("/");return this._conn.request(t).stream()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31),i=r(1),o=r(9);t.BaseSDK=class{constructor(){this.sdkVersion="1.0.0"}static extend(e){if(!n.isObject(e))throw new Error("Extend method expects an object with functions as properties");Object.keys(e).filter(t=>n.isFunction(e[t])).forEach(t=>{this.prototype.hasOwnProperty(t)?i.Logger.log(`SDK extend method failed to extend ${t} as it already exists`):this.prototype[t]=e[t]})}static override(e){if(!n.isObject(e))throw new Error("Override method expects an object with properties");Object.assign(this.prototype,e)}version(){return this.sdkVersion}get namespace(){return o.SalesForceNamespace.namespace}set namespace(e){o.SalesForceNamespace.namespace=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"}(t.HttpMethod||(t.HttpMethod={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.RestInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.url=e.url,this.options=e.options}digest(){return super.digestData(this.url,JSON.stringify(this.options))}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.debug=0]="debug",e[e.log=1]="log",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.none=5]="none"}(n=t.LogLevel||(t.LogLevel={}));class i{static debug(...e){i.emitLogMessage("debug",e)}static info(...e){i.emitLogMessage("info",e)}static log(...e){i.emitLogMessage("log",e)}static warn(...e){i.emitLogMessage("warn",e)}static error(...e){i.emitLogMessage("error",e)}static getLogLevel(){return this.debugLevel}static setLogLevel(e){if(!(e in n))throw new Error("Invalid value `value` assigned to `logLevel`");this.debugLevel=e}static emitLogMessage(e,t){n[e]<i.debugLevel||console[e](...t)}}t.Logger=i,i.debugLevel=n.info},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SDKConfig=class{}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var n=r(22),i=function(e){this._conn=e};i.prototype._baseUrl=function(){return this._conn.instanceUrl+"/services/apexrest"},i.prototype._createRequestParams=function(e,t,r,n){var i={method:e,url:this._baseUrl()+t},o={};return n&&"object"==typeof n.headers&&(o=n.headers),/^(GET|DELETE)$/i.test(e)||(o["Content-Type"]="application/json"),i.headers=o,r&&(i.body=JSON.stringify(r)),i},i.prototype.get=function(e,t,r){return"function"==typeof t&&(r=t,t=void 0),this._conn.request(this._createRequestParams("GET",e,void 0,t)).thenCall(r)},i.prototype.post=function(e,t,r,n){"function"==typeof t&&(n=t,t=void 0,r=void 0),"function"==typeof r&&(n=r,r=void 0);var i=this._createRequestParams("POST",e,t,r);return this._conn.request(i).thenCall(n)},i.prototype.put=function(e,t,r,n){"function"==typeof t&&(n=t,t=void 0,r=void 0),"function"==typeof r&&(n=r,r=void 0);var i=this._createRequestParams("PUT",e,t,r);return this._conn.request(i).thenCall(n)},i.prototype.patch=function(e,t,r,n){"function"==typeof t&&(n=t,t=void 0,r=void 0),"function"==typeof r&&(n=r,r=void 0);var i=this._createRequestParams("PATCH",e,t,r);return this._conn.request(i).thenCall(n)},i.prototype.del=i.prototype.delete=function(e,t,r){return"function"==typeof t&&(r=t,t=void 0),this._conn.request(this._createRequestParams("DELETE",e,void 0,t)).thenCall(r)},n.on("connection:new",function(e){e.apex=new i(e)}),e.exports=i},,function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(4);class s{constructor(e=!1,t=s.DEFAULT_CACHE_EXPIRATION,r=o.default.defaultRetryCount,n=o.default.defaultTimeout,a=!1,c=i.CacheType.INDEXEDDB){this.cacheable=e,this.cacheExpiration=t,this.retryCount=r,this.timeoutInMillis=n,this.reload=a,this.cacheType=c}digestData(...e){return n(this,void 0,void 0,function*(){const t=(new TextEncoder).encode(e.join(","));return crypto.subtle.digest("SHA-256",t).then(e=>this.hexString(e))})}hexString(e){return[...new Uint8Array(e)].map(e=>{return e.toString(16).padStart(2,"0")}).join("")}}t.BaseDataSourceInput=s,s.DEFAULT_CACHE_EXPIRATION=new Date((new Date).getTime()+3e5)},,function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),s=n[0],a=n[1],c=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,d=a>0?s-4:s;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(d(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+d],d+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=u}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+h]=255&s,h+=f,s/=256,u-=8);e[r+h-f]|=128*m}},function(e,t,r){"use strict";var n=r(61);e.exports=n;var i=l(!0),o=l(!1),s=l(null),a=l(void 0),c=l(0),u=l("");function l(e){var t=new n(n._61);return t._65=1,t._55=e,t}n.resolve=function(e){if(e instanceof n)return e;if(null===e)return s;if(void 0===e)return a;if(!0===e)return i;if(!1===e)return o;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new n(t.bind(e))}catch(e){return new n(function(t,r){r(e)})}return l(e)},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,r){if(0===t.length)return e([]);var i=t.length;function o(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof n&&a.then===n.prototype.then){for(;3===a._65;)a=a._55;return 1===a._65?o(s,a._55):(2===a._65&&r(a._55),void a.then(function(e){o(s,e)},r))}var c=a.then;if("function"==typeof c)return void new n(c.bind(a)).then(function(e){o(s,e)},r)}t[s]=a,0==--i&&e(t)}for(var s=0;s<t.length;s++)o(s,t[s])})},n.reject=function(e){return new n(function(t,r){r(e)})},n.race=function(e){return new n(function(t,r){e.forEach(function(e){n.resolve(e).then(t,r)})})},n.prototype.catch=function(e){return this.then(null,e)}},function(e,t,r){"use strict";var n=r(62);function i(){}var o=null,s={};function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==i&&h(e,this)}function c(e,t){for(;3===e._65;)e=e._55;if(a._37&&a._37(e),0===e._65)return 0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t);!function(e,t){n(function(){var r=1===e._65?t.onFulfilled:t.onRejected;if(null!==r){var n=function(e,t){try{return e(t)}catch(e){return o=e,s}}(r,e._55);n===s?l(t.promise,o):u(t.promise,n)}else 1===e._65?u(t.promise,e._55):l(t.promise,e._55)})}(e,t)}function u(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=function(e){try{return e.then}catch(e){return o=e,s}}(t);if(r===s)return l(e,o);if(r===e.then&&t instanceof a)return e._65=3,e._55=t,void d(e);if("function"==typeof r)return void h(r.bind(t),e)}e._65=1,e._55=t,d(e)}function l(e,t){e._65=2,e._55=t,a._87&&a._87(e,t),d(e)}function d(e){if(1===e._40&&(c(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)c(e,e._72[t]);e._72=null}}function p(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function h(e,t){var r=!1,n=function(e,t,r){try{e(t,r)}catch(e){return o=e,s}}(e,function(e){r||(r=!0,u(t,e))},function(e){r||(r=!0,l(t,e))});r||n!==s||(r=!0,l(t,o))}e.exports=a,a._37=null,a._87=null,a._61=i,a.prototype.then=function(e,t){if(this.constructor!==a)return function(e,t,r){return new e.constructor(function(n,o){var s=new a(i);s.then(n,o),c(e,new p(t,r,s))})}(this,e,t);var r=new a(i);return c(this,new p(e,t,r)),r}},function(e,t,r){"use strict";(function(t){function r(e){i.length||(n(),!0),i[i.length]=e}e.exports=r;var n,i=[],o=0,s=1024;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>s){for(var t=0,r=i.length-o;t<r;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var c=void 0!==t?t:self,u=c.MutationObserver||c.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}n="function"==typeof u?function(e){var t=1,r=new u(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(a):l(a),r.requestFlush=n,r.makeRequestCallFromTimer=l}).call(this,r(8))},function(e,t,r){"use strict";t.decode=t.parse=r(64),t.encode=t.stringify=r(65)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,p,h,f,m=e[l].replace(a,"%20"),y=m.indexOf(r);y>=0?(d=m.substr(0,y),p=m.substr(y+1)):(d=m,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),n(s,h)?i(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(n(s))+r;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[s]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n=r(19).Duplex;e.exports=function(e,t){var r,i=new XMLHttpRequest;if(i.open(e.method,e.url),e.headers)for(var o in e.headers)i.setRequestHeader(o,e.headers[o]);i.setRequestHeader("Accept","*/*");var s=new n;s._read=function(e){r&&s.push(r.body)};var a=[],c=!1;return s._write=function(e,t,r){a.push(e.toString("buffer"===t?"binary":t)),r()},s.on("finish",function(){c||(i.send(a.join("")),c=!0)}),!e.body&&""!==e.body&&/^(put|post|patch)$/i.test(e.method)||(i.send(e.body),c=!0),i.onreadystatechange=function(){if(4===i.readyState){var e={};(function(e){var t=[];return(e.getAllResponseHeaders()||"").split(/[\r\n]+/).forEach(function(e){t.push(e.split(/\s*:/)[0].toLowerCase())}),t})(i).forEach(function(t){t&&(e[t]=i.getResponseHeader(t))}),(r={statusCode:i.status,headers:e,body:i.response||i.responseText}).statusCode||(r.statusCode=400,r.body="Access Declined"),t&&t(null,r,r.body),s.end()}},s}},function(e,t){},function(e,t,r){"use strict";var n=r(25).Buffer,i=r(69);function o(e,t,r){e.copy(t,r)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)o(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(71),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(8))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,o={},s=!1,a=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;n=function(t){var r=a.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return o[i]=s,n(i),i++},c.clearImmediate=u}function u(e){delete o[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{u(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(8),r(5))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(8))},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(17),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";e.exports=o;var n=r(43),i=Object.create(r(14));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(3),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n=r(19).Duplex;e.exports={supported:"object"==typeof Sfdc&&void 0!==Sfdc.canvas,createRequest:function(e){return function(t,r){var i,o=new n;o._read=function(e){i&&o.push(i.body)};var s=[],a=!1;function c(n){var s={client:e.client,method:t.method,data:n};if(t.headers)for(var a in s.headers={},t.headers)"content-type"===a.toLowerCase()?s.contentType=t.headers[a]:s.headers[a]=t.headers[a];s.success=function(e){var t=function(e){var t={};return e.split(/\n/).forEach(function(e){var r=e.split(/\s*:\s*/),n=r[0].toLowerCase(),i=r[1];t[n]=i}),t}(e.responseHeaders),n=e.payload;"string"==typeof n||n instanceof String||(n=JSON.stringify(n)),i={statusCode:e.status,headers:t,body:n},r&&r(null,i,i.body),o.end()},s.failure=function(e){r&&r(e)},Sfdc.canvas.client.ajax(t.url,s)}return o._write=function(e,t,r){s.push(e.toString(t)),r()},o.on("finish",function(){a||(c(s.join("")),a=!0)}),!t.body&&""!==t.body&&/^(put|post|patch)$/i.test(t.method)||(c(t.body),a=!0),o}}}},function(e,t,r){"use strict";var n=0;e.exports={supported:"undefined"!=typeof window&&"undefined"!=typeof document,createRequest:function(e,t){return e=e||"callback",t=t||1e4,function(r,i){if("GET"!==r.method.toUpperCase())return i(new Error("JSONP only supports GET request."));var o="_jsforce_jsonpCallback_"+ ++n,s=window,a=r.url;a+=a.indexOf("?")>0?"&":"?",a+=e+"="+o;var c=document.createElement("script");c.type="text/javascript",c.src=a,document.documentElement.appendChild(c);var u=setTimeout(function(){l(),i(new Error("JSONP call time out."))},t);s[o]=function(e){l(),i(null,{statusCode:200,headers:{"content-type":"application/json"},body:JSON.stringify(e)})};var l=function(){clearTimeout(u),document.documentElement.removeChild(c),delete s[o]}}}}},function(e,t,r){"use strict";var n=r(78);e.exports=function(e){"./jsforce"!==e&&"jsforce"!==e||(e="./core");var t=n[e];if(void 0===t)throw new Error("Cannot find module '"+e+"'");return t}},function(e,t,r){"use strict";e.exports={inherits:r(3),util:r(31),events:r(7),"readable-stream":r(19),"./VERSION":r(34),"./cache":r(28),"./connection":r(35),"./core":r(22),"./date":r(27),"./http-api":r(29),"./inherits":r(18),"./logger":r(37),"./oauth2":r(23),"./promise":r(11),"./query":r(26),"./record":r(46),"./soap":r(79),"./sobject":r(45),"./soql-builder":r(44),"./transport":r(24)}},function(e,t,r){"use strict";var n=r(18),i=r(29),o=e.exports=function(e,t){o.super_.apply(this,arguments),this._endpointUrl=t.endpointUrl,this._xmlns=t.xmlns||"urn:partner.soap.sforce.com"};function s(e,t){var r=t.shift();if(r){for(var n in e)if(r.test(n))return s(e[n],t);return null}return e}function a(e,t){if("object"==typeof e&&(t=e,e=null),Array.isArray(t)){let r=[];return t.forEach(function(t){r.push(a(e,t))}),r.join("")}var r=[],n=[];if("object"==typeof t){for(var i in t){var o=t[i];"@"===i[0]?(i=i.substring(1),r.push(i+'="'+o+'"')):n.push(a(i,o))}t=n.join("")}else t=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return(e?"<"+e+(r.length>0?" "+r.join(" "):"")+">":"")+t+(e?"</"+e+">":"")}n(o,i),o.prototype.invoke=function(e,t,r,n){"function"==typeof r&&(n=r,r=null);var i={};return i[e]=t,this.request({method:"POST",url:this._endpointUrl,headers:{"Content-Type":"text/xml",SOAPAction:'""'},message:i}).then(function(e){return r?function e(t,r){if(Array.isArray(t))return t.map(function(t){return e(t,r&&r[0])});if("object"==typeof t){if(t.$&&"true"===t.$["xsi:nil"])return null;if(Array.isArray(r))return[e(t,r[0])];var n={};for(var i in t)n[i]=e(t[i],r&&r[i]);return n}if(Array.isArray(r))return[e(t,r[0])];if("object"==typeof r)return{};switch(r){case"string":return String(t);case"number":return Number(t);case"boolean":return"true"===t;default:return t}}(e,r):e}).thenCall(n)},o.prototype.beforeSend=function(e){e.body=this._createEnvelope(e.message)},o.prototype.isSessionExpired=function(e){return 500===e.statusCode&&/<faultcode>[a-zA-Z]+:INVALID_SESSION_ID<\/faultcode>/.test(e.body)},o.prototype.parseError=function(e){var t=s(e,[/:Envelope$/,/:Body$/,/:Fault$/]);return{errorCode:t.faultcode,message:t.faultstring}},o.prototype.getResponseBody=function(e){return s(o.super_.prototype.getResponseBody.call(this,e),[/:Envelope$/,/:Body$/,/.+/])},o.prototype._createEnvelope=function(e){var t={},r=this._conn;return r.accessToken&&(t.SessionHeader={sessionId:this._conn.accessToken}),r.callOptions&&(t.CallOptions=r.callOptions),['<?xml version="1.0" encoding="UTF-8"?>','<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','<soapenv:Header xmlns="'+this._xmlns+'">',a(t),"</soapenv:Header>",'<soapenv:Body xmlns="'+this._xmlns+'">',a(e),"</soapenv:Body>","</soapenv:Envelope>"].join("")}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9),o=r(1),s=r(4),a=r(13);t.ApexRemoteDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){try{if(o.Logger.log("ApexRemote",this.input),"function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"apexremote",value:{className:this.input.className,methodName:this.input.methodName,inputMap:JSON.stringify(this.input.inputMap),optionsMap:this.input.optionsMap}},r=yield e(JSON.stringify(t));return JSON.parse(r)}if(this.inPlatformData)return this.inPlatformData;if(a.isNode||"function"!=typeof this.input.digest)return this.visualForceRemoteInvoke(this.input);{const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.visualForceRemoteInvoke(this.input).then(t=>n(this,void 0,void 0,function*(){return this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection?this.connection.instanceUrl:"")&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}visualForceRemoteInvoke(e){const t=`${i.SalesForceNamespace.namespace}.${e.className}.${e.methodName}`,r=Object.assign(Object.assign({},{escape:!1}),e.config);return new Promise((n,i)=>{Visualforce.remoting.timeout=this.input.timeoutInMillis,Visualforce.remoting.Manager.invokeAction(t,...this.input.paramsArray||[],(t,r)=>{if(o.Logger.log(t),"string"==typeof t&&(t=JSON.parse(t)),r.statusCode<400)n(t);else{if(404===r.statusCode&&0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.visualForceRemoteInvoke(e));i(r)}},r)}).catch(e=>Promise.reject(new Error(e)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.ApexRemoteInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.optionsMap={},this.className=e.className,this.methodName=e.methodName,this.paramsArray=e.paramsArray,this.config=e.config,this.inputMap=e.inputMap}digest(){return super.digestData(this.className,this.methodName,JSON.stringify(this.paramsArray),this.inputMap)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),r(54);const i=r(0),o=r(1),s=r(4),a=r(13),c=r(15),u="Request timed out";t.ApexRestDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){o.Logger.log("In ApexRest",this.input);try{if(this.inPlatformData)return this.inPlatformData;if(a.isNode||"function"!=typeof this.input.digest)return this.jsforceApexRest(this.input);{const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.jsforceApexRest(this.input).then(t=>n(this,void 0,void 0,function*(){return this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection.instanceUrl)&&(this.input.method===i.HttpMethod.GET||this.input.method===i.HttpMethod.POST)&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}jsforceApexRest(e){const t={method:i.HttpMethod.GET,options:{},path:""},r=new c.ApexRestInput(t);let n=new c.ApexRestInput(Object.assign(Object.assign({},r),e));return new Promise((t,r)=>{let i=setTimeout(()=>{r(new Error(u))},this.input.timeoutInMillis);"get"===n.method.toLowerCase()?this.connection.apex.get(n.path,n.options,(a,c)=>{if(clearTimeout(i),a){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e));o.Logger.log("ApexRest failed",n,a),r(a)}o.Logger.log("ApexRest is successful",n,c),t(c)}):"delete"===n.method.toLowerCase()?this.connection.apex[n.method.toLowerCase()](n.path,n.options,(a,c)=>{if(clearTimeout(i),a){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e).then(t).catch(r));o.Logger.log("ApexRest failed",n,a),r(a)}o.Logger.log("ApexRest is successful",n,c),t(c)}):this.connection.apex[n.method.toLowerCase()](n.path,n.body,n.options,(a,c)=>{if(clearTimeout(i),a){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e).then(t).catch(r));o.Logger.log("ApexRest failed",n,a),r(a)}o.Logger.log("ApexRest is successful",n,c),t(c)})}).catch(t=>{if(t.message===u&&this.input.retryCount>0)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.ApexRestInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.path=e.path,this.method=e.method,this.body=e.body,this.options=e.options}digest(){return super.digestData(this.path,this.method,this.body,this.options?JSON.stringify(this.options):"")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.SoqlInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.query=e.query}digest(){return super.digestData(this.query)}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(86)),n(r(84))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(2),s=r(4),a=r(13),c="Request timed out";t.SoqlDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){i.Logger.log("In Soql",this.input);try{if("function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"query",value:JSON.stringify(this.input.query)};return yield e(JSON.stringify(t))}if(this.inPlatformData)return this.inPlatformData;if(!a.isNode&&this.input instanceof o.BaseDataSourceInput){const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.jsforceSoql(this.input).then(t=>n(this,void 0,void 0,function*(){return(yield this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection.instanceUrl))&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}return this.jsforceSoql(this.input)}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}jsforceSoql(e){return new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error(c))},this.input.timeoutInMillis);this.connection.query(e.query,(o,a)=>{if(clearTimeout(n),o){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSoql(e).then(t).catch(r));i.Logger.log("SOSL query failed",o),r(o)}t(a)})}).catch(t=>{if(t.message===c&&this.input.retryCount>0)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSoql(e))})}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(88)),n(r(89))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(2),s=r(4),a=r(13),c="Request timed out";t.SoslDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){i.Logger.log("SOSL",this.input);try{if("function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"search",value:JSON.stringify(this.input.query)};return yield e(JSON.stringify(t))}if(this.inPlatformData)return this.inPlatformData;if(!a.isNode&&this.input instanceof o.BaseDataSourceInput){const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.jsforceSosl(this.input).then(t=>n(this,void 0,void 0,function*(){return(yield this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection.instanceUrl))&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}return this.jsforceSosl(this.input)}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}jsforceSosl(e){return new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error(c))},this.input.timeoutInMillis);this.connection.search(this.escapeSOSLSearchCharacters(e.query),(o,a)=>{if(clearTimeout(n),o){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSosl(e).then(t).catch(r));i.Logger.log("SOSL query failed",o),r(o)}t(a)})}).catch(t=>{if(t.message===c&&this.input.retryCount>0)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSosl(e))})}escapeSOSLSearchCharacters(e){if(0===(e=e.trim()).search(/FIND\s*{/i)){const t=e.match(/{(.|[\r\n\s])+}/i);if(t&&t.length>=0){const r=t[0].substr(1,t[0].length-2).replace(/[-[\]&{}!()*:"'~\+\-\?.,\\^$|]/g,"\\$&");return e.replace(/FIND\s*{(.|\s)*}/i,`FIND {${r}}`)}return e}return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.SoslInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.query=e.query}digest(){return super.digestData(this.query)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectMap=function(e,t,r){const n=[];try{e.forEach(e=>{const i={};t.forEach(t=>{if(t){const r=function(e){const t=e.split("#"),r={customKey:null,key:t[0]};return t.length>1&&(r.customKey=t[1]),r}(t),n=(t=r.key).split(".");n.length>1?i[r.customKey||n[n.length-1]]=n.reduce((e,t)=>e[t],e):i[r.customKey||t]=e[t]}}),r?n.push(Object.values(i).toString()):n.push(i)})}catch(e){return[]}return JSON.parse(JSON.stringify(n))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.findProductGroup=function e(t,r){try{for(const n of r)if(n.Id===t[0]){if(n.childProducts)return n;if(n.productGroups)return e(t.slice(1),n.productGroups)}}catch(e){return n.Logger.info("@@@ here in catch",e),null}},t.sortItems=function(e,t,r){try{let n=[];return n=t?e.sort((e,r)=>e[t].toString().localeCompare(r[t].toString())):e.sort(),r?n.reverse():n}catch(t){return e}}},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(1);class o extends n.BaseSDK{constructor(){if(super(),this.callbacks=new Map,o.instance)throw new Error("Existing PubSub instance. Don't create instances, use the singleton from PubSub.instance")}static getInstance(){return o.instance||(o.instance=new o),o.instance}register(e,t){this.callbacks[e]||(this.callbacks[e]=new Set),this.callbacks[e].add(t)}unregister(e,t){this.callbacks[e]&&this.callbacks[e].delete(t)}fire(e,t,r){this.callbacks[e]&&this.callbacks[e].forEach(n=>{try{n[t]&&n[t](r)}catch(r){i.Logger.error(`Callback for ${e} and ${t} failed. There is an error in the registered callback: `,r)}})}}t.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetObjectDescriptionInput=class extends n.VlocityInput{}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(275)),n(r(276)),n(r(277)),n(r(278))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(288)),n(r(289)),n(r(290)),n(r(291)),n(r(292)),n(r(293)),n(r(294)),n(r(295)),n(r(296)),n(r(297)),n(r(298)),n(r(299)),n(r(300)),n(r(301)),n(r(302)),n(r(303)),n(r(304))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(233);e.exports=n.default},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(16),s=r(9),a=r(21),c=r(15),u=r(49),l=r(85),d=r(87),p=r(111),h=r(234),f=r(158),m=r(241),y=r(279),g=r(160),v=r(305),b=r(306),_=r(159),I=r(311),w=r(313),P=r(320),S=r(323),O=r(326);class A extends i.BaseSDK{constructor(e){super(),this.cacheExpiration=new Date((new Date).getTime()+144e4),this.config=e}static getInstance(e){if(!A.instance&&!e&&!e.datasource)throw new Error("ProductConsole:getInstance: ProductConsole cannot be instantiated properly. ProductConsoleSDKConfig and ProductConsoleSDKConfig.datasource must be provided.");return A.instance||(A.instance=new A(e),A.productStructureSDK=new b.ProductStructure(e),A.productPricingSDK=new m.ProductPricing(e),A.productOverrideSDK=new y.ProductOverride(e),A.vlocityObjectSDK=new O.VlocityObject(e),A.versioningSdk=new I.Versioning(e),A.vlocityObjectDetails=new P.VlocityObjectDetails(e),A.vlocityAttributesSDK=new S.VlocityAttributes(e)),A.instance}createQuickAddProductPropertiesInput(){return new _.GetQuickAddProductPropertiesInput}getQuickAddProductProperties(e){return n(this,void 0,void 0,function*(){const t=new c.ApexRestInput({method:i.HttpMethod.GET,path:`${s.SalesForceNamespace.restAPIPrefix}/v1/studio/object/${e.productId}/facets/${e.facet}/available`}),r=new a.ApexRemoteInput({className:e.remoteClass,inputMap:e.inputMap(),methodName:e.remoteMethod});return yield this.config.datasource.dual(t,r).execute()})}createGetProductDefinitionInput(){return new g.GetProductDefinitionInput}getProductDefinition(e){return n(this,void 0,void 0,function*(){if(!e.productId||!e.productId.trim())throw new Error("Product Id is required to get proudct defintion.");const t=new c.ApexRestInput({method:i.HttpMethod.GET,path:`${s.SalesForceNamespace.restAPIPrefix}/v1/studio/object/${e.productId}/facets${e.facet?"/"+e.facet:""}`}),r=new a.ApexRemoteInput({className:e.remoteClass,inputMap:{productId:e.productId},methodName:e.remoteMethod});return yield this.config.datasource.dual(t,r).execute()})}createUpdateProductDefintionInput(){return new g.UpdateProductDefinitionInput}updateProductDefinition(e){return n(this,void 0,void 0,function*(){if(!e.productId||!e.productId.trim())throw new Error("Product Id is required in order to update product definition");const t=new c.ApexRestInput({body:e.productDefinition,method:i.HttpMethod.PUT,path:`${s.SalesForceNamespace.restAPIPrefix}/v1/studio/object/${e.productId}/facets${e.facet?"/"+e.facet:""}`}),r=new a.ApexRemoteInput({className:e.remoteClass,inputMap:{productDefinition:e.productDefinition,productId:e.productId},methodName:e.remoteMethod});return yield this.config.datasource.dual(t,r).execute()})}createUpdateProductFieldInput(){return new g.UpdateProductFieldInput}updateProductAttribute(e){return n(this,void 0,void 0,function*(){if(!e.productId||!e.productId.trim())throw new Error("Product Id is required in order to update product definition");const t=new c.ApexRestInput({body:e.productAttribute,method:i.HttpMethod.PUT,path:`${s.SalesForceNamespace.restAPIPrefix}/v1/studio/products/${e.productId}/attributes`}),r=new a.ApexRemoteInput({className:e.remoteClass,inputMap:{productAttribute:e.productAttribute,productId:e.productId},methodName:e.remoteMethod});return yield this.config.datasource.dual(t,r).execute()})}createUpdateProductAttributeInput(){return new g.UpdateProductAttributeInput}updateProductField(e){return n(this,void 0,void 0,function*(){if(!e.fieldName)throw new Error("A field name is required for this operation");const t={};t[e.fieldName]=e.fieldValue;const r=new u.RestInput({options:{body:JSON.stringify(t),headers:{Authorization:`Bearer ${this.config.datasource.config.sessionId}`,"Content-Type":"application/json"},method:i.HttpMethod.PATCH},url:`${this.config.datasource.config.url}/services/data/v56.0/sobjects/Product2/${e.productId}`});return yield this.config.datasource.rest(r).execute()})}createCreateSalesforceDocumentInput(){return new w.CreateSalesforceDocumentInput}uploadToSalesforce(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("CreateSalesforceDocumentInput :: uploadToSalesforce() must be defined");if(!e.folderId)throw new Error("CreateSalesforceDocumentInput :: folder id must be defined to upload salesforce documents");const t=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["addDocument",JSON.stringify(e.getInputMap())]});return yield this.config.datasource.apexRemote(t).execute()})}createVlocityAttachments(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("CreateVlocityAttachmentsInput :: createVlocityAttachments() must be defined");const t=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["addVlocityAttachment",JSON.stringify(e.getInputMap())]});return yield this.config.datasource.apexRemote(t).execute()})}createGetVlocityAttachmentsInput(){return new w.GetVlocityAttachmentsInput}getVlocityAttachmentsRemoteAction(e){return n(this,void 0,void 0,function*(){const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.getParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createGetProduct2ObjectInput(){return new g.GetProduct2ObjectInput}getProduct2Object(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.soql({query:e.getQuery()}).execute()})}createGetProductsInput(){return new g.GetProductsInput}getProducts(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.soql({query:e.getQuery()}).execute()})}createCreateVlocityAttachmentsInput(){return new w.CreateVlocityAttachmentsInput}getFolderByName(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("folderName :: getFolderByName() must be defined");const t=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["readEntity",JSON.stringify({epcRequest:{query:[{fieldValue:e,comparisonOperator:"equals",fieldType:"Name"}]},objectType:"Folder"})]});return yield this.config.datasource.apexRemote(t).execute()})}getPricingPicklistItems(e){return n(this,void 0,void 0,function*(){if(!(e&&e.remoteClass&&e.remoteMethod&&e.paramsArray()))throw new Error("GetPricingPickListInput is required to get pick list items. The input must have a remoteClass, remoteMethod, and paramsArray()");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}getPriceList(e){return n(this,void 0,void 0,function*(){const e=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getPriceList",{}]});return yield this.config.datasource.apexRemote(e).execute()})}createGetObjectDescriptionInput(){return new f.GetObjectDescriptionInput}getObjectDescription(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("No Input provided. Please use createGetObjectDescriptionInput method to create the input object.");if(!e.objectName||""===e.objectName.trim())throw new Error("Object name is required to get the describe object");const t=new u.RestInput({options:{headers:{Authorization:`Bearer ${this.config.datasource.config.sessionId}`,"Content-Type":"application/json"},method:i.HttpMethod.GET},url:`${this.config.datasource.config.url}/services/data/v56.0/sobjects/${e.objectName}/describe`});return yield this.config.datasource.rest(t).execute()})}createGetVlocityAttachmentDetailsInput(){return new w.GetVlocityAttachmentDetailsInput}getVlocityAttachmentDetails(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetVlocityAttachmentDetailsInput is required as input");if(e&&!e.attachmentId)throw new Error("Attachment id is required to fetch details");const t=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["readVlocityAttachment",JSON.stringify(e.getInputMap())]});return yield this.config.datasource.apexRemote(t).execute()})}updateVlocityAttachment(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("CreateVlocityAttachmentsInput is required as input");if(!e.records||0===e.records.length)throw new Error("CreateVlocityAttachmentsInput.records array should have the VlocityAttachment object to update");if(e.records&&e.records.length>0&&!e.records[0].Id)throw new Error("VlocityAttachment object in CreateVlocityAttachmentsInput.records array should have the id to update, if its a new record use createVlocityAttachments()");const t=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["updateVlocityAttachment",JSON.stringify(e.getInputMap())]});return yield this.config.datasource.apexRemote(t).execute()})}createDeleteVlocityAttachmentInput(e){return new w.DeleteVlocityAttachmentInput(e)}deleteVlocityAttachment(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("DeleteVlocityAttachmentInput is required as input");if(!e.attachmentIds)throw new Error("input.attachmentIds should be defined to delete attachment records");const t=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:e.getInputMap()});return yield this.config.datasource.apexRemote(t).execute()})}getSalesForceDocumentDetails(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("documentId is required to fetch details");const t=new a.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["readDocument",JSON.stringify({epcRequest:{query:[{fieldValue:e,comparisonOperator:"equals",fieldType:"Id"}]}})]});return yield this.config.datasource.apexRemote(t).execute()})}createGetAppliedFieldsAndAttributesInput(){return new g.GetAppliedFieldsAndAttributesInput}getAppliedFieldsAndAttributes(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("No input was provided.");if(!e.objectId)throw new Error("Object id is required to get fields and attributes");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.getParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createGetProductDataInput(){return new g.GetProductDataInput}getProductData(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("No input was provided.");if(!e.objectId)throw new Error("Object id is required to get the object.");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.getParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createGetObjectPicklistsInput(){return new h.GetObjectPicklistsInput}getObjectPicklistsByName(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("No input was provided.");if(!e.objectName)throw new Error("Object name is required to get the object picklists.");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray(),cacheType:o.CacheType.SESSIONSTORAGE,cacheable:!0,cacheExpiration:this.cacheExpiration});return yield this.config.datasource.apexRemote(t).execute()})}createGetProductAttributeAssignmentsInput(){return new g.GetProductAttributeAssignmentsInput}getProductAttributeAssignments(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined. Use createGetProductAttributeAssignmentsInput to create the input object instance.");if(!e.productId||!e.productId.trim())throw new Error("Product Id is not defined on the input class.");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createUpdateAttributeAssignmentsInput(){return new g.UpdateAttributeAssignmentsInput}updateAttributeAssignments(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined. Use createUpdateAttributeAssignmentsInput to create the input object instance");if(!e.attributeAssignments)throw new Error("Attribute list is required");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createUpdateObjectInput(){return new g.UpdateObjectInput}updateObject(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined. Use createUpdateObjectInput to create the input object instance");if(!e.objectId||!e.objectId.trim()||!e.fieldValueMap)throw new Error("ObjectId and Field value map are required");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createUpdateSingleAttributeInput(){return new g.UpdateSingleAttributeInput}updateSingleAttribute(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined.");if(!e.attributeId||!e.productId)throw new Error("objectId and attributeId are needed to update the attribute");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createSaveAttributeAssignmentInput(){return new v.SaveAttributeAssignmentInput}saveAttributeAssignment(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined.");if(!e.attributeAssignment)throw new Error("attributeAssignment object is not defined.");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createSearchRelatedObjectsInput(){return new h.SearchRelatedObjectsInput}searchRelatedObjects(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined.");if(!e.searchString||!e.objectName)throw new Error("Search string and object name are required to search");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createNewAttributeAssignmentsInput(){return new g.NewAttributeAssignmentsInput}createAttributeAssignments(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("No input was provided");if(!e.objectId||!e.attrValueMap)throw new Error("object id and input attribute value map is required");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}getRecentlyViewedProducts(){return n(this,void 0,void 0,function*(){const e=new l.SoqlInput({query:"SELECT Name, Id\n        FROM Product2 WHERE LastViewedDate != NULL\n        ORDER BY LastViewedDate DESC"});return yield this.config.datasource.soql(e).execute()})}createSimpleProductsSearchInput(){return new g.SimpleProductSearchInput}searchProductsByText(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined.");if(!e.searchText)throw new Error("search text is not defined.");const t=new d.SoslInput({query:e.query()});return yield this.config.datasource.sosl(t).execute()})}createPublishProductInput(){return new g.PublishProductInput}publishProduct(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("input object is not defined.");if(!e.productId)throw new Error("productId is not defined.");const t=new a.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}getProductStructureSdk(){return A.productStructureSDK}getProductPricingSdk(){return A.productPricingSDK}getProductOverrideSdk(){return A.productOverrideSDK}getVlocityObjectSdk(){return A.vlocityObjectSDK}getVersioningSdk(){return A.versioningSdk}vlocityObjectDetails(){return A.vlocityObjectDetails}getVlocityAttributesSdk(){return A.vlocityAttributesSDK}register(e,t){return p.default.getInstance().register(e,t)}unregister(e,t){return p.default.getInstance().unregister(e,t)}fire(e,t,r){return p.default.getInstance().fire(e,t,r)}}t.default=A},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(235)),n(r(236)),n(r(237)),n(r(238)),n(r(158)),n(r(239)),n(r(240))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Attribute=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AttributeValue=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AttributeItemType=0]="AttributeItemType",e[e.AttributeValueItemType=1]="AttributeValueItemType",e[e.AttributeValueGroupItemType=2]="AttributeValueGroupItemType",e[e.FieldItemType=3]="FieldItemType"}(t.ItemType||(t.ItemType={}));t.AvailableItem=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Field=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetObjectPicklistsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getObjectPicklistsByName",JSON.stringify({objectName:this.objectName})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.SearchRelatedObjectsInput=class extends i.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){let e={fieldSetName:this.fieldSetName,objectType:this.objectName,pageNumber:this.pageNumber,pageSize:this.pageSize,searchString:this.searchString,specificationTypeFilter:this.specificationTypeFilter};return"ObjectClass__c"!==this.objectName&&this.objectName!==`${n.SalesForceNamespace.prefix}ObjectClass__c`||(e.condition=`${n.SalesForceNamespace.prefix}ObjectApiName__c = 'Product2' AND ${n.SalesForceNamespace.prefix}IsActive__c = true`,e.condition=this.selectedObjectClassId?e.condition+` AND Id!='${this.selectedObjectClassId}'`:e.condition),["getSearchResultsMap",JSON.stringify({inputMap:e})]}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(21),o=r(242),s=r(244),a=r(268),c=r(159);t.ProductPricing=class{constructor(e){this.config=e}createAppliedPriceListEntriesInput(){return new s.GetAppliedPriceListEntriesInput}createAppliedPromotionsInput(){return new a.GetAppliedPromotionsInput}createOffersInput(e){return new o.GetOffersInput(e)}createExistingPromotionsInput(e){return new a.GetExistingPromotionsInput(e)}createApplicablePriceListInput(e){return new s.GetApplicablePriceListInput(e)}createPriceListInput(e){return new s.GetPriceListInput(e)}createPricingPickListInput(){return new s.GetPricingPickListInput}createPricingVariableInput(e){return new s.GetPricingVariableInput(e)}createPricingElementInput(e){return new s.GetPricingElementInput(e)}createPriceListEntryInput(e){return new s.GetPriceListEntryInput(e)}createContextRuleSetInput(e){return new s.AddContextRuleSetInput(e)}createDeletePriceListEntryInput(e){return new s.DeletePriceListEntryInput(e)}createPromotionItemInput(e){return new a.CreatePromotionItemInput(e)}createPromotionInput(e){return new a.CreatePromotionInput(e)}createPromotionOfferPriceListEntryInput(e){return new s.GetPromotionOfferPriceListEntryInput(e)}createEditPriceListEntryInput(e){return new s.GetEditPriceListEntryInput(e)}createEditPromotionOfferPriceListEntryInput(e){return new s.GetEditPromotionOfferPriceListEntryInput(e)}createTimePlanPolicyIdsInput(e){return new s.GetTimePlanPolicyIdsInput(e)}createGetTimePlanPolicyInput(e){return new s.GetTimePlanPolicyInput(e)}createDeleteContextRuleInput(e){return new s.DeleteContextRuleInput(e)}createPriceListCurrencyValuesInput(e){return new s.GetPriceListCurrencyValuesInput(e)}createQuickAddPricingPropertiesInput(){return new c.GetQuickAddPricingPropertiesInput}getApplicablePriceList(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetApplicablePriceListInput")).execute()})}addContextRuleSetToPriceListEntry(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"AddContextRuleSetInput")).execute()})}getAppliedPromotions(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetAppliedPromotionsInput")).execute()})}getAppliedPricelistEntries(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetAppliedPriceListEntriesInput")).execute()})}getAppliedCostPricelistEntries(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetAppliedPriceListEntriesInput")).execute()})}getPricingPicklistItems(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetPricingPickListInput")).execute()})}getPriceList(e){return n(this,void 0,void 0,function*(){const e=new i.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getPriceList",{}]});return yield this.config.datasource.apexRemote(e).execute()})}getPricingVariable(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetPricingVariableInput")).execute()})}getPricingElement(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetPricingElementInput")).execute()})}createPriceListEntry(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetPriceListEntryInput")).execute()})}deletePriceListEntry(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"DeletePriceListEntryInput")).execute()})}createPromotion(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"CreatePromotionInput")).execute()})}createPromotionItem(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"CreatePromotionItemInput")).execute()})}getOffers(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetOffersInput")).execute()})}editPriceListEntry(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetEditPriceListEntryInput")).execute()})}getTimePlanTimePolicyIds(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetTimePlanPolicyIdsInput")).execute()})}getTimePlan(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetTimePlanPolicyInput")).execute()})}getTimePolicy(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetTimePlanPolicyInput")).execute()})}deleteContextRule(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"DeleteContextRuleInput")).execute()})}getPriceListCurrencyValues(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetPriceListCurrencyValuesInput")).execute()})}getExistingPromotions(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetExistingPromotionsInput")).execute()})}getQuickAddPricingRules(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetQuickAddPricingPropertiesInput")).execute()})}getQuickAddPricingExistingPromotions(e){return n(this,void 0,void 0,function*(){return yield this.config.datasource.apexRemote(this.getRemoteInput(e,"GetQuickAddPricingPropertiesInput")).execute()})}getRemoteInput(e,t){if(!(e&&e.remoteClass&&e.remoteMethod&&e.paramsArray()))throw new Error(`${t} class is required. The input must have a remoteClass, remoteMethod, all parameters and paramsArray()`);return new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(243))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetOffersInput=class extends n.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}paramsArray(){return["findPossibleOffers",JSON.stringify(this.params)]}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(245)),n(r(246)),n(r(247)),n(r(248)),n(r(249)),n(r(250)),n(r(251)),n(r(252)),n(r(253)),n(r(254)),n(r(255)),n(r(256)),n(r(257)),n(r(258)),n(r(259)),n(r(260)),n(r(261)),n(r(262)),n(r(263)),n(r(264)),n(r(265)),n(r(266)),n(r(267))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetAppliedPriceListEntriesInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getPricesCostsProduct",JSON.stringify({id:this.productId,type:this.type})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetPricingPickListInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getPickListEntries",null]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(84);t.GetPriceListInput=class extends i.SoqlInput{constructor(e){super({}),this.query=`SELECT Id, Name, ${n.SalesForceNamespace.prefix}Description__c FROM ${n.SalesForceNamespace.prefix}PriceList__c ${e?`WHERE ${n.SalesForceNamespace.prefix}IsActive__c = true`:""}`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetPricingVariableInput=class extends n.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}paramsArray(){return["findMatchingPricingVariable",JSON.stringify(this.params)]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetPricingElementInput=class extends n.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}paramsArray(){return["findMatchingPricingElement",JSON.stringify(this.params)]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.GetPriceListEntryInput=class extends i.VlocityInput{constructor(e){super(),this.params=e,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getPriceListInputString(){const e=n.SalesForceNamespace.prefix,t={};return t[e+"ProductId__c"]=this.params.productId,t[e+"PriceListId__c"]=this.params.priceListId,t[e+"PricingElementId__c"]=this.params.pricingElementId,t[e+"DisplayText__c"]=this.params.displayText,t[e+"IsBasePrice__c"]=this.params.isBasePrice,t[e+"IsVirtualPrice__c"]=this.params.isVirtualPrice,t[e+"IsActive__c"]=this.params.isActive,this.params.startDate&&(t[e+"EffectiveFromDate__c"]=this.params.startDate),this.params.endDate&&(t[e+"EffectiveUntilDate__c"]=this.params.endDate),{epcRequest:{entity:t}}}paramsArray(){return["addPriceListEntry",JSON.stringify(this.getPriceListInputString())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PriceListEntryObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PromotionOfferPriceListEntryObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.GetPromotionOfferPriceListEntryInput=class extends i.VlocityInput{constructor(e){super(),this.params=e,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getPriceListInputString(){const e=n.SalesForceNamespace.prefix,t={};return t[e+"PromotionId__c"]=this.params.promotionId,t[e+"PriceListId__c"]=this.params.priceListId,t[e+"ProductId__c"]=this.params.productId,t[e+"DisplayText__c"]=this.params.displayText,t[e+"PricingElementId__c"]=this.params.pricingElementId,t[e+"OfferId__c"]=this.params.offerId,t[e+"PromotionItemId__c"]=this.params.promotionItemId,t[e+"TimePolicyId__c"]=this.params.timePolicyId,t[e+"TimePlanId__c"]=this.params.timePlanId,t[e+"IsBasePrice__c"]=this.params.isBasePrice,t[e+"IsVirtualPrice__c"]=!this.params.isBasePrice,t[e+"IsOverride__c"]=this.params.isOverride,t[e+"IsActive__c"]=this.params.isActive,this.params.startDate&&(t[e+"EffectiveFromDate__c"]=this.params.startDate),this.params.endDate&&(t[e+"EffectiveUntilDate__c"]=this.params.endDate),{epcRequest:{entity:t}}}paramsArray(){return["addPriceListEntry",JSON.stringify(this.getPriceListInputString())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContextRuleObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.AddContextRuleSetInput=class extends i.VlocityInput{constructor(e){super(),this.params=e,this.apiNamespace=`${n.SalesForceNamespace.prefix}__`||"",this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getContextRuleSetInputString(){return{epcRequest:{entity:JSON.parse(`{\n            "${n.SalesForceNamespace.prefix}ObjectId__c": "${this.params.objectId}",\n            "${n.SalesForceNamespace.prefix}RuleId__c": "${this.params.ruleId}"\n        }`)}}}paramsArray(){return["addPricingContextRule",JSON.stringify(this.getContextRuleSetInputString())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.DeletePriceListEntryInput=class extends i.VlocityInput{constructor(e){super(),this.priceListEntryId=e,this.apiNamespace=n.SalesForceNamespace.prefix,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["deletePriceListEntry",JSON.stringify({epcRequest:{entity:{Id:this.priceListEntryId}}})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.GetEditPromotionOfferPriceListEntryInput=class extends i.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}getPriceListInputString(){const e=n.SalesForceNamespace.prefix,t={};return t.Id=this.params.priceListEntryId,t[e+"PromotionId__c"]=this.params.promotionId,t[e+"PricingElementId__c"]=this.params.pricingElementId,t[e+"TimePolicyId__c"]=this.params.timePolicyId,t[e+"TimePlanId__c"]=this.params.timePlanId,t[e+"OfferId__c"]=this.params.offerId,t[e+"IsBasePrice__c"]=this.params.isBasePrice,t[e+"IsVirtualPrice__c"]=!this.params.isBasePrice,t[e+"IsOverride__c"]=this.params.isOverride,t[e+"DisplayText__c"]=this.params.displayText,t[e+"IsActive__c"]=this.params.isActive,t[e+"EffectiveFromDate__c"]=this.params.startDate,t[e+"EffectiveUntilDate__c"]=this.params.endDate,{epcRequest:{entity:t}}}paramsArray(){return["updatePriceListEntry",JSON.stringify(this.getPriceListInputString())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EditPromotionOfferPriceListEntryObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EditPriceListEntryObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.GetEditPriceListEntryInput=class extends i.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}getPriceListInputString(){const e=n.SalesForceNamespace.prefix,t={};return t.Id=this.params.priceListEntryId,t[e+"ProductId__c"]=this.params.productId,t[e+"PricingElementId__c"]=this.params.pricingElementId,t[e+"DisplayText__c"]=this.params.displayText,t[e+"IsBasePrice__c"]=this.params.isBasePrice,t[e+"IsVirtualPrice__c"]=this.params.isVirtualPrice,t[e+"IsActive__c"]=this.params.isActive,t[e+"EffectiveFromDate__c"]=this.params.startDate,t[e+"EffectiveUntilDate__c"]=this.params.endDate,{epcRequest:{entity:t}}}paramsArray(){return["updatePriceListEntry",JSON.stringify(this.getPriceListInputString())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetTimePlanPolicyIdsInput=class extends n.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}paramsArray(){return["findMatchingTimePlanTimePolicy",JSON.stringify(this.params)]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TimePlanPolicyObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetTimePlanPolicyInput=class extends n.VlocityInput{constructor(e){super(),this.id=e,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getObject",JSON.stringify({objectId:this.id})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.DeleteContextRuleInput=class extends i.VlocityInput{constructor(e){super(),this.contextRuleId=e,this.apiNamespace=n.SalesForceNamespace.prefix,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["deletePricingContextRule",JSON.stringify({epcRequest:{entity:{Id:this.contextRuleId}}})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetPriceListCurrencyValuesInput=class extends n.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}paramsArray(){return["getPriceListCurrencyValues",JSON.stringify(this.params)]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GetPriceListCurrencyValuesObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetApplicablePriceListInput=class extends n.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}paramsArray(){return["getApplicablePriceLists",JSON.stringify(this.params)]}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(269)),n(r(270)),n(r(271)),n(r(272)),n(r(273)),n(r(274))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetAppliedPromotionsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getPromotionsProduct",JSON.stringify(Object.assign(Object.assign({id:this.productId},this.sortBy&&{sortBy:this.sortBy}),this.offerId&&{offerIds:this.offerId}))]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewPromotionItemObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.CreatePromotionItemInput=class extends i.VlocityInput{constructor(e){super(),this.params=e,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getNewPromotionItemInputString(){const e=n.SalesForceNamespace.prefix,t={};return t[e+"PromotionId__c"]=this.params.promotionId,t[e+"ActionType__c"]=this.params.actionType,t[e+"CardinalityCheckScope__c"]=this.params.cardinalityCheckScope,t[e+"ContextEntityFilterId__c"]=this.params.contextEntityFilterId,t[e+"ContextProductId__c"]=this.params.contextProductId,t[e+"Description__c"]=this.params.description,t[e+"ProductHierarchyPath__c"]=this.params.hierarchyPath,t[e+"ProductHierarchyGroupKeyPath__c"]=this.params.productHierarchyGroupKeyPath,t[e+"ProductHierarchyGlobalKeyPath__c"]=this.params.productHierarchyGlobalKeyPath,t[e+"IsActive__c"]=this.params.isActive,t[e+"IsUndoable__c"]=this.params.isUndoable,t[e+"MaxQuantity__c"]=this.params.maxQuantity,t[e+"MinQuantity__c"]=this.params.minQuantity,t[e+"ProductId__c"]=this.params.productId,t[e+"Quantity__c"]=this.params.quantity,t[e+"UndoableMessage__c"]=this.params.undoableMessage,t[e+"UpdateScope__c"]=this.params.updateScope,this.params.offerId&&(t[e+"OfferId__c"]=this.params.offerId),{epcRequest:{entity:t}}}paramsArray(){return["addPromotionItem",JSON.stringify(this.getNewPromotionItemInputString())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewPromotionObject=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.CreatePromotionInput=class extends i.VlocityInput{constructor(e){super(),this.params=e,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getNewPromotionInputString(){return{epcRequest:{entity:JSON.parse(`{\n          "${n.SalesForceNamespace.prefix}PriceListId__c": "${this.params.priceListId}",\n          "${n.SalesForceNamespace.prefix}Code__c": "${this.params.promoCode}",\n          "Name": "${this.params.name}",\n          "${n.SalesForceNamespace.prefix}IsActive__c": ${this.params.isActive}\n        }`)}}}paramsArray(){return["addPromotion",JSON.stringify(this.getNewPromotionInputString())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetExistingPromotionsInput=class extends n.VlocityInput{constructor(e){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.params=e}paramsArray(){return["getApplicablePromotions",JSON.stringify(this.params)]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GetQuickAddItemsInput=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetQuickAddProductPropertiesInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="PCAppHandler",this.remoteMethod="getAvailableFacetsObject"}inputMap(){return{facet:this.facet,productId:this.productId}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.GetQuickAddPricingPropertiesInput=class extends i.VlocityInput{constructor(){super(),this.apiNamespace=n.SalesForceNamespace.namespace,this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getQuickAddInput(){return"Rule"===this.type?{inputMap:{objectType:`${n.SalesForceNamespace.prefix}Rule__c`,searchString:"%",condition:`${n.SalesForceNamespace.prefix}RuleType__c='Qualification'`}}:{inputMap:{objectType:`${n.SalesForceNamespace.prefix}Promotion__c`,searchString:"%",condition:`Id NOT IN (SELECT ${n.SalesForceNamespace.prefix}PromotionId__c FROM ${n.SalesForceNamespace.prefix}PromotionItem__c WHERE ${n.SalesForceNamespace.prefix}ProductId__c = '${this.productId}')`}}}paramsArray(){return["getSearchResultsMap",JSON.stringify(this.getQuickAddInput())]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ALL="all",e.AVAILABLE="available"}(t.QuickAddProductPropertiesFilterOptions||(t.QuickAddProductPropertiesFilterOptions={}))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(21),o=r(280);t.ProductOverride=class{constructor(e){this.config=e}createGetAttributeOverrideListInput(){return new o.GetAttributeOverrideListInput}getAttributeOverrideList(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetAttributeOverrideListInput :: getAttributeOverrideList() must be defined");if(!e.type)throw new Error("GetAttributeOverrideListInput :: getAttributeOverrideList() must have type as 'Attribute' ");if(!e.contextId)throw new Error("GetAttributeOverrideListInput :: getAttributeOverrideList() must have contextId");if(!e.overriddenObjectIds)throw new Error("GetAttributeOverrideListInput :: getAttributeOverrideList() must have overriddenObjectIds");if(!e.overriddenPCIId)throw new Error("GetAttributeOverrideListInput :: getAttributeOverrideList() must have overriddenPCIId");if(!e.hierarchyPath)throw new Error("GetAttributeOverrideListInput :: getAttributeOverrideList() must have hierarchyPath");if(!e.productHierarchyGroupKeyPath)throw new Error("GetAttributeOverrideListInput :: getAttributeOverrideList() must have productHierarchyGroupKeyPath");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createGetOverrideInput(){return new o.GetOverrideInput}getOverride(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetOverrideInput :: getOverride() must be defined");if(!e.type)throw new Error("GetOverrideInput :: getOverride() must have type as 'Attribute' or 'Product Definition' ");if(!e.contextId)throw new Error("GetOverrideInput :: getOverride() must have contextId");if(!e.overriddenObjectId)throw new Error("GetOverrideInput :: getOverride() must have overriddenObjectId");if(!e.overriddenPCIId)throw new Error("GetOverrideInput :: getOverride() must have overriddenPCIId");if(!e.hierarchyPath)throw new Error("GetOverrideInput :: getOverride() must have hierarchyPath");if(!e.productHierarchyGroupKeyPath)throw new Error("GetOverrideInput :: getOverride() must have productHierarchyGroupKeyPath");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createCreateOverrideInput(){return new o.CreateOverrideInput}createOverride(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("CreateOverrideInput :: createOverride() must be defined");if(!e.type)throw new Error("CreateOverrideInput :: createOverride() must have type as 'Attribute' or 'Product Definition' ");if(!e.contextId)throw new Error("CreateOverrideInput :: createOverride() must have contextId");if(!e.overriddenObjectId)throw new Error("CreateOverrideInput :: createOverride() must have overriddenObjectId");if(!e.overriddenPCIId)throw new Error("CreateOverrideInput :: createOverride() must have overriddenPCIId");if(!e.hierarchyPath)throw new Error("CreateOverrideInput :: createOverride() must have hierarchyPath");if(!e.productHierarchyGroupKeyPath)throw new Error("CreateOverrideInput :: createOverride() must have productHierarchyGroupKeyPath");if(!e.productId)throw new Error("CreateOverrideInput :: createOverride() must have productId");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createSaveOverrideInput(){return new o.SaveOverrideInput}saveOverride(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("SaveOverrideInput :: saveOverride() must be defined");if(!e.type)throw new Error("SaveOverrideInput :: saveOverride() must have type as 'Attribute' or 'Product Definition' ");if(!e.contextId)throw new Error("SaveOverrideInput :: saveOverride() must have contextId");if(!e.sObject)throw new Error("SaveOverrideInput :: saveOverride() must have sObject");if(!e.hierarchyPath)throw new Error("SaveOverrideInput :: saveOverride() must have hierarchyPath");if(!e.productHierarchyGroupKeyPath)throw new Error("SaveOverrideInput :: saveOverride() must have productHierarchyGroupKeyPath");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createValidateAndSaveOverrideInput(){return new o.ValidateAndSaveOverrideInput}validateAndSaveOverride(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("ValidateAndSaveOverrideInput :: validateAndSaveOverride() must be defined");if(!e.type)throw new Error("ValidateAndSaveOverrideInput :: validateAndSaveOverride() must have type as 'Product Definition' ");if(!e.contextId)throw new Error("ValidateAndSaveOverrideInput :: validateAndSaveOverride() must have contextId");if(!e.sObject)throw new Error("ValidateAndSaveOverrideInput :: validateAndSaveOverride() must have sObject");if(!e.hierarchyPath)throw new Error("ValidateAndSaveOverrideInput :: validateAndSaveOverride() must have hierarchyPath");if(!e.productHierarchyGroupKeyPath)throw new Error("ValidateAndSaveOverrideInput :: validateAndSaveOverride() must have productHierarchyGroupKeyPath");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createDeleteOverrideInput(){return new o.DeleteOverrideInput}deleteOverride(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("DeleteOverrideInput :: deleteOverride() must be defined");if(!e.type)throw new Error("DeleteOverrideInput :: deleteOverride() must have type as 'Attribute' or 'Product Definition' ");if(!e.contextId)throw new Error("DeleteOverrideInput :: deleteOverride() must have contextId");if(!e.overridingObjectId)throw new Error("DeleteOverrideInput :: deleteOverride() must have overriddenObjectId");if(!e.overrideDefinitionId)throw new Error("DeleteOverrideInput :: deleteOverride() must have overrideDefinitionId");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createGetSpecDetailsInput(){return new o.GetSpecDetailsInput}getSpecDetails(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetSpecDetailsInput :: getSpecDetails() must be defined");if(!e.objectId)throw new Error("GetSpecDetailsInput :: getSpecDetails() must have objectId");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(281)),n(r(282)),n(r(283)),n(r(284)),n(r(285)),n(r(286)),n(r(287))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.CreateOverrideInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.type="Attribute",this.promotionItemId=null,this.promotionId=null,this.isExclude=!1}paramsArray(){return["createOverrideWithExcludedValues",JSON.stringify({type:this.type,contextId:this.contextId,overriddenObjectId:this.overriddenObjectId,overriddenPCIId:this.overriddenPCIId,promotionItemId:this.promotionItemId,promotionId:this.promotionId,hierarchyPath:this.hierarchyPath,productId:this.productId,productHierarchyGroupKeyPath:this.productHierarchyGroupKeyPath,isExclude:this.isExclude})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.DeleteOverrideInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.type="Attribute"}paramsArray(){return["deleteOverride",JSON.stringify({type:this.type,contextId:this.contextId,overridingObjectId:this.overridingObjectId,overrideDefinitionId:this.overrideDefinitionId})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetAttributeOverrideListInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.type="Attribute",this.promotionItemId=null,this.promotionId=null}paramsArray(){return["getAttributeOverrideList",JSON.stringify({type:this.type,contextId:this.contextId,overriddenObjectIds:this.overriddenObjectIds,overriddenPCIId:this.overriddenPCIId,promotionItemId:this.promotionItemId,promotionId:this.promotionId,hierarchyPath:this.hierarchyPath,productHierarchyGroupKeyPath:this.productHierarchyGroupKeyPath})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetOverrideInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.type="Attribute",this.promotionItemId=null,this.promotionId=null}paramsArray(){return["getOverrideWithExcludedValues",JSON.stringify({type:this.type,contextId:this.contextId,overriddenObjectId:this.overriddenObjectId,overriddenPCIId:this.overriddenPCIId,promotionItemId:this.promotionItemId,promotionId:this.promotionId,hierarchyPath:this.hierarchyPath,productHierarchyGroupKeyPath:this.productHierarchyGroupKeyPath})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetSpecDetailsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getSpecDetails",JSON.stringify({objectId:this.objectId})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.SaveOverrideInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.type="Attribute"}paramsArray(){return["saveOverride",JSON.stringify({type:this.type,contextId:this.contextId,sObject:this.sObject,hierarchyPath:this.hierarchyPath,productHierarchyGroupKeyPath:this.productHierarchyGroupKeyPath})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.ValidateAndSaveOverrideInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.type="Product Definition"}paramsArray(){return["validateAndSaveOverride",JSON.stringify({type:this.type,contextId:this.contextId,sObject:this.sObject,hierarchyPath:this.hierarchyPath,productHierarchyGroupKeyPath:this.productHierarchyGroupKeyPath})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetAppliedFieldsAndAttributesInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getParamsArray(){return["getAppliedAttributesFields",JSON.stringify({objectId:this.objectId})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.GetProduct2ObjectInput=class{getQuery(){return`SELECT Id from ${n.SalesForceNamespace.prefix}ObjectClass__c where Name='Product2 Object'`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetProductAttributeAssignmentsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getAttributeAssignments",JSON.stringify({objectId:this.productId})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetProductDataInput=class extends n.VlocityInput{constructor(){super(),this.remoteMethod="invokeMethod",this.remoteClass="ProductConsoleControllerV2"}getParamsArray(){return["getObject",JSON.stringify({objectId:this.objectId})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetProductDefinitionInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="PCAppHandler",this.remoteMethod="getFacetsObject"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),i=r(10),o=r(6);t.GetProductDetailsInput=class extends i.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getParamsArray(){const e=n.SalesForceNamespace.prefix;return["readProduct2",JSON.stringify({epcRequest:{fieldSet:[`${e}SpecificationSubType__c`,`${e}GlobalKey__c`,`${e}ProductSpecId__r.Name`,`${e}ProductSpecId__r.${e}SpecificationType__c`,`${e}ProductSpecId__r.${e}SpecificationSubType__c`,`${e}ProductSpecId__r.${e}GlobalGroupKey__c`,`${e}ProductSpecId__r.${e}GlobalKey__c`],include:["productHierarchy"],query:[{fieldValue:this.productId,comparisonOperator:"equals",fieldType:"Id"}]}})]}inputMap(){return{fields:this.fields.join(","),id:this.productId}}getAPIPath(){const e=o.queryStringEncode(this.inputMap(),!0);return`${n.SalesForceNamespace.restAPIPrefix}/v1/studio/products/${e}`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GetProductsInput=class{getQuery(){return"SELECT Name, Id, Description FROM Product2"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.NewAttributeAssignmentsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["createAttributeAssignments",JSON.stringify({objectId:this.objectId,attributes:this.attrValueMap})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Product=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.PublishProductInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["publishProduct",JSON.stringify({productId:this.productId})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SimpleProductSearchInput=class{query(){this.fields&&0!==this.fields.length||(this.fields=["Id, Name"]);const e=this.fields.join(",");return`FIND {${this.searchText}} IN NAME FIELDS RETURNING Product2(${e})`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.UpdateAttributeAssignmentsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["updateAttributeAssignments",JSON.stringify({attributes:this.attributeAssignments})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.UpdateObjectInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["updateObject",JSON.stringify({objectId:this.objectId,so:this.fieldValueMap})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.UpdateProductAttributeInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="PCAppHandler",this.remoteMethod="updateAttributesProduct"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.UpdateProductDefinitionInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="PCAppHandler",this.remoteMethod="updateFacetsObject"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UpdateProductFieldInput=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.UpdateSingleAttributeInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["updateSingleAttribute",JSON.stringify({attributeFields:{IsConfigurable:this.isConfigurable,IsHidden:!this.isVisible,IsReadOnly:this.isReadonly,IsActive:this.isActive},attributeId:this.attributeId,objectId:this.productId})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.SaveAttributeAssignmentInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["saveAttributeAssignment",JSON.stringify({so:this.attributeAssignment})]}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(21),s=r(15),a=r(160),c=r(307);t.ProductStructure=class{constructor(e){this.config=e}createGetProductDetailsInput(){return new a.GetProductDetailsInput}getProductDetails(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetProductDetailsInput :: getProductDetails() must be defined");const t=new s.ApexRestInput({method:i.HttpMethod.GET,path:e.getAPIPath()}),r=new o.ApexRemoteInput({className:e.remoteClass,inputMap:e.inputMap(),methodName:e.remoteMethod});return yield this.config.datasource.dual(t,r).execute()})}getProduct2Details(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetProductDetailsInput :: getProduct2Details() must be defined");if(!e.productId)throw new Error("GetProductDetailsInput :: getProduct2Details() must have productId");const t=new o.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.getParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createParentChildItemInput(){return new c.ParentChildItemInput}deleteParentChildItem(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("ParentChildItemInput :: deleteParentChildItem() must be defined");if(!e.parentChildItemId)throw new Error("ParentChildItemInput :: deleteParentChildItem() must have parentChildItemId");const t=new o.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.deleteObjectParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}getProductChildItem(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("ParentChildItemInput :: getProductChildItem() must be defined");if(!e.parentChildItemId)throw new Error("ParentChildItemInput :: getProductChildItem() must have parentChildItemId");const t=new o.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.getObjectParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}updateProductChildItem(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("ParentChildItemInput :: updateProductChildItem() must be defined");if(!e.parentChildItemId)throw new Error("ParentChildItemInput :: updateProductChildItem() must have parentChildItemId");if(!e.reqBody)throw new Error("ParentChildItemInput :: updateProductChildItem() must have reqBody");const t=new o.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.updateObjectParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createCreateChildProductInput(){return new c.CreateChildProductInput}createChildProduct(e){return n(this,void 0,void 0,function*(){if(!e.sequence)throw new Error("CreateChildProductInput :: createChildProduct() must be defined");if(!e.parentProductId)throw new Error("CreateChildProductInput :: createChildProduct() must have parentProductId");if(!e.childProductId)throw new Error("CreateChildProductInput :: createChildProduct() must have childProductId");if("Child"!==e.relationshipType)throw new Error("CreateChildProductInput :: createChildProduct() must have relationshipType as 'Child' ");const t=new o.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createGetRelatedProductsInput(){return new c.GetRelatedProductsInput}getRelatedProducts(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetRelatedProductsInput :: getRelatedProducts() must be defined");if(!e.productId)throw new Error("GetRelatedProductsInput :: getRelatedProducts() must have productId");const t=new o.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.paramsArray()});return yield this.config.datasource.apexRemote(t).execute()})}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(308)),n(r(309)),n(r(310))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.CreateChildProductInput=class extends i.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){const e=`${n.SalesForceNamespace.prefix}ProductChildItem__c`,t={};return t[`${n.SalesForceNamespace.prefix}ParentProductId__c`]=this.parentProductId,t[`${n.SalesForceNamespace.prefix}ChildProductId__c`]=this.childProductId,t[`${n.SalesForceNamespace.prefix}RelationshipType__c`]=this.relationshipType,t[`${n.SalesForceNamespace.prefix}ChildLineNumber__c`]=this.sequence,["createPCI",JSON.stringify({epcRequest:{entity:Object.assign({},t)},objectType:e})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetRelatedProductsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}paramsArray(){return["getRelatedProducts",JSON.stringify({productId:this.productId,searchString:this.searchString})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10);t.ParentChildItemInput=class extends i.VlocityInput{constructor(){super(),this.parentChildItemId="",this.reqBody="",this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}deleteObjectParamsArray(){return["deletePCI",JSON.stringify({epcRequest:{entity:{Id:this.parentChildItemId}}})]}getObjectParamsArray(){const e=n.SalesForceNamespace.prefix;return["readPCI",JSON.stringify({epcRequest:{fieldSet:["Name",`${e}CollapseHierarchy__c`,`${e}IsVirtualItem__c`,`${e}MinQuantity__c`,`${e}MaxQuantity__c`,`${e}Quantity__c`,`${e}MinimumChildItemQuantity__c`,`${e}MaximumChildItemQuantity__c`,`${e}RelationshipType__c`,`${e}ChildProductId__r.${e}ProductSpecId__r.Name`,`${e}ChildProductId__r.${e}VersionLabel__c`,`${e}ChildProductId__r.${e}SpecificationType__c`],query:[{fieldType:"Id",comparisonOperator:"equals",fieldValue:this.parentChildItemId}]}})]}updateObjectParamsArray(){return["updatePCI",JSON.stringify({epcRequest:{entity:Object.assign({Id:this.parentChildItemId},JSON.parse(this.reqBody))}})]}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(21),o=r(312);t.Versioning=class{constructor(e){this.config=e}getVersionObject(){return new o.Version}createVersion(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("createVersion :: Instance of Version must be passed as input");if(!e.objectId)throw new Error("createVersion :: version.objectId must be defined");if(!e.name)throw new Error("createVersion :: version.name must be defined");let t=new i.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["createNewVersion",JSON.stringify({inputMap:e.getCreateRequestBody()})]});return yield this.config.datasource.apexRemote(t).execute()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9);t.Version=class{getCreateRequestBody(){let e={};return e[n.SalesForceNamespace.prefix+"VersionLabel__c"]=this.name,e.objectId=this.objectId,e.objectName=this.objectApiName,e}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(314)),n(r(315)),n(r(316)),n(r(317)),n(r(318))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CreateSalesforceDocumentInput=class{formDocumentObject(e){return{Type:e.name?e.name.split(".").pop():"",Name:e.name,FolderId:this.folderId,Description:"Product Console File Upload",ContentType:e.type,Body:e.base64String}}getInputMap(){const e={epcRequest:{entities:[]}};return this.files.forEach(t=>{const r=this.formDocumentObject(t);e.epcRequest.entities.push({entity:r})}),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.CreateVlocityAttachmentsInput=class{formVlocityAttachmentObject(e){const t=n.SalesForceNamespace.prefix?`${n.SalesForceNamespace.prefix}`:"",r={};return r.Name=e.Name?e.Name:e.documentId,r[`${t}IsDefaultImage__c`]=e[`${t}IsDefaultImage__c`],r[`${t}ContentType__c`]=e[`${t}ContentType__c`],r[`${t}Description__c`]=e[`${t}Description__c`],r[`${t}UrlLong__c`]=e[`${t}UrlLong__c`]?e[`${t}UrlLong__c`]:e.documentId?`/servlet/servlet.FileDownload?file=${e.documentId}`:null,r[`${t}AttachmentId__c`]=e[`${t}AttachmentId__c`],r[`${t}SequenceNumber__c`]=e[`${t}SequenceNumber__c`],r[`${t}ObjectId__c`]=e[`${t}ObjectId__c`]?e[`${t}ObjectId__c`]:this.productId,e.Id?r.Id=e.Id:this.productGroupKey&&(r[`${t}ProductGroupKey__c`]=this.productGroupKey),r}getInputMap(){const e={epcRequest:{entities:[]}};return this.productGroupKey=this.productGroupKey||this.getStoredGroupKey(),this.records.forEach(t=>{const r=this.formVlocityAttachmentObject(t);e.epcRequest.entities.push({entity:r})}),e}getStoredGroupKey(){return window.sessionStorage.getItem(`groupkey-${this.productId}`)||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.DeleteVlocityAttachmentInput=class{constructor(e){this.attachmentIds=e}getInputMap(){const e={epcRequest:{entities:[]}};return this.attachmentIds.forEach(t=>{const r={Id:t.Id};r[`${n.SalesForceNamespace.prefix}ObjectId__c`]=t.objectId,e.epcRequest.entities.push({entity:r})}),["deleteVlocityAttachment",JSON.stringify(e)]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GetVlocityAttachmentDetailsInput=class{getInputMap(){return{epcRequest:{query:[{fieldValue:this.attachmentId,comparisonOperator:"equals",fieldType:"Id"}]}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(10),o=r(319);t.GetVlocityAttachmentsInput=class extends i.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.sortObject={}}getParamsArray(){const e=[{logicalOperator:"or",comparisonOperator:"equals",query:`${n.SalesForceNamespace.prefix}ObjectId__c`,queryValue:this.productId,searchable:!0,arrayIndex:0},{query:"Name",queryValue:"searchStr",logicalOperator:"or",comparisonOperator:"like",searchable:this.searchString&&this.searchString.length>2,arrayIndex:1},{query:`${n.SalesForceNamespace.prefix}ContentType__c`,queryValue:"searchStr",logicalOperator:"or",comparisonOperator:"like",searchable:this.searchString&&this.searchString.length>2,arrayIndex:1}];this.productGroupkey&&e.push({logicalOperator:"or",comparisonOperator:"equals",query:`${n.SalesForceNamespace.prefix}ProductGroupKey__c`,queryValue:this.productGroupkey,searchable:!0,arrayIndex:0}),this.isDefault&&e.push({query:`${n.SalesForceNamespace.prefix}IsDefaultImage__c`,queryValue:this.isDefault,logicalOperator:"and",comparisonOperator:"equals",searchable:!0,arrayIndex:2});const t={orderBy:this.sortObject.sortBy?`${this.sortObject.sortBy} ${this.sortObject.sortOrder?this.sortObject.sortOrder:"ASC"} NULLS LAST`:`${n.SalesForceNamespace.prefix}SequenceNumber__c NULLS LAST,CreatedDate ${this.sortObject.sortOrder?this.sortObject.sortOrder:"ASC"}`,pageSize:this.pageSize?this.pageSize:10,pageNumber:this.pageNumber?this.pageNumber:1,searchKey:this.searchString};return["readVlocityAttachment",o.getInputMap(e,t)]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInputMap=function(e,t){let r={};return r.include=t.include?t.include:[],r.pageInfo={orderBy:t.orderBy,pageSize:t.pageSize,pageNumber:t.pageNumber},r.querySet=function(e,t){let r=[];e.forEach(e=>{if(e.searchable){let n={};if(n.fieldType=e.query,n.comparisonOperator=e.comparisonOperator,n.logicalOperator=e.logicalOperator,"searchStr"!==e.queryValue)n.fieldValue=e.queryValue;else if(t.searchKey&&t.searchKey.length){let e=t.searchKey.split(/[\s,/]+/);e.length>1?n=function(e,t){let r=[];return t.forEach(t=>{if(t){let n={};n.fieldType=e.fieldType,n.comparisonOperator=e.comparisonOperator,n.logicalOperator=e.logicalOperator,n.fieldValue=t,r.push(n)}}),r}(n,e):(n.fieldValue=t.searchKey,n=[n])}r[e.arrayIndex]=r[e.arrayIndex]?[].concat(r[e.arrayIndex],n):[].concat(n)}});let n={and:[]};return r.forEach(e=>{e&&e.length&&n.and.push(e)}),n}(e,t),JSON.stringify({epcRequest:r})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(16),s=r(21),a=r(321),c=r(322);t.VlocityObjectDetails=class{constructor(e){this.attributeAssignments=[],this.cacheExpiration=new Date((new Date).getTime()+144e4),this.isVersioningEnabled=!1,this.config=e}getObjectById(e,t){return n(this,void 0,void 0,function*(){if(!e||!t)throw new Error("ObjectId and ObjectName are required to get object by id");return new Promise((r,n)=>{const o=this.getLayoutByObjectId(e),s=this.getObjectPicklistsByName(t),a=this.getDescribeObjectByName(t),c=this.getObject(e,t,o,a),u=this.getVersioningEnabled();Promise.all([o,s,a,c,u]).then(t=>{const o=t[1],s=t[2];this.isVersioningEnabled=t[4].result;const a=this.getRemoteActionErrors(t);if(a&&a.length)return void n(a);t[0].result&&t[0].result.facets&&t[0].result.facets.length||r([]),this.storeProductGlobalGroupKey(t[3].result),this.storeProductLifecycleStatus(t[3].result);const c=this.getOrCreateAttributeAssignments(t[0].result,e),u=i.SalesForceNamespace.prefix||"";c?c.then(e=>{const i=this.getRemoteActionErrors([e]);a&&a.length?n(i):(this.attributeAssignments=e.result&&e.result.length?e.result:[],this.getDependentPicklistDetails(s.result.RecordTypeId.defaultValue).then(e=>{const n=this.findSectionElement(t[0].result.facets[0].sections,"SubType__c");if(this.findSectionElement(t[0].result.facets[0].sections,"Type__c")&&n&&Object.keys(e.controllerValues).length){const t=this.transformDependentPicklistResponse(e);n.isDependentPicklist=!0,o.result[u+"SubType__c"]=t}const i={objectSections:this.transformServiceResponse(t[0].result,o.result,s.result,t[3].result,this.attributeAssignments),objectData:t[3].result};r(i)}).catch(e=>n([e])))}):this.getDependentPicklistDetails(s.result.RecordTypeId.defaultValue).then(e=>{const n=this.findSectionElement(t[0].result.facets[0].sections,"SubType__c");if(this.findSectionElement(t[0].result.facets[0].sections,"Type__c")&&n&&Object.keys(e.controllerValues).length){const t=this.transformDependentPicklistResponse(e);n.isDependentPicklist=!0,o.result[u+"SubType__c"]=t}const i={objectSections:this.transformServiceResponse(t[0].result,o.result,s.result,t[3].result,this.attributeAssignments),objectData:t[3].result};r(i)}).catch(e=>n([e]))}).catch(e=>n([e]))})})}getVersioningEnabled(){const e=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["isVersioningEnabled",JSON.stringify({})],cacheType:o.CacheType.SESSIONSTORAGE,cacheable:!0,cacheExpiration:this.cacheExpiration});return this.config.datasource.apexRemote(e).execute()}storeProductGlobalGroupKey(e){const t=e[`${i.SalesForceNamespace.prefix}GlobalGroupKey__c`]||null;t&&t.length&&window.sessionStorage.setItem(`groupkey-${e.Id}`,t)}storeProductLifecycleStatus(e){const t=e[`${i.SalesForceNamespace.prefix}LifecycleStatus__c`]||null;t&&t.length&&window.sessionStorage.setItem(`lifecyclestatus-${e.Id}`,t)}saveObject(e,t,r,o){return n(this,void 0,void 0,function*(){if(!e||!t||!t.length)throw new Error("Object Id and a non-empty sections array is required to save an object.");const n=i.SalesForceNamespace.prefix,a={Id:e};r&&(a[n+"GlobalGroupKey__c"]=r);const c=[];let u=[];t.forEach(t=>{t.sectionElements.forEach(t=>{if("field"===t.type.toLocaleLowerCase())"Product2"===o?t.isUpdateable&&this.preProcessRequestFields(a,t):this.preProcessRequestFields(a,t);else{const r={};r[n+"ExcludedPicklistValues__c"]=t.excludedPicklistValues,r[n+"Value__c"]=t.value,r.Id=t.attributeAssignmentId,r[n+"AttributeId__c"]=t.attributeId,r[n+"ObjectId__c"]=e,r[n+"ValueDataType__c"]=t.dataType,r[n+"PicklistId__c"]=t.picklistId,r[n+"UIDisplayType__c"]=t.inputType,this.isAttributeAssignmentChanged(r)&&c.push(r)}})}),c&&c.length>0&&(u=this.saveAttributeAssignments(c));let l,d=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["updateObject",JSON.stringify({so:a})]});return"Product2"===o?l=this.handleSaveObject(a,"updateProduct2"):o===n+"Picklist__c"?(delete a[n+"DataType__c"],l=this.handleSaveObject(a,"updatePicklist")):o===n+"PicklistValue__c"?(delete a[n+"PicklistId__c"],l=this.handleSaveObject(a,"updatePicklistValue")):l=this.config.datasource.apexRemote(d).execute(),yield new Promise((e,t)=>{Promise.all([...u,l]).then(r=>{const n=this.getRemoteActionErrors(r);n&&n.length?t(n):(this.updateAttributeAssignments(r),e(r))}).catch(e=>{t([e])})})})}preProcessRequestFields(e,t){const r=t.dataType.toLowerCase();"date"===r||"datetime"===r?e[t.fieldApiName]=t.value&&new Date(t.value).getTime():"boolean"===r?!0===t.value?e[t.fieldApiName]=t.value:e[t.fieldApiName]=!1:e[t.fieldApiName]=t.value||null}handleSaveObject(e,t){return n(this,void 0,void 0,function*(){const r=JSON.stringify({epcRequest:{entity:e}}),n=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",config:{buffer:!1,timeout:12e4},paramsArray:[t,r]});return yield new Promise((e,t)=>{this.config.datasource.apexRemote(n).execute().then(r=>{"INVOKE-200"===r.errorCode&&r.epcResponse?"success"!==r.epcResponse.overallResult?t(r.epcResponse.failureReason):e({result:r.epcResponse.entities[0].entity,errorCode:r.errorCode,error:r.error,warningMessages:r.epcResponse.warningMessage}):t(r.error)}).catch(e=>{t(e)})})})}amendProduct(e,t,r){return n(this,void 0,void 0,function*(){const n=i.SalesForceNamespace.prefix,o={Id:e};o[n+"GlobalGroupKey__c"]=r[n+"GlobalGroupKey__c"],o[n+"LifecycleStatus__c"]=r[n+"LifecycleStatus__c"]||null,o[n+"SpecificationType__c"]=r[n+"SpecificationType__c"]||null,t.forEach(e=>{e.sectionElements.forEach(e=>{if("field"===e.type.toLocaleLowerCase()&&c.ProductFieldsToEnable.released.indexOf(e.fieldApiName)>=0){const t=e.dataType.toLowerCase();o[e.fieldApiName]="date"===t||"datetime"===t?e.value&&new Date(e.value).getTime():e.value||null}})});const a={epcRequest:{entities:[{entity:o}]}},u=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["amendProduct2",JSON.stringify(a)]});return yield this.config.datasource.apexRemote(u).execute()})}updateAttributeAssignments(e){const t=i.SalesForceNamespace.prefix;e.forEach(e=>{let r=this.attributeAssignments.find(r=>r.attributeAssignment.Id===e.result.Id&&e.result.attributes.type===`${t}AttributeAssignment__c`);r&&Object.keys(e.result).forEach(t=>{r.attributeAssignment[t]=e.result[t]})})}isAttributeAssignmentChanged(e){const t=this.attributeAssignments.find(t=>t.attributeAssignment.Id===e.Id);if(!t||!t.attributeAssignment)return!0;const r=i.SalesForceNamespace.prefix+"Value__c";return!t.attributeAssignment[r]&&e[r]||e[r]!=t.attributeAssignment[r]}transformServiceResponse(e,t,r,n,o,s){const a=i.SalesForceNamespace.prefix||"",c=[];return e.facets[0].sections.forEach(e=>{const i=e.facetSectionObj;c.push({columnLayout:i[a+"ColumnLayout__c"]||"1 Column",id:i.Id,name:e.sectionObj.Name,sectionElements:this.getSectionElements(e,n,r,t,o,s),sequenceNumber:i[a+"Sequence__c"],tabKeySequence:i[a+"TabKeyOrder__c"]||"Top-Down"})}),c}createObject(e,t,r){return n(this,void 0,void 0,function*(){const n={},o=i.SalesForceNamespace.prefix||"";let a=[o+"ObjectTypeName__c",o+"ObjectTypeId__r.Name",o+"ProductSpecId__r.Name"];return"Product2"===e&&(n[`${i.SalesForceNamespace.prefix}LifecycleStatus__c`]=c.ProductLifeCycleStatusValues.draft,a.push("CreatedDate","CreatedById","CreatedBy.Name")),t.forEach(e=>{e.sectionElements.forEach(e=>{if("field"===e.type.toLocaleLowerCase()){const t=e.dataType.toLowerCase();"boolean"===t&&!0!==e.value&&(e.value=!1),void 0!==e.value&&null!==e.value&&(a.push(e.fieldApiName),"date"===t||"datetime"===t?n[e.fieldApiName]=e.value&&new Date(e.value).getTime():"boolean"===t?!0===e.value?n[e.fieldApiName]=e.value:n[e.fieldApiName]=!1:n[e.fieldApiName]=e.value)}})}),"Product2"===e?this.handleCreateObject(n,r,a,"createProduct2"):e===o+"Picklist__c"?this.handleCreateObject(n,r,[],"createPicklist"):e===o+"PicklistValue__c"?this.handleCreateObject(n,r,[],"createPicklistValue"):yield new Promise((t,i)=>{let o=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:[r?"createObjectType":"createObject",JSON.stringify({objectName:e,inputMap:n})]});this.config.datasource.apexRemote(o).execute().then(e=>{const n=this.getRemoteActionErrors([e]);n&&n.length?i(n):(r||window.sessionStorage.setItem("createObjectResponse",JSON.stringify(e)),t(e.result))})})})}handleCreateObject(e,t,r,i){return n(this,void 0,void 0,function*(){const n=JSON.stringify({epcRequest:{entity:e,fieldSet:r}}),o=new s.ApexRemoteInput(Object.assign({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:[i,n]},"createProduct2"===i&&{config:{timeout:12e4}}));return yield new Promise((e,r)=>{this.config.datasource.apexRemote(o).execute().then(n=>{const i=n.epcResponse;let o=[];"INVOKE-200"===n.errorCode&&i?"success"!==i.overallResult&&o.push(i.failureReason):o.push(n.error),o&&o.length?r(o):(t||window.sessionStorage.setItem("createObjectResponse",JSON.stringify({result:i.entities[0].entity,errorCode:n.errorCode,error:n.error})),e(i.entities[0].entity))}).catch(e=>{r(e)})})})}getNewObject(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("Object name is required to get a new object");const t=this.getLayoutByObjectName(e),r=this.getDescribeObjectByName(e),n=this.getObjectPicklistsByName(e);return yield new Promise((e,o)=>{Promise.all([t,r,n]).then(t=>{const r=t[2],n=t[1],s=i.SalesForceNamespace.prefix||"",a=this.getRemoteActionErrors(t);a&&a.length?o(a):this.getDependentPicklistDetails(n.result.RecordTypeId.defaultValue).then(i=>{const o=this.findSectionElement(t[0].result.facets[0].sections,"SubType__c");if(this.findSectionElement(t[0].result.facets[0].sections,"Type__c")&&o&&Object.keys(i.controllerValues).length){const e=this.transformDependentPicklistResponse(i);o.isDependentPicklist=!0,r.result[s+"SubType__c"]=e}e(this.transformServiceResponse(t[0].result,r.result,n.result,null,null,!0))}).catch(e=>o([e]))})})})}findSectionElement(e,t){const r=i.SalesForceNamespace.prefix||"",n=[];return e.forEach(e=>{e.sectionElements&&e.sectionElements.length&&n.push(...e.sectionElements)}),n.find(e=>e[r+"FieldApiName__c"]===r+t)}transformDependentPicklistResponse(e){const t=[];Object.keys(e.controllerValues).forEach(r=>t[e.controllerValues[r]]=r);const r={};return t.forEach(e=>{r[e]=[]}),e.values.forEach(e=>{const n={label:e.label,value:e.value};e.validFor.forEach(e=>{r[t[e]].push(n)})}),r}getDependentPicklistDetails(e,t=a.default.namespacePrefix){return n(this,void 0,void 0,function*(){if(!e)throw new Error("recordTypeId is required to fetch details");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getSObjectPicklistValues",JSON.stringify({recordTypeId:e})]});return(yield this.config.datasource.apexRemote(t).execute()).result})}getRemoteActionErrors(e){let t=[];return e.forEach(e=>{e&&e.messages&&e.messages.length?t=e.messages.filter(e=>"INVOKE-200"!==e.errorCode).map(e=>e.message):e&&"INVOKE-200"!==e.errorCode&&t.push(e.error)}),t}getSectionElements(e,t,r,n,o,s){const a=i.SalesForceNamespace.prefix||"",c=[];return e&&e.sectionElements&&e.sectionElements.forEach(e=>{const i=!s&&o.find(t=>t.attributeAssignment[a+"AttributeId__c"]===e[a+"AttributeId__c"]),u=i&&i.attributeAssignment,l=Object.assign({attributeAssignmentId:!s&&this.getAttributeAssignmentId(o,e),attributeId:e[a+"AttributeId__c"],columnNumber:+e[a+"Column__c"]||1,dataType:this.getDataType(e,u,r),fieldApiName:e[a+"FieldApiName__c"],id:e.Id,inputType:this.getInputType(e,u,r),isRequired:"Field"===e[a+"Type__c"]?e[a+"IsRequired__c"]:u&&u[a+"IsRequired__c"],isRuntimeConfigurable:u&&u[a+"IsConfigurable__c"],isRuntimeHidden:u&&u[a+"IsHidden__c"],isRuntimeReadOnly:u&&u[a+"IsReadOnly__c"],hasRule:u&&u[a+"HasRule__c"],isActiveAssignment:u&&u[a+"IsActiveAssignment__c"],label:e.Name,lookupObjectName:this.getLookupObjectName(e[a+"FieldApiName__c"],r),objectId:t&&t.Id,excludedPicklistValues:u&&u[a+"ExcludedPicklistValues__c"],options:this.getPicklistItems(e,i,n),picklistId:i&&i.attributeAssignment[a+"PicklistId__c"],refValue:!s&&this.getRefValue(t,e),sequenceNumber:e[a+"Sequence__c"],type:e[a+"Type__c"],isDependentPicklist:e.isDependentPicklist,controllingFieldValue:s?null:e[a+"FieldApiName__c"]===a+"SubType__c"?t[a+"Type__c"]:null,value:this.getElementValue(e,t,u,s),isDisabled:this.isElementDisabled(e,t)},e[a+"FieldApiName__c"]&&{isUpdateable:r[e[a+"FieldApiName__c"]].isUpdateable});l.dataType&&l.inputType&&c.push(l)}),c}isElementDisabled(e,t){let r=!1;const n=i.SalesForceNamespace.prefix||"",o=e[n+"FieldApiName__c"],s=t&&t[`${n}LifecycleStatus__c`],a=t&&t[`${n}SpecificationType__c`],u=c.ProductFieldsToEnable.released;if(s===c.ProductLifeCycleStatusValues.released&&a!==c.ProductSpecificationTypeValues.product&&a!==c.ProductSpecificationTypeValues.offer&&[`${n}VersionStartDateTime__c`,`${n}VersionEndDateTime__c`,`${n}VersionLabel__c`].forEach(e=>{const t=u.indexOf(e);t>=0&&u.splice(t,1)}),c.ProductFieldsToDisable.indexOf(o)>=0)r=!0;else if(this.isVersioningEnabled&&(s===c.ProductLifeCycleStatusValues.released||s===c.ProductLifeCycleStatusValues.amendmentPending)){const t=s===c.ProductLifeCycleStatusValues.released?u:c.ProductFieldsToEnable.amendmentPending;("Attribute"===e[n+"Type__c"]||t.indexOf(o)<0)&&(r=!0)}return r}getLookupObjectName(e,t){return e&&t[e]&&t[e].referenceTo}getElementValue(e,t,r,n){const o=i.SalesForceNamespace.prefix||"";return"Field"===e[o+"Type__c"]?n?e[o+"FieldApiName__c"]===o+"LifecycleStatus__c"?c.ProductLifeCycleStatusValues.draft:null:t[e[o+"FieldApiName__c"]]:r&&r[o+"Value__c"]}getDataType(e,t,r){const n=i.SalesForceNamespace.prefix||"";return"Field"===e[n+"Type__c"]?"MULTIPICKLIST"===r[e[n+"FieldApiName__c"]].type?"Multi Picklist":r[e[n+"FieldApiName__c"]].type:t&&t[n+"ValueDataType__c"]}getInputType(e,t,r){const n=i.SalesForceNamespace.prefix||"";return"Field"===e[n+"Type__c"]?"MULTIPICKLIST"===r[e[n+"FieldApiName__c"]].type?"Multi Picklist":r[e[n+"FieldApiName__c"]].type:t&&(t[n+"UIDisplayType__c"]||t[n+"ValueDataType__c"])}getPicklistItems(e,t,r){const n=t&&t.attributeAssignment,o=i.SalesForceNamespace.prefix||"";let s=n&&n[o+"ValidValuesData__c"];return s=s&&JSON.parse(s),r[e[o+"FieldApiName__c"]]||Array.isArray(s)&&s.map(e=>({label:e.displayText,value:e.value}))}getLayoutByObjectId(e){let t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getObjectLayoutById",JSON.stringify({objectId:e,isInherited:!0})]});return this.config.datasource.apexRemote(t).execute()}getObjectPicklistsByName(e){let t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getObjectPicklistsByName",JSON.stringify({objectName:e})],cacheType:o.CacheType.SESSIONSTORAGE,cacheable:!0,cacheExpiration:this.cacheExpiration});return this.config.datasource.apexRemote(t).execute()}getDescribeObjectById(e){let t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["describeObjectbyId",JSON.stringify({objectId:e})]});return this.config.datasource.apexRemote(t).execute()}getObject(e,t,r,n){const i=window.sessionStorage.getItem("createObjectResponse"),o=i?JSON.parse(i):null;if(o&&o.result.Id===e)return window.sessionStorage.removeItem("createObjectResponse"),new Promise(e=>{e(o)});{if("Product2"===t)return this.getProduct2(e,r,n);let i=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getObject",JSON.stringify({objectId:e})]});return this.config.datasource.apexRemote(i).execute()}}getProduct2(e,t,r){return n(this,void 0,void 0,function*(){const n=i.SalesForceNamespace.prefix,o={epcRequest:{entity:{Id:e},fieldSet:[n+"ObjectTypeName__c",n+"ObjectTypeId__r.Name",n+"ProductSpecId__r.Name"]}};return yield new Promise((e,i)=>{Promise.all([t,r]).then(t=>{const r=t[0],a=t[1].result;r.result&&r.result.facets&&r.result.facets[0]&&r.result.facets[0].sections.forEach(e=>{e.sectionElements&&e.sectionElements.forEach(e=>{if("Field"===e[n+"Type__c"]){o.epcRequest.fieldSet.push(e[n+"FieldApiName__c"]);const t=e[n+"FieldApiName__c"];"REFERENCE"===a[t].type&&o.epcRequest.fieldSet.push(-1!==t.indexOf("__c")?t.replace("__c","__r.Name"):t.slice(0,-2)+".Name")}})});const c=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["readProduct2",JSON.stringify(o)]});return this.config.datasource.apexRemote(c).execute().then(t=>{"INVOKE-200"===t.errorCode&&t.epcResponse?"success"!==t.epcResponse.overallResult?i(t.epcResponse.failureReason):e({result:t.epcResponse.entities[0].entity,errorCode:t.errorCode,error:t.error}):i(t.error)})}).catch(e=>{i(e)})})})}getRefValue(e,t){const r=t[i.SalesForceNamespace.prefix+"FieldApiName__c"],n=r?c.ProductReferenceFields[r]?c.ProductReferenceFields[r]:r.slice(0,-1)+"r":null;return e[n]&&{Id:e[n].Id,Name:e[n].Name}}getAttributeAssignmentId(e,t){const r=i.SalesForceNamespace.prefix,n=e.find(e=>e.attributeAssignment[r+"AttributeId__c"]===t[r+"AttributeId__c"]);return n&&n.attributeAssignment.Id}saveAttributeAssignments(e){const t=[];let r;return e.forEach(e=>{r=new s.ApexRemoteInput({config:{buffer:!1,timeout:12e4},className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["saveAttributeAssignment",JSON.stringify({so:e})]}),t.push(this.config.datasource.apexRemote(r).execute())}),t}getOrCreateAttributeAssignments(e,t){const r=e.facets[0].sections,n=i.SalesForceNamespace.prefix,o=[];let a;if(r.forEach(e=>{e.sectionElements&&e.sectionElements.length&&o.push(...e.sectionElements.filter(e=>"Attribute"===e[n+"Type__c"]).map(e=>e[n+"AttributeId__c"]))}),!o.length)return;let c=[];return o.forEach(e=>{let r={};r[`${n}ObjectId__c`]=t,r[`${n}AttributeId__c`]=e,c.push(r)}),a=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["createOrGetAttributeAssignments",JSON.stringify({soMap:c})]}),this.config.datasource.apexRemote(a).execute()}getLayoutByObjectName(e){let t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getObjectLayoutByName",JSON.stringify({objectName:e,recordType:""})]});return this.config.datasource.apexRemote(t).execute()}getDescribeObjectByName(e){let t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["describeObject",JSON.stringify({objectName:e})],cacheType:o.CacheType.SESSIONSTORAGE,cacheable:!0,cacheExpiration:this.cacheExpiration});return this.config.datasource.apexRemote(t).execute()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={loginUrl:"https://login.salesforce.com",namespace:"rs_pc",namespacePrefix:"rs_pc__",password:"BFG_REPLACED_PASSWORD",salesforceUrl:"https://na53.salesforce.com/",sessionToken:"",username:"rsprodconsole@vlocity.com"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.ProductLifeCycleStatusValues={released:"Released",draft:"Draft",amendmentPending:"Amendment Pending"};const i=n.SalesForceNamespace.prefix||"",o={released:[`${i}VersionStartDateTime__c`,`${i}VersionEndDateTime__c`,`${i}VersionLabel__c`,"Name","Description","ProductCode","IsActive",`${i}IsOrderable__c`,`${i}Status__c`],amendmentPending:[]};t.ProductFieldsToEnable=o;const s=["Id","CreatedDate","CreatedById","LastModifiedDate","LastModifiedById","SystemModstamp","IsDeleted",`${i}GlobalGroupKey__c`,`${i}GlobalKey__c`,`${i}LifecycleStatus__c`];t.ProductFieldsToDisable=s;t.ProductReferenceFields={CreatedById:"CreatedBy",LastModifiedById:"LastModifiedBy",RecordTypeId:"RecordType"};t.ProductSpecificationTypeValues={product:"Product",offer:"Offer",resource:"Resource",service:"Service"}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(21),o=r(324);t.VlocityAttributes=class{constructor(e){this.config=e}getObjects(e){const t=this.getAllObjects(),r=this.getApplicableObjects(e);return new Promise((e,n)=>{Promise.all([t,r]).then(t=>{e(this.transformObjects(t[0].result,t[1].result))}).catch(e=>{n(e)})})}getAllObjects(){return n(this,void 0,void 0,function*(){const e=new i.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getAllObjectClasses",JSON.stringify({})]});return yield this.config.datasource.apexRemote(e).execute()})}getApplicableObjects(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("attributeId :: getApplicableObjects() must be defined");const t=new i.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getApplicableObjectClasses",JSON.stringify({attributeId:e})]});return yield this.config.datasource.apexRemote(t).execute()})}transformObjects(e,t){return t&&t.length&&t.forEach(t=>{const r=e.find(e=>e.Id===t.Id);r&&(r.isSelected=!0)}),{allObjects:e,appliedObjects:t}}saveApplicableObjects(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("UpdateApplicableObjectsInput :: saveApplicableObjects() must be defined");if(!e.attributeId)throw new Error("UpdateApplicableObjectsInput :: saveApplicableObjects() must have attributeId defined");if(!e.newApplicableObjectClasses)throw new Error("UpdateApplicableObjectsInput :: saveApplicableObjects() must have newApplicableObjectClasses defined");if(!e.newNonApplicableObjectClasses)throw new Error("UpdateApplicableObjectsInput :: saveApplicableObjects() must have newNonApplicableObjectClasses defined");const t=new i.ApexRemoteInput({className:e.remoteClass,methodName:e.remoteMethod,paramsArray:e.getParamsArray()});return yield this.config.datasource.apexRemote(t).execute()})}createUpdateApplicableObjectsInput(){return new o.UpdateApplicableObjectsInput}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(325))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.UpdateApplicableObjectsInput=class extends n.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getParamsArray(){return["saveApplicableObjectClasses",JSON.stringify({attributeId:this.attributeId,newApplicableObjectClasses:JSON.stringify(this.newApplicableObjectClasses),newNonApplicableObjectClasses:JSON.stringify(this.newNonApplicableObjectClasses)})]}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(9),s=r(21),a=r(327);t.VlocityObject=class{constructor(e){this.cacheExpiration=new Date((new Date).getTime()+144e4),this.config=e}getFacetDetails(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("GetFacetDetailsInput :: getFacetDetails() must be defined");if(!e.objectId)throw new Error("GetFacetDetailsInput :: getFacetDetails() must have objectId");if(!e.facetName)throw new Error("GetFacetDetailsInput :: getFacetDetails() must have facetName");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getFacetsObject",JSON.stringify({id:e.objectId,facet:e.facetName})]});return yield this.config.datasource.apexRemote(t).execute()})}createGetFacetDetailsInput(e,t){return new a.GetFacetDetailsInput(e,t)}getLayoutDetails(e,t){const r=this.createGetFacetDetailsInput(e,t),n=[this.getFacetDetails(r)];if(!this.objectDetails){const t=this.getObjectDetails(e);n.push(t)}return new Promise((e,t)=>{Promise.all(n).then(t=>{this.objectDetails||(this.objectDetails=t[1].result),e(this.transformFacetDetails(t[0]))}).catch(e=>{t(e)})})}transformSection(e){return e.sectionElements&&e.sectionElements.records&&e.sectionElements.records.length?e.sectionElements.records.forEach(e=>{if("Field"===e.propertyType||"Field"===e[`${o.SalesForceNamespace.prefix}Type__c`]){const t=e[`${o.SalesForceNamespace.prefix}FieldApiName__c`],r=this.objectDetails[t];e.isRequired=r&&r.isRequired||e.isRequired||e[`${o.SalesForceNamespace.prefix}IsRequired__c`]||!1,e.disableIsRequired=!(!r||!r.isRequired)}}):e.sectionElements={records:[]},"2 Columns"===e[`${o.SalesForceNamespace.prefix}ColumnLayout__c`]?(e.formattedElements=[{elements:[]},{elements:[]}],e.sectionElements&&e.sectionElements.records&&e.sectionElements.records.forEach(t=>{"1"!==t[`${o.SalesForceNamespace.prefix}Column__c`]&&t[`${o.SalesForceNamespace.prefix}Column__c`]?e.formattedElements[1].elements.push(t):e.formattedElements[0].elements.push(t)})):e.formattedElements=[{elements:e.sectionElements&&e.sectionElements.records?e.sectionElements.records:[]}],e}getObjectDetails(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("getObjectDetails() :: objectId must be defined");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["describeObjectbyId",JSON.stringify({objectId:e})],cacheType:i.CacheType.SESSIONSTORAGE,cacheable:!0,cacheExpiration:this.cacheExpiration});return yield this.config.datasource.apexRemote(t).execute()})}getApplicableAttributesFields(e,t){if(!e)throw new Error("getApplicableAttributesFields() :: objectId is requried to fetch facet details of object");if(!t)throw new Error("getApplicableAttributesFields() :: facetName is requried to fetch facet details");const r=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getProductProperties",JSON.stringify({id:e,facet:t})]});return new Promise((e,t)=>{this.config.datasource.apexRemote(r).execute().then(t=>{const r={attributes:[],fields:[]};t.records.forEach(e=>{"Field"===e.propertyType?r.fields.push(e):r.attributes.push(e)}),r.fields.sort((e,t)=>e.label.toLowerCase()>t.label.toLowerCase()?1:-1),r.attributes.sort((e,t)=>e.Name.toLowerCase()>t.Name.toLowerCase()?1:-1),e(r)}).catch(e=>t(e))})}upsertSectionElement(e){return new Promise((t,r)=>{let n,i,s=!1,a=null;"Attribute"!==e.sectionElement.propertyType&&"Attribute"!==e.sectionElement[`${o.SalesForceNamespace.prefix}Type__c`]||e.sectionElement[`${o.SalesForceNamespace.prefix}ObjectSectionId__c`]||(a=e.sectionElement.AttributeId||e.sectionElement[`${o.SalesForceNamespace.prefix}AttributeId__c`],n=this.createAttributeAssignment(e.objectId,a),s=!0),e.sectionElement[`${o.SalesForceNamespace.prefix}ObjectSectionId__c`]||(i=s?a:e.sectionElement[`${o.SalesForceNamespace.prefix}FieldApiName__c`]?e.sectionElement[`${o.SalesForceNamespace.prefix}FieldApiName__c`]:e.sectionElement.Name),s?n.then(n=>{const o=this.getErrorMessagesFromResponse(n);o&&o.length?r(o):this.upsertSectionEleAndObjectFieldAttribute(e,i,s).then(e=>{t(e)}).catch(e=>{r(e)})}).catch(e=>{r(e)}):this.upsertSectionEleAndObjectFieldAttribute(e,i,s).then(e=>{t(e)}).catch(e=>{r(e)})})}upsertSectionEleAndObjectFieldAttribute(e,t,r){return new Promise((n,i)=>{e.sectionElement[`${o.SalesForceNamespace.prefix}ObjectSectionId__c`]?this.createOrUpdateSectionElement(e).then(e=>{const t=this.getErrorMessagesFromResponse(e);t&&t.length?i(t):n(e)}).catch(e=>{i(e)}):this.createObjectFieldAttribute(t,e.objectId,r).then(t=>{const r=this.getErrorMessagesFromResponse(t);r&&r.length?i(r):this.createOrUpdateSectionElement(e).then(e=>{const t=this.getErrorMessagesFromResponse(e);t&&t.length?i(t):n(e)}).catch(e=>{i(e)})}).catch(e=>{i(e)})})}getErrorMessagesFromResponse(e){let t="";return e.messages&&e.messages.length?t=e.messages.reduce((e,t)=>"INVOKE-200"!==t.messageId?e+t.message+"\r\n":e,""):"INVOKE-200"!==e.errorCode&&(t=e.error),t}createOrUpdateSectionElement(e){if(!e)throw new Error("UpsertSectionElementInput :: createOrUpdateSectionElement() must be defined");if(!e.sectionElement)throw new Error("UpsertSectionElementInput :: createOrUpdateSectionElement() must have sectionElement defined");if(!e.sectionElement.Id&&!e.sectionId)throw new Error("UpsertSectionElementInput :: createOrUpdateSectionElement() must have sectionId defined");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:e.getParamsArray()});return new Promise((r,n)=>{this.config.datasource.apexRemote(t).execute().then(t=>{e.noRenumberElements?r(t):this.renumberSectionElements(e.sectionId).then(e=>r(e)).catch(e=>n(e))}).catch(e=>n(e))})}createAttributeAssignment(e,t){return n(this,void 0,void 0,function*(){if(!e)throw new Error("createAttributeAssignment :: objectId is required to create Attribute assignment");if(!t)throw new Error("createAttributeAssignment :: attributeId is required to create Attribute assignment");const r=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["createObjectAttributeAssignment",JSON.stringify({objectId:e,attributeId:t})]});return yield this.config.datasource.apexRemote(r).execute()})}renumberSectionElements(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("renumberSectionElements() :: sectionId is required to renumber section elements");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["renumberSectionElements",JSON.stringify({objectSectionId:e})]});return yield this.config.datasource.apexRemote(t).execute()})}createSectionElementUpsertInput(){return new a.UpsertSectionElementInput}createUpsertSectionInput(){return new a.UpsertSectionInput}upsertSection(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("UpsertSectionInput :: upsertSection() must be defined");if(e.section&&!e.section.Id&&!e.objectFacetId)throw new Error("UpsertSectionInput :: upsertSection() must have objectFacetId");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:e.getParamsArray()});return new Promise((r,n)=>{this.config.datasource.apexRemote(t).execute().then(t=>{if(t.errorCode&&"INVOKE-200"===t.errorCode){let i;(i=e.section.Id?this.postUpdateSection(e.section.Id):this.renumberSections(e.objectFacetId)).then(e=>{e.errorCode&&"INVOKE-200"===e.errorCode?r(t.result):n(e.error)}).catch(e=>{n(e)})}else r(t)}).catch(e=>n(e))})})}renumberSections(e){return n(this,void 0,void 0,function*(){const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["renumberSections",JSON.stringify({objectFacetId:e})]});return yield this.config.datasource.apexRemote(t).execute()})}postUpdateSection(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("postUpdateSection :: objectSectionId must be defined");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["postUpdateSection",JSON.stringify({objectSectionId:e})]});return yield this.config.datasource.apexRemote(t).execute()})}getAttributeAssignmentObject(e,t){const r=this.getAttributeAssignment(e,t),n=`${o.SalesForceNamespace.prefix}AttributeAssignment__c`,i=this.getObjectPicklistsByName(n);return new Promise((e,t)=>{Promise.all([r,i]).then(t=>e(t)).catch(e=>t(e))})}getAttributeAssignment(e,t){if(!e)throw new Error("getAttributeAssignment :: objectId must be defined");if(!t)throw new Error("getAttributeAssignment :: attributeId must be defined");const r=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getAttributeAssignmentByAttributeId",JSON.stringify({objectId:e,attributeId:t})]});return new Promise((e,t)=>{this.config.datasource.apexRemote(r).execute().then(r=>{const n=r.result.attributeAssignment;!n[`${o.SalesForceNamespace.prefix}PicklistId__c`]||"Picklist"!==n[`${o.SalesForceNamespace.prefix}ValueDataType__c`]&&"Multi Picklist"!==n[`${o.SalesForceNamespace.prefix}ValueDataType__c`]?e({attributeAssignment:n}):this.getPicklistObject(n[`${o.SalesForceNamespace.prefix}PicklistId__c`]).then(t=>{e({attributeAssignment:n,picklistItems:r.result.picklistItems,picklistObject:t.result,excludedPicklistItems:r.result.excludedPicklistItems})}).catch(e=>t(e))}).catch(e=>{t(e)})})}getPicklistItems(e){if(!e)throw new Error("getPicklistItems :: picklistObjectId must be defined");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getPicklistItems",JSON.stringify({picklistId:e})]});return new Promise((e,r)=>{this.config.datasource.apexRemote(t).execute().then(t=>{t.result&&t.result.length&&t.result.forEach(e=>{e.label=e.Name,e.value=e.Name}),e(t)}).catch(e=>r(e))})}getPicklistObject(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("getPicklistObject :: picklistId must be defined");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getObject",JSON.stringify({objectId:e})]});return yield this.config.datasource.apexRemote(t).execute()})}getObjectPicklistsByName(e){return n(this,void 0,void 0,function*(){if(!e)throw new Error("getObjectPicklistsByName :: objectName must be defined");const t=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["getObjectPicklistsByName",JSON.stringify({objectName:e})],cacheType:i.CacheType.SESSIONSTORAGE,cacheable:!0,cacheExpiration:this.cacheExpiration});return yield this.config.datasource.apexRemote(t).execute()})}transformFacetDetails(e){const t=e.records&&e.records[0];if(!t)return{};const r={objectFacetId:t.Id,records:t.Sections.records||[]};return r&&r.records&&r.records.forEach(e=>{e=this.transformSection(e)}),r}createObjectFieldAttribute(e,t,r){return n(this,void 0,void 0,function*(){if(!e)throw new Error("createObjectFieldAttribute :: attributeIdOrField must be defined");if(!t)throw new Error("createObjectFieldAttribute :: objectId must be defined");const n={objectClassId:t};r?n.attributeId=e:n.fieldApiName=e;const i=new s.ApexRemoteInput({className:"ProductConsoleControllerV2",methodName:"invokeMethod",paramsArray:["createObjectFieldAttribute",JSON.stringify(n)]});return yield this.config.datasource.apexRemote(i).execute()})}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(328)),n(r(329)),n(r(330))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);t.GetFacetDetailsInput=class extends n.VlocityInput{constructor(e,t){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod",this.objectId=e,this.facetName=t}getParamsArray(){return["getFacetsObject",JSON.stringify({objectId:this.objectId,facetName:this.facetName})]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),i=r(10);t.UpsertSectionElementInput=class extends i.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getParamsArray(){return this.sectionElement[`${n.SalesForceNamespace.prefix}ObjectSectionId__c`]?["updateObject",JSON.stringify({so:this.getInputMap()})]:["createObject",JSON.stringify({objectName:`${n.SalesForceNamespace.prefix}ObjectElement__c`,inputMap:this.getInputMap()})]}getInputMap(){let e={Name:this.sectionElement.label?this.sectionElement.label:this.sectionElement.Name};return this.sectionElement.Id&&(e.Id=this.sectionElement.Id),e[`${n.SalesForceNamespace.prefix}ObjectSectionId__c`]=this.sectionId?this.sectionId:this.sectionElement[`${n.SalesForceNamespace.prefix}ObjectSectionId__c`],e[`${n.SalesForceNamespace.prefix}Sequence__c`]=this.sectionElement[`${n.SalesForceNamespace.prefix}Sequence__c`],e[`${n.SalesForceNamespace.prefix}Column__c`]=this.sectionElement[`${n.SalesForceNamespace.prefix}Column__c`]?this.sectionElement[`${n.SalesForceNamespace.prefix}Column__c`].toString():"1",e[`${n.SalesForceNamespace.prefix}IsRequired__c`]=this.sectionElement.isRequired,"Field"===this.sectionElement.propertyType||"Field"===this.sectionElement[`${n.SalesForceNamespace.prefix}Type__c`]?e[`${n.SalesForceNamespace.prefix}FieldApiName__c`]=this.sectionElement[`${n.SalesForceNamespace.prefix}FieldApiName__c`]?this.sectionElement[`${n.SalesForceNamespace.prefix}FieldApiName__c`]:this.sectionElement.Name:e[`${n.SalesForceNamespace.prefix}AttributeId__c`]=this.sectionElement.AttributeId||this.sectionElement[`${n.SalesForceNamespace.prefix}AttributeId__c`],e[`${n.SalesForceNamespace.prefix}Type__c`]=this.sectionElement[`${n.SalesForceNamespace.prefix}Type__c`]?this.sectionElement[`${n.SalesForceNamespace.prefix}Type__c`]:this.sectionElement.propertyType,e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),i=r(10);t.UpsertSectionInput=class extends i.VlocityInput{constructor(){super(),this.remoteClass="ProductConsoleControllerV2",this.remoteMethod="invokeMethod"}getParamsArray(){return this.section&&this.section.Id?["updateObject",JSON.stringify({so:this.getInputMap()})]:["createObject",JSON.stringify({objectName:`${n.SalesForceNamespace.prefix}ObjectSection__c`,inputMap:this.getInputMap()})]}getInputMap(){let e={};return this.section.Id&&(e.Id=this.section.Id),e[`${n.SalesForceNamespace.prefix}SectionId__c`]=this.section[`${n.SalesForceNamespace.prefix}SectionId__c`],e[`${n.SalesForceNamespace.prefix}ColumnLayout__c`]=this.section[`${n.SalesForceNamespace.prefix}ColumnLayout__c`]?this.section[`${n.SalesForceNamespace.prefix}ColumnLayout__c`]:"1 Column",e[`${n.SalesForceNamespace.prefix}TabKeyOrder__c`]=this.section[`${n.SalesForceNamespace.prefix}TabKeyOrder__c`]?this.section[`${n.SalesForceNamespace.prefix}TabKeyOrder__c`]:"Top-Down",e[`${n.SalesForceNamespace.prefix}ObjectFacetId__c`]=this.section[`${n.SalesForceNamespace.prefix}ObjectFacetId__c`]?this.section[`${n.SalesForceNamespace.prefix}ObjectFacetId__c`]:this.objectFacetId,e}}}])});
//# sourceMappingURL=productconsole.sdk.js.map