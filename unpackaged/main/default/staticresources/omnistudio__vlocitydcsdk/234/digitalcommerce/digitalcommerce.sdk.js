/*! ************************************************************************
 *
 * VLOCITY, INC. CONFIDENTIAL
 * __________________
 *
 *  [2014] - [2019] Vlocity, Inc.
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Vlocity, Inc. and its suppliers,
 * if any. The intellectual and technical concepts contained
 * herein are proprietary to Vlocity, Inc. and its suppliers and may be
 * covered by U.S. and Foreign Patents, patents in process, and are
 * protected by trade secret or copyright law. Dissemination of this
 * information and reproduction, modification or reverse-engineering
 * of this material, is prohibited unless prior written permission
 * is obtained from Vlocity, Inc.
 *
 * Build details:  
 * hash: 7ba8fe61081152867f66
 * chunkhash: cf15f3c383ade6d2d0f1
 * file: digitalcommerce.sdk.js
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.digitalcommerce=t():(e.VlocitySDK=e.VlocitySDK||{},e.VlocitySDK.digitalcommerce=t())}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=205)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(47)),n(r(16)),n(r(48)),n(r(9)),n(r(51))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(50))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(56))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=500;class i{static setDefaultRetryCount(e){this.defaultRetryCount=e}static addRetryDelay(){return new Promise(e=>{setTimeout(e,n)})}static setDefaultTimeout(e){this.defaultTimeout=e}}t.default=i,i.defaultRetryCount=3,i.defaultTimeout=1e4},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(33)),n(r(90)),n(r(91))},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,o,s;if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=y(u,c);for(r=0;r<c;++r)o(l[r],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static get namespace(){return n.internalNamespace}static set namespace(e){n.internalNamespace=e,e?(n.internalPrefix=`${e}__`,n.internalRestAPIPrefix=`/${e}`):(n.internalPrefix=e,n.internalRestAPIPrefix=e)}static get prefix(){return n.internalPrefix}static get restAPIPrefix(){return n.internalRestAPIPrefix}}t.SalesForceNamespace=n,n.internalPrefix="omnistudio__",n.internalNamespace="omnistudio",n.internalRestAPIPrefix="/omnistudio"},,function(e,t,r){"use strict";(function(t){var n=r(60);n.prototype.thenCall=function(e){return"function"==typeof e&&this.then(function(r){t.nextTick(function(){e(null,r)})},function(r){t.nextTick(function(){e(r)})}),this},n.prototype.fail=n.prototype.catch,n.defer=function(){return new i};var i=function(){var e=this;this.promise=new n(function(t,r){e.resolve=t,e.reject=r})};e.exports=n}).call(this,r(5))},function(e,t,r){"use strict";var n=r(20),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=Object.create(r(14));o.inherits=r(3);var s=r(38),a=r(41);o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=new Function("try {return this===global;}catch(e){return false;}")()},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(17).Buffer)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(82)),n(r(83))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INDEXEDDB="INDEXEDDB",e.LOCALSTORAGE="LOCALSTORAGE",e.SESSIONSTORAGE="SESSIONSTORAGE"}(t.CacheType||(t.CacheType={}))},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(58),i=r(59),o=r(36);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|d(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return K(q(t,e.length-r),e,r,n)}function _(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return _(e,t,r,n)}function w(e,t,r,n){return K(F(t),e,r,n)}function C(e,t,r,n){return K(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),h=0;h<a;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function R(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function k(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,o){return o||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return o||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:q(new u(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(8))},function(e,t){e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},function(e,t,r){(t=e.exports=r(38)).Stream=t,t.Readable=t,t.Writable=r(41),t.Duplex=r(12),t.Transform=r(43),t.PassThrough=r(74)},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,r(5))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(80)),n(r(81))},function(e,t,r){"use strict";var n=r(7).EventEmitter,i=e.exports=new n;i.VERSION=r(34),i.Connection=r(35),i.OAuth2=r(23),i.Date=i.SfDate=r(27),i.Promise=r(11),i.require=r(77)},function(e,t,r){"use strict";var n=r(63),i=r(24),o="https://login.salesforce.com",s=e.exports=function(e){e.authzServiceUrl&&e.tokenServiceUrl?(this.loginUrl=e.authzServiceUrl.split("/").slice(0,3).join("/"),this.authzServiceUrl=e.authzServiceUrl,this.tokenServiceUrl=e.tokenServiceUrl,this.revokeServiceUrl=e.revokeServiceUrl):(this.loginUrl=e.loginUrl||o,this.authzServiceUrl=this.loginUrl+"/services/oauth2/authorize",this.tokenServiceUrl=this.loginUrl+"/services/oauth2/token",this.revokeServiceUrl=this.loginUrl+"/services/oauth2/revoke"),this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.redirectUri=e.redirectUri,e.proxyUrl?this._transport=new i.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new i.HttpProxyTransport(e.httpProxy):this._transport=new i};Object.assign(s.prototype,{getAuthorizationUrl:function(e){return e=Object.assign({response_type:"code",client_id:this.clientId,redirect_uri:this.redirectUri},e||{}),this.authzServiceUrl+(this.authzServiceUrl.indexOf("?")>=0?"&":"?")+n.stringify(e)},refreshToken:function(e,t){var r={grant_type:"refresh_token",refresh_token:e,client_id:this.clientId};return this.clientSecret&&(r.client_secret=this.clientSecret),this._postParams(r,t)},requestToken:function(e,t,r){return"function"==typeof t&&(r=t,t={}),t=Object.assign({grant_type:"authorization_code",code:e,client_id:this.clientId,redirect_uri:this.redirectUri},t||{}),this.clientSecret&&(t.client_secret=this.clientSecret),this._postParams(t,r)},authenticate:function(e,t,r){return this._postParams({grant_type:"password",username:e,password:t,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},r)},revokeToken:function(e,t){return this._transport.httpRequest({method:"POST",url:this.revokeServiceUrl,body:n.stringify({token:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.statusCode>=400){var t=n.parse(e.body);t&&t.error||(t={error:"ERROR_HTTP_"+e.statusCode,error_description:e.body});var r=new Error(t.error_description);throw r.name=t.error,r}}).thenCall(t)},_postParams:function(e,t){return this._transport.httpRequest({method:"POST",url:this.tokenServiceUrl,body:n.stringify(e),headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(e){var t;try{t=JSON.parse(e.body)}catch(e){}if(e.statusCode>=400){t=t||{error:"ERROR_HTTP_"+e.statusCode,error_description:e.body};var r=new Error(t.error_description);throw r.name=t.error,r}return t}).thenCall(t)}})},function(e,t,r){"use strict";(function(t){var n,i=r(18),o=r(11),s=r(66),a=r(75),u=r(76);if(s.defaults){var c={followAllRedirects:!0};t.env.HTTP_PROXY&&(c.proxy=t.env.HTTP_PROXY),parseInt(t.env.HTTP_TIMEOUT)&&(c.timeout=parseInt(t.env.HTTP_TIMEOUT)),s=s.defaults(c)}if("undefined"==typeof window)n=t.env.LOCATION_BASE_URL||"";else{var l=function(e){var t=/(\w+)\.(visual\.force|salesforce)\.com$/.exec(e);t&&(e=t[1]+".salesforce.com");return e}(window.location.host);n=l?"https://"+l:""}var h=e.exports=function(){};h.prototype.httpRequest=function(e,t){var r,n=o.defer(),i=this._getHttpRequestModule();return function e(t,r){var n=t.then;return t.then=function(){return r(),e(n.apply(t,arguments),r)},t.stream=r,t}(n.promise,function(){return r||(r=i(e,function(e,t){e?n.reject(e):n.resolve(t)})),r}).thenCall(t)},h.prototype._getHttpRequestModule=function(){return s};var f=h.JsonpTransport=function(e){this._jsonpParam=e};i(f,h),f.prototype._getHttpRequestModule=function(){return u.createRequest(this._jsonpParam)},f.supported=u.supported;var d=h.CanvasTransport=function(e){this._signedRequest=e};i(d,h),d.prototype._getHttpRequestModule=function(){return a.createRequest(this._signedRequest)},d.supported=a.supported;var p=h.ProxyTransport=function(e){this._proxyUrl=e};i(p,h),p.prototype.httpRequest=function(e,t){var r=e.url;0===r.indexOf("/")&&(r=n+r);var i={method:e.method,url:this._proxyUrl+"?"+Date.now()+"."+(""+Math.random()).substring(2),headers:{"salesforceproxy-endpoint":r}};if((e.body||""===e.body)&&(i.body=e.body),e.headers)for(var o in e.headers)i.headers[o]=e.headers[o];return p.super_.prototype.httpRequest.call(this,i,t)};var y=h.HttpProxyTransport=function(e){this._httpProxy=e};i(y,h),y.prototype.httpRequest=function(e,t){var r=e.url;0===r.indexOf("/")&&(r=n+r);var i={method:e.method,url:e.url,proxy:this._httpProxy,headers:{}};if((e.body||""===e.body)&&(i.body=e.body),e.headers)for(var o in e.headers)i.headers[o]=e.headers[o];return y.super_.prototype.httpRequest.call(this,i,t)}}).call(this,r(5))},function(e,t,r){var n=r(17),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t){var n=r(3),i=(r(7),r(19)),o=r(11),s=r(44),a=e.exports=function(e,t,r){a.super_.call(this,{objectMode:!0}),this._conn=e,"string"==typeof t?this._soql=t:t.locator&&t.locator.indexOf("/")>=0?this._locator=t.locator.split("/").pop():(this._config=t,this.select(t.fields),t.includes&&this.include(t.includes),t.sort&&this.sort(t.sort)),this._options=Object.assign(r||{},{maxFetch:1e4,autoFetch:!1,scanAll:!1,responseTarget:u.QueryResult}),this._executed=!1,this._finished=!1,this._chaining=!1,this._deferred=o.defer()};n(a,i.Readable);var u=a.ResponseTargets={};["QueryResult","Records","SingleRecord","Count"].forEach(function(e){u[e]=e}),a.prototype.run=a.prototype.exec=a.prototype.execute=function(e,t){var r=this,n=this._conn._logger,i=this._deferred;if(this._executed)return i.reject(new Error("re-executing already executed query")),this;if(this._finished)return i.reject(new Error("executing already closed query")),this;"function"==typeof e&&(t=e,e={}),e={headers:(e=e||{}).headers||r._options.headers,responseTarget:e.responseTarget||r._options.responseTarget,autoFetch:e.autoFetch||r._options.autoFetch,maxFetch:e.maxFetch||r._options.maxFetch,scanAll:e.scanAll||r._options.scanAll};var o=function(e,r){if("function"==typeof t)try{r=t(e,r),e=null}catch(t){e=t}e?i.reject(e):i.resolve(r)};return this.once("response",function(e){o(null,e)}),this.once("error",function(e){o(e)}),this.once("fetch",function(){if(e.responseTarget===u.Records&&(r._chaining||t)){n.debug("--- collecting all fetched records ---");var i=[],o=function(e){i.push(e)};r.on("record",o),r.once("end",function(){r.removeListener("record",o),r.emit("response",i,r)})}}),this._executed=!0,n.debug(">>> Query start >>>"),this._execute(e).then(function(){n.debug("*** Query finished ***")}).fail(function(e){n.debug("--- Query error ---"),r.emit("error",e)}),this},a.prototype._execute=function(e){var t=this,r=this._conn._logger,n=e.responseTarget,i=e.autoFetch,s=e.maxFetch,a=e.scanAll;return o.resolve(t._locator?t._conn._baseUrl()+"/query/"+t._locator:t.toSOQL().then(function(e){return t.totalFetched=0,r.debug("SOQL = "+e),t._conn._baseUrl()+"/"+(a?"queryAll":"query")+"?q="+encodeURIComponent(e)})).then(function(r){return t._conn.request({method:"GET",url:r,headers:e.headers})}).then(function(r){var o;switch(t.emit("fetch"),t.totalSize=r.totalSize,n){case u.SingleRecord:o=r.records&&r.records.length>0?r.records[0]:null;break;case u.Records:o=r.records;break;case u.Count:o=r.totalSize;break;default:o=r}n!==u.Records&&t.emit("response",o,t);for(var a=r.records&&r.records.length||0,c=0;c<a;c++){if(t.totalFetched>=s){t._finished=!0;break}var l=r.records[c];t.push(l),t.emit("record",l,t.totalFetched++,t)}return r.nextRecordsUrl&&(t._locator=r.nextRecordsUrl.split("/").pop()),t._finished=t._finished||r.done||!i,t._finished?t.push(null):t._execute(e),o})},a.prototype.on=function(e,t){if("record"===e){var r=this;this.on("readable",function(){for(;null!==r.read(););})}return a.super_.prototype.on.call(this,e,t)},a.prototype.addListener=a.prototype.on,a.prototype._expandFields=function(){if(this._soql)return o.reject(new Error("Cannot expand fields for the query which has already built SOQL."));var e=this,t=e._conn._logger,r=this._conn,n=this._config.table,i=this._config.fields||[];t.debug("_expandFields: table = "+n+", fields = "+i.join(", "));var s=[],a=[];return i.forEach(function(e){s.push(function e(r,n){t.debug('expanding field "'+n+'" in "'+r+'"...');var i=n.split(".");return"*"===i[i.length-1]?u(r).then(function(n){if(t.debug("table "+r+"has been described"),i.length>1){var o=i.shift(),s=n.fields.find(function(e){return e.relationshipName&&e.relationshipName.toUpperCase()===o.toUpperCase()});if(s){var a=1===s.referenceTo.length?s.referenceTo[0]:"Name";return e(a,i.join(".")).then(function(e){return e.map(e=>o+"."+e)})}return[]}return n.fields.map(e=>e.name)}):o.resolve([n])}(n,e))}),(e._children||[]).forEach(function(e){a.push(e._expandFields())}),o.all([o.resolve(e._parent?function(r){var n=e._parent._config.table;return t.debug('finding table for relation "'+r+'" in "'+n+'"...'),u(n).then(function(e){var t=r.toUpperCase(),n=e.childRelationships.find(function(e){return(e.relationshipName||"").toUpperCase()===t});return n?n.childSObject:o.reject(new Error("No child relationship found: "+r))})}(n):n).then(function(t){return o.all(s).then(function(t){e._config.fields=t.flat()})}),o.all(a)]);function u(e){t.debug("describe cache: "+e);var n=o.defer();return r.describe$(e,function(e,r){t.debug("... done."),e?n.reject(e):n.resolve(r)}),n.promise}},a.prototype.toSOQL=function(e){var t=this;return o.resolve(t._soql||t._expandFields().then(function(){return s.createSOQL(t._config)})).thenCall(e)};a.prototype.then=function(e,t){return this._chaining=!0,this._finished||this._executed||this.execute(),this._deferred.promise.then.apply(this._deferred.promise,arguments)},a.prototype.thenCall=function(e){return"function"==typeof e&&this.then(function(r){t.nextTick(function(){e(null,r)})},function(r){t.nextTick(function(){e(r)})}),this};var c=function(e,t,r){c.super_.call(this,e,r),this._parent=t};n(c,a),c.prototype.include=function(){throw new Error("Not allowed to include another subquery in subquery.")},c.prototype.end=function(){return this._parent},c.prototype.run=c.prototype.exec=c.prototype.execute=function(){return this._parent.execute.apply(this._parent,arguments)}}).call(this,r(5))},function(e,t,r){"use strict";var n=e.exports=function(e){this._literal=e};function i(e){return(e<10?"0":"")+e}n.prototype.toString=n.prototype.toJSON=function(){return this._literal},n.toDateLiteral=function(e){"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=n.parseDate(e));var t=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),s=[t,i(r),i(o)].join("-");return new n(s)},n.toDateTimeLiteral=function(e){"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=n.parseDate(e));var t=e.getUTCFullYear(),r=e.getUTCMonth()+1,o=e.getUTCDate(),s=e.getUTCHours(),a=e.getUTCMinutes(),u=e.getUTCSeconds(),c=[t,i(r),i(o)].join("-")+"T"+[i(s),i(a),i(u)].join(":")+"Z";return new n(c)},n.parseDate=function(e){var t=new Date,r=e.match(/^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/);if(r){if(t=new Date(0),r[4]){if(t.setUTCFullYear(parseInt(r[1],10)),t.setUTCDate(parseInt(r[3],10)),t.setUTCMonth(parseInt(r[2],10)-1),t.setUTCHours(parseInt(r[5],10)),t.setUTCMinutes(parseInt(r[6],10)),t.setUTCSeconds(parseInt(r[7],10)),t.setUTCMilliseconds(parseInt(r[9]||"0",10)),r[10]&&"Z"!==r[10]){var n=60*parseInt(r[12],10)+parseInt(r[13],10);t.setTime(("+"===r[11]?-1:1)*n*60*1e3+t.getTime())}}else t.setFullYear(parseInt(r[1],10)),t.setDate(parseInt(r[3],10)),t.setMonth(parseInt(r[2],10)-1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);return t}throw new Error("Invalid date format is specified : "+e)};var o={YESTERDAY:1,TODAY:1,TOMORROW:1,LAST_WEEK:1,THIS_WEEK:1,NEXT_WEEK:1,LAST_MONTH:1,THIS_MONTH:1,NEXT_MONTH:1,LAST_90_DAYS:1,NEXT_90_DAYS:1,LAST_N_DAYS:2,NEXT_N_DAYS:2,NEXT_N_WEEKS:2,LAST_N_WEEKS:2,NEXT_N_MONTHS:2,LAST_N_MONTHS:2,THIS_QUARTER:1,LAST_QUARTER:1,NEXT_QUARTER:1,NEXT_N_QUARTERS:2,LAST_N_QUARTERS:2,THIS_YEAR:1,LAST_YEAR:1,NEXT_YEAR:1,NEXT_N_YEARS:2,LAST_N_YEARS:2,THIS_FISCAL_QUARTER:1,LAST_FISCAL_QUARTER:1,NEXT_FISCAL_QUARTER:1,NEXT_N_FISCAL_QUARTERS:2,LAST_N_FISCAL_QUARTERS:2,THIS_FISCAL_YEAR:1,LAST_FISCAL_YEAR:1,NEXT_FISCAL_YEAR:1,NEXT_N_FISCAL_YEARS:2,LAST_N_FISCAL_YEARS:2};for(var s in o){var a=o[s];n[s]=1===a?new n(s):u(s)}function u(e){return function(t){return new n(e+":"+t)}}},function(e,t,r){"use strict";var n=r(7),i=function(){this.fetching=!1};r(3)(i,n.EventEmitter),i.prototype.get=function(e){if(!e)return this._value;this.once("value",e),void 0!==this._value&&this.emit("value",this._value)},i.prototype.set=function(e){this._value=e,this.emit("value",this._value)},i.prototype.clear=function(){this.fetching=!1,delete this._value};var o=function(){this._entries={}};function s(e,t){let r=[],n="";return(t=Array.prototype.slice.apply(t)).forEach(function(e){r.push(JSON.stringify(e))}),e+"("+(n=r.join(","))+")"}o.prototype.get=function(e){if(e&&this._entries[e])return this._entries[e];var t=new i;return this._entries[e]=t,t},o.prototype.clear=function(e){for(var t in this._entries)e&&0!==t.indexOf(e)||this._entries[t].clear()},o.prototype.makeResponseCacheable=function(e,t,r){var n=this;return r=r||{},function(){var i=Array.prototype.slice.apply(arguments),o=i.pop();"function"!=typeof o&&(i.push(o),o=null);var a,u,c="string"==typeof r.key||r.key instanceof String?r.key:"function"==typeof r.key?r.key.apply(t,i):s(r.namespace,i),l=n.get(c);l.fetching=!0,o&&i.push(function(e,t){l.set({error:e,result:t}),o(e,t)});try{a=e.apply(t||this,i)}catch(e){u=e}if(a&&"function"==typeof a.then)return o?a:a.then(function(e){return l.set({error:void 0,result:e}),e},function(e){throw l.set({error:e,result:void 0}),e});if(l.set({error:u,result:a}),u)throw u;return a}},o.prototype.makeCacheable=function(e,t,r){var n=this;r=r||{};var i=function(){var i=Array.prototype.slice.apply(arguments),o=i.pop();"function"!=typeof o&&i.push(o);var a="string"==typeof r.key?r.key:"function"==typeof r.key?r.key.apply(t,i):s(r.namespace,i),u=n.get(a);if("function"!=typeof o){var c=u.get();if(!c)throw new Error("Function call result is not cached yet.");if(c.error)throw c.error;return c.result}u.get(function(e){o(e.error,e.result)}),u.fetching||(u.fetching=!0,i.push(function(e,t){u.set({error:e,result:t})}),e.apply(t||this,i))};return i.clear=function(){var e="string"==typeof r.key?r.key:"function"==typeof r.key?r.key.apply(t,arguments):s(r.namespace,arguments);n.clear(e)},i},e.exports=o},function(e,t,r){"use strict";var n=r(3),i=r(7),o=r(11),s=function(e,t){t=t||{},this._conn=e,this.on("resume",function(t){e.emit("resume",t)}),this._responseType=t.responseType,this._transport=t.transport||e._transport,this._noContentResponse=t.noContentResponse};function a(e){return JSON.parse(e)}function u(e){return e}n(s,i.EventEmitter),s.prototype.request=function(e,t){var r=this,n=this._conn,i=n._logger,s=this.getRefreshDelegate(),a=n.instanceUrl,u=o.defer(),c=function(t){t?u.reject(t):(a!==n.instanceUrl&&(e.url=e.url.replace(a,n.instanceUrl)),r.request(e).then(function(e){u.resolve(e)},function(e){u.reject(e)}))};if(s&&s._refreshing)return s.once("resume",c),u.promise.thenCall(t);r.beforeSend(e),r.emit("request",e),i.debug("<request> method="+e.method+", url="+e.url);var l=Date.now();return this._transport.httpRequest(e).then(function(t){var n=Date.now();if(i.debug("elappsed time : "+(n-l)+"msec"),i.debug("<response> status="+t.statusCode+", url="+e.url),r.emit("response",t),r.isSessionExpired(t)&&s)return s.refresh(l,c),u.promise;if(r.isErrorResponse(t))throw r.getError(t);return r.getResponseBody(t)},function(e){var t=Date.now();throw i.debug("elappsed time : "+(t-l)+"msec"),i.error(e),e}).thenCall(t)},s.prototype.getRefreshDelegate=function(){return this._conn._refreshDelegate},s.prototype.beforeSend=function(e){if(e.headers=e.headers||{},this._conn.accessToken&&(e.headers.Authorization="Bearer "+this._conn.accessToken),this._conn.callOptions){var t=[];for(var r in this._conn.callOptions)t.push(r+"="+this._conn.callOptions[r]);e.headers["Sforce-Call-Options"]=t.join(", ")}},s.prototype.getResponseContentType=function(e){return this._responseType||e.headers&&e.headers["content-type"]},s.prototype.parseResponseBody=function(e){var t=this.getResponseContentType(e),r=/^application\/json(;|$)/.test(t)?a:u;try{return r(e.body)}catch(t){return e.body}},s.prototype.getResponseBody=function(e){if(204===e.statusCode)return this._noContentResponse;var t,r=this.parseResponseBody(e);if(this.hasErrorInResponseBody(r))throw t=this.getError(e,r);if(300===e.statusCode)throw(t=new Error("Multiple records found")).name="MULTIPLE_CHOICES",t.content=r,t;return r},s.prototype.isSessionExpired=function(e){return 401===e.statusCode},s.prototype.isErrorResponse=function(e){return e.statusCode>=400},s.prototype.hasErrorInResponseBody=function(e){return!1},s.prototype.parseError=function(e){var t=e;return Array.isArray(t)?t[0]:t},s.prototype.getError=function(e,t){var r;try{r=this.parseError(t||this.parseResponseBody(e))}catch(e){}r="object"==typeof r&&"string"==typeof r.message?r:{errorCode:"ERROR_HTTP_"+e.statusCode,message:e.body};var n=new Error(r.message);for(var i in n.name=r.errorCode,r)n[i]=r[i];return n};var c=function(e,t){this._conn=e,this._refreshFn=t,this._refreshing=!1};n(c,i.EventEmitter),c.prototype.refresh=function(e,t){if(this._lastRefreshedAt>e)return t();var r=this,n=this._conn,i=n._logger;return r.once("resume",t),r._refreshing?void 0:(i.debug("<refresh token>"),r._refreshing=!0,r._refreshFn(n,function(e,t,o){e||(i.debug("Connection refresh completed."),n.accessToken=t,n.emit("refresh",t,o)),r._lastRefreshedAt=Date.now(),r._refreshing=!1,r.emit("resume",e)}))},s.SessionRefreshDelegate=c,e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(51);class i extends n.SDKConfig{}t.default=i,i.anonymousSiteConfigUrl="https://api.devops.vlocity.dc.vloc-dev.com/dc",i.authToken="YWRtaW46MmpwZGRiNnhMN0h2ZjVqWWR5bVVFSDhSaVc1ZG9QSEYyRDBTT2FLdQ==",i.authTokenType="Basic ",i.contentType="application/json",i.clientId="",i.clientSecret="",i.oauth2Url="",i.authTokenExpirationTime=null},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<o;u=n[++r])y(u)||!_(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var o,s={};function a(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=l(e,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),w(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(r);if(0===s.length){if(C(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return h(r)}var c,_="",P=!1,I=["{","}"];(d(r)&&(P=!0,I=["[","]"]),C(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),S(r)&&(_=" "+Date.prototype.toUTCString.call(r)),w(r)&&(_=" "+h(r)),0!==s.length||P&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=P?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)x(t,String(s))?o.push(f(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))}),o}(e,r,n,a,s):s.map(function(t){return f(e,r,n,a,t,P)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,I)):I[0]+_+I[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),x(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=y(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function y(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===P(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===P(e)}function w(e){return _(e)&&("[object Error]"===P(e)||e instanceof Error)}function C(e){return"function"==typeof e}function P(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(v(o)&&(o=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var n=e.pid;s[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else s[r]=function(){};return s[r]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=_,t.isDate=S,t.isError=w,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(52);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r(53),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function E(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(t){e.nextTick(s,null,t)},function(t){e.nextTick(E,t,s)})}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(5))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(30);t.DigitalCommerceInput=class{constructor(){this.remoteClass="CpqAppHandler",this.customFields=[],this.cacheable=!1,this.callSecureServer=!1,this.reload=!1,this.timeoutInMillis=2e4,this.integrationProcedureKey="",this.accountId="",this.contentType="application/json",this.inputMap={}}getRemoteMethod(){return this.actionObj?this.actionObj.remote.methodName:this.remoteMethod}getAuthToken(e){return n(this,void 0,void 0,function*(){return i.default.authToken?(i.default.authTokenExpirationTime&&i.default.authTokenExpirationTime<Date.now()&&(yield e.fetchAWSAuthToken()),i.default.authToken):""})}getAuthorisationType(){return i.default.authTokenType?i.default.authTokenType:"Basic "}getRequestCredentials(){return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryStringEncode=function(e,t=!0,r){let n;return(n=Object.entries(e).filter(([e])=>!r||0===r.length||r.indexOf(e)>=0).map(([e,t])=>`${e}=${encodeURIComponent(String(t))}`).join("&"))?(t&&(n=`?${n}`),n):""}},function(e,t,r){"use strict";e.exports="1.9.2"},function(e,t,r){"use strict";(function(t){var n=r(7),i=r(18),o=(r(11),r(37)),s=r(23),a=r(26),u=(r(45),r(29)),c=r(24),l=r(28),h="https://login.salesforce.com",f="",d="42.0",p=e.exports=function(e){e=e||{},this._logger=new o(e.logLevel);var t=e.oauth2||{loginUrl:e.loginUrl,clientId:e.clientId,clientSecret:e.clientSecret,redirectUri:e.redirectUri,proxyUrl:e.proxyUrl,httpProxy:e.httpProxy};this.oauth2=t=t instanceof s?t:new s(t),this.loginUrl=e.loginUrl||t.loginUrl||h,this.version=e.version||d,this.maxRequest=e.maxRequest||this.maxRequest||10,e.proxyUrl?this._transport=new c.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new c.HttpProxyTransport(e.httpProxy):this._transport=new c,this.callOptions=e.callOptions,r(22).emit("connection:new",this),this.cache=new l;var n=e.refreshFn;!n&&this.oauth2.clientId&&(n=y),n&&(this._refreshDelegate=new u.SessionRefreshDelegate(this,n));var i={key:function(e){return e?"describe."+e:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,i),this.describe=this.cache.makeResponseCacheable(this.describe,this,i),this.describeSObject$=this.describe$,this.describeSObject=this.describe,i={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,i),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,i),this.initialize(e)};function y(e,t){e.oauth2.refreshToken(e.refreshToken,function(r,n){if(r)return t(r);var i=g(n.id);e.initialize({instanceUrl:n.instance_url,accessToken:n.access_token,userInfo:i}),t(null,n.access_token,n)})}function g(e){var t=e.split("/");return{id:t.pop(),organizationId:t.pop(),url:e}}function m(e){return e&&String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}i(p,n.EventEmitter),p.prototype.initialize=function(e){if(!e.instanceUrl&&e.serverUrl&&(e.instanceUrl=e.serverUrl.split("/").slice(0,3).join("/")),this.instanceUrl=e.instanceUrl||e.serverUrl||this.instanceUrl||f,this.accessToken=e.sessionId||e.accessToken||this.accessToken,this.refreshToken=e.refreshToken||this.refreshToken,this.refreshToken&&!this._refreshDelegate)throw new Error("Refresh token is specified without oauth2 client information or refresh function");this.signedRequest=e.signedRequest&&function(e){if("string"==typeof e){if("{"===e[0])return JSON.parse(e);var r=e.split(".").pop(),n=t.from(r,"base64").toString("utf-8");return JSON.parse(n)}return e}(e.signedRequest),this.signedRequest&&(this.accessToken=this.signedRequest.client.oauthToken,c.CanvasTransport.supported&&(this._transport=new c.CanvasTransport(this.signedRequest))),e.userInfo&&(this.userInfo=e.userInfo),this.limitInfo={},this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",function(e){e.result&&e.result.sobjects.map(e=>e.name).forEach(this.sobject,this)}.bind(this)),this.tooling&&this.tooling.initialize(),this._sessionType=e.sessionId?"soap":"oauth2"},p.prototype._baseUrl=function(){return[this.instanceUrl,"services/data","v"+this.version].join("/")},p.prototype._normalizeUrl=function(e){return"/"===e[0]?0===e.indexOf("/services/")?this.instanceUrl+e:this._baseUrl()+e:e},p.prototype.request=function(e,t,r){"function"==typeof t&&(r=t,t=null),t=t||{};var n=this;"string"==typeof e&&(e={method:"GET",url:e}),e.url=this._normalizeUrl(e.url);var i=new u(this,t);return i.on("response",function(e){if(e.headers&&e.headers["sforce-limit-info"]){var t=e.headers["sforce-limit-info"].match(/api\-usage=(\d+)\/(\d+)/);t&&(n.limitInfo={apiUsage:{used:parseInt(t[1],10),limit:parseInt(t[2],10)}})}}),i.request(e).thenCall(r)},p.prototype.query=function(e,t,r){"function"==typeof t&&(r=t,t=void 0);var n=new a(this,e,t);return r&&n.run(r),n},p.prototype.search=function(e,t){var r=this._baseUrl()+"/search?q="+encodeURIComponent(e);return this.request(r).thenCall(t)},p.prototype.login=function(e,t,r){return this._refreshDelegate=new u.SessionRefreshDelegate(this,function(e,t){return function(r,n){r.login(e,t,function(e){if(e)return n(e);n(null,r.accessToken)})}}(e,t)),this.oauth2&&this.oauth2.clientId&&this.oauth2.clientSecret?this.loginByOAuth2(e,t,r):this.loginBySoap(e,t,r)},p.prototype.loginByOAuth2=function(e,t,r){var n=this,i=this._logger;return this.oauth2.authenticate(e,t).then(function(e){var t=g(e.id);return n.initialize({instanceUrl:e.instance_url,accessToken:e.access_token,userInfo:t}),i.debug("<login> completed. user id = "+t.id+", org id = "+t.organizationId),t}).thenCall(r)},p.prototype.loginBySoap=function(e,t,r){var n=this,i=this._logger,o=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header/>","<se:Body>",'<login xmlns="urn:partner.soap.sforce.com">',"<username>"+m(e)+"</username>","<password>"+m(t)+"</password>","</login>","</se:Body>","</se:Envelope>"].join(""),s=[this.loginUrl,"services/Soap/u",this.version].join("/");return this._transport.httpRequest({method:"POST",url:s,body:o,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(e){var t;if(e.statusCode>=400){var r=(t=e.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&t[1];throw new Error(r||e.body)}i.debug("SOAP response = "+e.body);var o=(t=e.body.match(/<serverUrl>([^<]+)<\/serverUrl>/))&&t[1],a=(t=e.body.match(/<sessionId>([^<]+)<\/sessionId>/))&&t[1],u=(t=e.body.match(/<userId>([^<]+)<\/userId>/))&&t[1],c=(t=e.body.match(/<organizationId>([^<]+)<\/organizationId>/))&&t[1],l=s.split("/").slice(0,3).join("/"),h={id:u,organizationId:c,url:l+="/id/"+c+"/"+u};return n.initialize({serverUrl:o.split("/").slice(0,3).join("/"),sessionId:a,userInfo:h}),i.debug("<login> completed. user id = "+u+", org id = "+c),h}).thenCall(r)},p.prototype.logout=function(e,t){return"function"==typeof e&&(t=e,e=!1),"oauth2"===this._sessionType?this.logoutByOAuth2(e,t):this.logoutBySoap(e,t)},p.prototype.logoutByOAuth2=function(e,t){"function"==typeof e&&(t=e,e=!1);var r=this;this._logger;return this.oauth2.revokeToken(e?this.refreshToken:this.accessToken).then(function(){r.accessToken=null,r.userInfo=null,r.refreshToken=null,r.instanceUrl=null,r.cache.clear()}).thenCall(t)},p.prototype.logoutBySoap=function(e,t){"function"==typeof e&&(t=e,e=!1);var r=this,n=this._logger,i=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header>",'<SessionHeader xmlns="urn:partner.soap.sforce.com">',"<sessionId>"+m(e?this.refreshToken:this.accessToken)+"</sessionId>","</SessionHeader>","</se:Header>","<se:Body>",'<logout xmlns="urn:partner.soap.sforce.com"/>',"</se:Body>","</se:Envelope>"].join("");return this._transport.httpRequest({method:"POST",url:[this.instanceUrl,"services/Soap/u",this.version].join("/"),body:i,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then(function(e){if(n.debug("SOAP statusCode = "+e.statusCode+", response = "+e.body),e.statusCode>=400){var t=e.body.match(/<faultstring>([^<]+)<\/faultstring>/),i=t&&t[1];throw new Error(i||e.body)}r.accessToken=null,r.userInfo=null,r.refreshToken=null,r.instanceUrl=null,r.cache.clear()}).thenCall(t)}}).call(this,r(17).Buffer)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=e.exports=function(e){"string"==typeof e&&(e=i[e]),e||(e=i.INFO),this._logLevel=e},i=n.LogLevels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};for(var o in n.prototype.log=function(e,t){this._logLevel<=e&&(e<i.ERROR?console.log(t):console.error(t))},i)n.prototype[o.toLowerCase()]=s(i[o]);function s(e){return function(t){this.log(e,t)}}},function(e,t,r){"use strict";(function(t,n){var i=r(20);e.exports=b;var o,s=r(36);b.ReadableState=v;r(7).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=r(39),c=r(25).Buffer,l=t.Uint8Array||function(){};var h=Object.create(r(14));h.inherits=r(3);var f=r(67),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,y=r(68),g=r(40);h.inherits(b,u);var m=["error","close","destroy","pause","resume"];function v(e,t){o=o||r(12),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(42).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||r(12),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,P(e)}(e,s)):(i||(o=function(e,t){var r;(function(e){return c.isBuffer(e)||e instanceof l})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?S(e,s,t,!1):T(e,s)):S(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),T(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=r(42).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var w=8388608;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(I,e):I(e))}function I(e){d("emit readable"),e.emit("readable"),R(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(x,e,t))}function x(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function A(e){d("readable nexttick read 0"),e.read(0)}function E(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(k,t,e))}function k(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):P(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:b;function c(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("drain",h),e.removeListener("error",g),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",b),r.removeListener("data",y),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,R(e))}}(r);e.on("drain",h);var f=!1;var p=!1;function y(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==j(o.pipes,e))&&!f&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(t){d("onerror",t),b(),e.removeListener("error",g),0===a(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",v),b()}function v(){d("onfinish"),e.removeListener("close",m),b()}function b(){d("unpipe"),r.unpipe(e)}return r.on("data",y),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",m),e.once("finish",v),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=j(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&P(this):i.nextTick(A,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(E,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,r(8),r(5))},function(e,t,r){e.exports=r(7).EventEmitter},function(e,t,r){"use strict";var n=r(20);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";(function(t,n,i){var o=r(20);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var a,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;v.WritableState=m;var c=Object.create(r(14));c.inherits=r(3);var l={deprecate:r(72)},h=r(39),f=r(25).Buffer,d=i.Uint8Array||function(){};var p,y=r(40);function g(){}function m(e,t){a=a||r(12),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(P,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),P(e,t))}(e,r,n,t,i);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||S(e,r),n?u(_,e,r,s,i):_(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(e){if(a=a||r(12),!(p.call(v,this)||this instanceof a))return new v(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),P(e,t)}function S(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),P(e,t)})}function P(e,t){var r=w(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(v,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===v&&(e&&e._writableState instanceof m)}})):p=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&function(e){return f.isBuffer(e)||e instanceof d}(e);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=g),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(n,s),i=!1),i}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,n,i,o);return u}(this,n,s,e,t,r)),i},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||S(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=y.destroy,v.prototype._undestroy=y.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(5),r(70).setImmediate,r(8))},function(e,t,r){"use strict";var n=r(73).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=o;var n=r(12),i=Object.create(r(14));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){a(e,t,r)}):a(this,null,null)}function a(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(3),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";var n=r(27);function i(e){var t=["SELECT ",function(e,t){let r=[];return(t=t||[]).forEach(e=>{r.push("("+i(cquery)+")")}),(e||["Id"]).concat(r).join(", ")}(e.fields,e.includes)," FROM ",e.table].join(""),r=function e(t,r,n){if("string"==typeof t)return t;t=t||[];r=r||"AND";n=n||0;t=a(t)?t.map(function(e){var t=[];for(var r in e)t.push({key:r,value:e[r]});return t.length>1?t:t[0]}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});t=t.map(function(i){var a,u=n+1;switch(i.key){case"$or":case"$and":case"$not":return"NOT"!==r&&1===t.length&&(u=n),a="$or"===i.key?"OR":"$and"===i.key?"AND":"NOT",e(i.value,a,u);default:return function(e,t){var r="$eq";if(Array.isArray(t))r="$in";else if("object"==typeof t){for(var n in t)if("$"===n[0]){r=n,t=t[n];break}}var i=o[r];if(!i||void 0===t)return null;var a=s(t);if(void 0===a)return null;switch(i){case"NOT LIKE":return"("+["NOT",e,"LIKE",a].join(" ")+")";case"EXISTS":return[e,t?"!=":"=","null"].join(" ");default:return[e,i,a].join(" ")}}(i.key,i.value)}}).filter(function(e){return e});var i;return"NOT"===r?((i=n>0)?"(":"")+"NOT "+t[0]+(i?")":""):((i=n>0&&t.length>1)?"(":"")+t.join(" "+r+" ")+(i?")":"")}(e.conditions);r&&(t+=" WHERE "+r);var n=function(e){if("string"==typeof(e=e||[])){if(/,|\s+(asc|desc)\s*$/.test(e))return e;e=e.split(/\s+/).map(function(e){var t="ASC",r=e[0];return"-"===r?(t="DESC",e=e.substring(1)):"+"===r&&(e=e.substring(1)),[e,t]})}else a(e)||(e=Object.keys(e).map(function(t){var r=e[t];return[t,r]}));return e.map(function(e){var t=e[0],r=e[1];switch(String(r)){case"DESC":case"desc":case"descending":case"-":case"-1":r="DESC";break;default:r="ASC"}return t+" "+r}).join(", ")}(e.sort);return n&&(t+=" ORDER BY "+n),e.limit&&(t+=" LIMIT "+e.limit),e.offset&&(t+=" OFFSET "+e.offset),t}var o={"=":"=",$eq:"=","!=":"!=",$ne:"!=",">":">",$gt:">","<":"<",$lt:"<",">=":">=",$gte:">=","<=":"<=",$lte:"<=",$like:"LIKE",$nlike:"NOT LIKE",$in:"IN",$nin:"NOT IN",$includes:"INCLUDES",$excludes:"EXCLUDES",$exists:"EXISTS"};function s(e){return a(e)?e.length>0?"("+e.map(s).join(", ")+")":void 0:e instanceof n?e.toString():"string"==typeof e?"'"+function(e){return String(e||"").replace(/'/g,"\\'")}(e)+"'":"number"==typeof e?e.toString():null===e?"null":e}function a(e){return"object"==typeof e&&"function"==typeof e.pop}t.createSOQL=i},function(e,t,r){"use strict";var n=r(46),i=r(26),o=(r(28),e.exports=function(e,t){this._conn=e,this.type=t;var r={key:"describe."+this.type};this.describe$=e.cache.makeCacheable(this.describe,this,r),this.describe=e.cache.makeResponseCacheable(this.describe,this,r),r={key:"layouts."+this.type},this.layouts$=e.cache.makeCacheable(this.layouts,this,r),this.layouts=e.cache.makeResponseCacheable(this.layouts,this,r),r={key:"compactLayouts."+this.type},this.compactLayouts$=e.cache.makeCacheable(this.compactLayouts,this,r),this.compactLayouts=e.cache.makeResponseCacheable(this.compactLayouts,this,r),r={key:"approvalLayouts."+this.type},this.approvalLayouts$=e.cache.makeCacheable(this.approvalLayouts,this,r),this.approvalLayouts=e.cache.makeResponseCacheable(this.approvalLayouts,this,r)});o.prototype.insert=o.prototype.create=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.create(this.type,e,t,r)},o.prototype.retrieve=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.retrieve(this.type,e,t,r)},o.prototype.update=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.update(this.type,e,t,r)},o.prototype.upsert=function(e,t,r,n){return"function"==typeof r&&(n=r,r={}),this._conn.upsert(this.type,e,t,r,n)},o.prototype.delete=o.prototype.del=o.prototype.destroy=function(e,t,r){return"function"==typeof t&&(r=t,t={}),this._conn.destroy(this.type,e,t,r)},o.prototype.describe=function(e){return this._conn.describe(this.type,e)},o.prototype.record=function(e){return new n(this._conn,this.type,e)},o.prototype.find=function(e,t,r,n){"function"==typeof e?(n=e,e={},t=null,r=null):"function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null);var o={fields:t,includes:(r=r||{}).includes,table:this.type,conditions:e,limit:r.limit,sort:r.sort,offset:r.offset||r.skip},s=new i(this._conn,o,r);return s.setResponseTarget(i.ResponseTargets.Records),n&&s.run(n),s},o.prototype.findOne=function(e,t,r,n){"function"==typeof e?(n=e,e={},t=null,r=null):"function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null),r=Object.assign(r||{},{limit:1});var o=this.find(e,t,r);return o.setResponseTarget(i.ResponseTargets.SingleRecord),n&&o.run(n),o},o.prototype.select=function(e,t){return this.find(null,e,null,t)},o.prototype.count=function(e,t){"function"==typeof e&&(t=e,e={});var r=this.find(e,{"count()":!0});return r.setResponseTarget("Count"),t&&r.run(t),r},o.prototype.recent=function(e){return this._conn.recent(this.type,e)},o.prototype.updated=function(e,t,r){return this._conn.updated(this.type,e,t,r)},o.prototype.deleted=function(e,t,r){return this._conn.deleted(this.type,e,t,r)},o.prototype.layouts=function(e,t){"function"==typeof e&&(t=e,e=null);var r="/sobjects/"+this.type+"/describe/"+(e?"namedLayouts/"+e:"layouts");return this._conn.request(r,t)},o.prototype.compactLayouts=function(e){var t="/sobjects/"+this.type+"/describe/compactLayouts";return this._conn.request(t,e)},o.prototype.approvalLayouts=function(e){var t="/sobjects/"+this.type+"/describe/approvalLayouts";return this._conn.request(t,e)},o.prototype.listviews=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews";return this._conn.request(t,e)},o.prototype.listview=function(e){return new s(this._conn,this.type,e)};var s=function(e,t,r){this._conn=e,this.type=t,this.id=r};s.prototype.results=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/results";return this._conn.request(t,e)},s.prototype.describe=function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var r=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/describe";return this._conn.request({method:"GET",url:r,headers:e.headers},t)},s.prototype.explain=function(e){var t="/query/?explain="+this.id;return this._conn.request(t,e)}},function(e,t,r){"use strict";var n=e.exports=function(e,t,r){this._conn=e,this.type=t,this.id=r};n.prototype.retrieve=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.retrieve(this.type,this.id,e,t)},n.prototype.update=function(e,t,r){return"function"==typeof t&&(r=t,t={}),e.Id=this.id,this._conn.update(this.type,e,t,r)},n.prototype.delete=n.prototype.del=n.prototype.destroy=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.destroy(this.type,this.id,e,t)},n.prototype.blob=function(e){var t=[this._conn._baseUrl(),"sobjects",this.type,this.id,e].join("/");return this._conn.request(t).stream()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31),i=r(1),o=r(9);t.BaseSDK=class{constructor(){this.sdkVersion="1.0.0"}static extend(e){if(!n.isObject(e))throw new Error("Extend method expects an object with functions as properties");Object.keys(e).filter(t=>n.isFunction(e[t])).forEach(t=>{this.prototype.hasOwnProperty(t)?i.Logger.log(`SDK extend method failed to extend ${t} as it already exists`):this.prototype[t]=e[t]})}static override(e){if(!n.isObject(e))throw new Error("Override method expects an object with properties");Object.assign(this.prototype,e)}version(){return this.sdkVersion}get namespace(){return o.SalesForceNamespace.namespace}set namespace(e){o.SalesForceNamespace.namespace=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"}(t.HttpMethod||(t.HttpMethod={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.RestInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.url=e.url,this.options=e.options}digest(){return super.digestData(this.url,JSON.stringify(this.options))}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.debug=0]="debug",e[e.log=1]="log",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.none=5]="none"}(n=t.LogLevel||(t.LogLevel={}));class i{static debug(...e){i.emitLogMessage("debug",e)}static info(...e){i.emitLogMessage("info",e)}static log(...e){i.emitLogMessage("log",e)}static warn(...e){i.emitLogMessage("warn",e)}static error(...e){i.emitLogMessage("error",e)}static getLogLevel(){return this.debugLevel}static setLogLevel(e){if(!(e in n))throw new Error("Invalid value `value` assigned to `logLevel`");this.debugLevel=e}static emitLogMessage(e,t){n[e]<i.debugLevel||console[e](...t)}}t.Logger=i,i.debugLevel=n.info},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SDKConfig=class{}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var n=r(22),i=function(e){this._conn=e};i.prototype._baseUrl=function(){return this._conn.instanceUrl+"/services/apexrest"},i.prototype._createRequestParams=function(e,t,r,n){var i={method:e,url:this._baseUrl()+t},o={};return n&&"object"==typeof n.headers&&(o=n.headers),/^(GET|DELETE)$/i.test(e)||(o["Content-Type"]="application/json"),i.headers=o,r&&(i.body=JSON.stringify(r)),i},i.prototype.get=function(e,t,r){return"function"==typeof t&&(r=t,t=void 0),this._conn.request(this._createRequestParams("GET",e,void 0,t)).thenCall(r)},i.prototype.post=function(e,t,r,n){"function"==typeof t&&(n=t,t=void 0,r=void 0),"function"==typeof r&&(n=r,r=void 0);var i=this._createRequestParams("POST",e,t,r);return this._conn.request(i).thenCall(n)},i.prototype.put=function(e,t,r,n){"function"==typeof t&&(n=t,t=void 0,r=void 0),"function"==typeof r&&(n=r,r=void 0);var i=this._createRequestParams("PUT",e,t,r);return this._conn.request(i).thenCall(n)},i.prototype.patch=function(e,t,r,n){"function"==typeof t&&(n=t,t=void 0,r=void 0),"function"==typeof r&&(n=r,r=void 0);var i=this._createRequestParams("PATCH",e,t,r);return this._conn.request(i).thenCall(n)},i.prototype.del=i.prototype.delete=function(e,t,r){return"function"==typeof t&&(r=t,t=void 0),this._conn.request(this._createRequestParams("DELETE",e,void 0,t)).thenCall(r)},n.on("connection:new",function(e){e.apex=new i(e)}),e.exports=i},,function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(16),o=r(4);class s{constructor(e=!1,t=s.DEFAULT_CACHE_EXPIRATION,r=o.default.defaultRetryCount,n=o.default.defaultTimeout,a=!1,u=i.CacheType.INDEXEDDB){this.cacheable=e,this.cacheExpiration=t,this.retryCount=r,this.timeoutInMillis=n,this.reload=a,this.cacheType=u}digestData(...e){return n(this,void 0,void 0,function*(){const t=(new TextEncoder).encode(e.join(","));return crypto.subtle.digest("SHA-256",t).then(e=>this.hexString(e))})}hexString(e){return[...new Uint8Array(e)].map(e=>{return e.toString(16).padStart(2,"0")}).join("")}}t.BaseDataSourceInput=s,s.DEFAULT_CACHE_EXPIRATION=new Date((new Date).getTime()+3e5)},,function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function h(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*y}},function(e,t,r){"use strict";var n=r(61);e.exports=n;var i=l(!0),o=l(!1),s=l(null),a=l(void 0),u=l(0),c=l("");function l(e){var t=new n(n._61);return t._65=1,t._55=e,t}n.resolve=function(e){if(e instanceof n)return e;if(null===e)return s;if(void 0===e)return a;if(!0===e)return i;if(!1===e)return o;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new n(t.bind(e))}catch(e){return new n(function(t,r){r(e)})}return l(e)},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,r){if(0===t.length)return e([]);var i=t.length;function o(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof n&&a.then===n.prototype.then){for(;3===a._65;)a=a._55;return 1===a._65?o(s,a._55):(2===a._65&&r(a._55),void a.then(function(e){o(s,e)},r))}var u=a.then;if("function"==typeof u)return void new n(u.bind(a)).then(function(e){o(s,e)},r)}t[s]=a,0==--i&&e(t)}for(var s=0;s<t.length;s++)o(s,t[s])})},n.reject=function(e){return new n(function(t,r){r(e)})},n.race=function(e){return new n(function(t,r){e.forEach(function(e){n.resolve(e).then(t,r)})})},n.prototype.catch=function(e){return this.then(null,e)}},function(e,t,r){"use strict";var n=r(62);function i(){}var o=null,s={};function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==i&&d(e,this)}function u(e,t){for(;3===e._65;)e=e._55;if(a._37&&a._37(e),0===e._65)return 0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t);!function(e,t){n(function(){var r=1===e._65?t.onFulfilled:t.onRejected;if(null!==r){var n=function(e,t){try{return e(t)}catch(e){return o=e,s}}(r,e._55);n===s?l(t.promise,o):c(t.promise,n)}else 1===e._65?c(t.promise,e._55):l(t.promise,e._55)})}(e,t)}function c(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=function(e){try{return e.then}catch(e){return o=e,s}}(t);if(r===s)return l(e,o);if(r===e.then&&t instanceof a)return e._65=3,e._55=t,void h(e);if("function"==typeof r)return void d(r.bind(t),e)}e._65=1,e._55=t,h(e)}function l(e,t){e._65=2,e._55=t,a._87&&a._87(e,t),h(e)}function h(e){if(1===e._40&&(u(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)u(e,e._72[t]);e._72=null}}function f(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function d(e,t){var r=!1,n=function(e,t,r){try{e(t,r)}catch(e){return o=e,s}}(e,function(e){r||(r=!0,c(t,e))},function(e){r||(r=!0,l(t,e))});r||n!==s||(r=!0,l(t,o))}e.exports=a,a._37=null,a._87=null,a._61=i,a.prototype.then=function(e,t){if(this.constructor!==a)return function(e,t,r){return new e.constructor(function(n,o){var s=new a(i);s.then(n,o),u(e,new f(t,r,s))})}(this,e,t);var r=new a(i);return u(this,new f(e,t,r)),r}},function(e,t,r){"use strict";(function(t){function r(e){i.length||(n(),!0),i[i.length]=e}e.exports=r;var n,i=[],o=0,s=1024;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>s){for(var t=0,r=i.length-o;t<r;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var u=void 0!==t?t:self,c=u.MutationObserver||u.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}n="function"==typeof c?function(e){var t=1,r=new c(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(a):l(a),r.requestFlush=n,r.makeRequestCallFromTimer=l}).call(this,r(8))},function(e,t,r){"use strict";t.decode=t.parse=r(64),t.encode=t.stringify=r(65)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,y=e[l].replace(a,"%20"),g=y.indexOf(r);g>=0?(h=y.substr(0,g),f=y.substr(g+1)):(h=y,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(n(s))+r;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[s]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n=r(19).Duplex;e.exports=function(e,t){var r,i=new XMLHttpRequest;if(i.open(e.method,e.url),e.headers)for(var o in e.headers)i.setRequestHeader(o,e.headers[o]);i.setRequestHeader("Accept","*/*");var s=new n;s._read=function(e){r&&s.push(r.body)};var a=[],u=!1;return s._write=function(e,t,r){a.push(e.toString("buffer"===t?"binary":t)),r()},s.on("finish",function(){u||(i.send(a.join("")),u=!0)}),!e.body&&""!==e.body&&/^(put|post|patch)$/i.test(e.method)||(i.send(e.body),u=!0),i.onreadystatechange=function(){if(4===i.readyState){var e={};(function(e){var t=[];return(e.getAllResponseHeaders()||"").split(/[\r\n]+/).forEach(function(e){t.push(e.split(/\s*:/)[0].toLowerCase())}),t})(i).forEach(function(t){t&&(e[t]=i.getResponseHeader(t))}),(r={statusCode:i.status,headers:e,body:i.response||i.responseText}).statusCode||(r.statusCode=400,r.body="Access Declined"),t&&t(null,r,r.body),s.end()}},s}},function(e,t){},function(e,t,r){"use strict";var n=r(25).Buffer,i=r(69);function o(e,t,r){e.copy(t,r)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)o(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(71),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(8))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,o={},s=!1,a=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;n=function(t){var r=a.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return o[i]=s,n(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{c(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(8),r(5))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(8))},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(17),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";e.exports=o;var n=r(43),i=Object.create(r(14));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(3),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n=r(19).Duplex;e.exports={supported:"object"==typeof Sfdc&&void 0!==Sfdc.canvas,createRequest:function(e){return function(t,r){var i,o=new n;o._read=function(e){i&&o.push(i.body)};var s=[],a=!1;function u(n){var s={client:e.client,method:t.method,data:n};if(t.headers)for(var a in s.headers={},t.headers)"content-type"===a.toLowerCase()?s.contentType=t.headers[a]:s.headers[a]=t.headers[a];s.success=function(e){var t=function(e){var t={};return e.split(/\n/).forEach(function(e){var r=e.split(/\s*:\s*/),n=r[0].toLowerCase(),i=r[1];t[n]=i}),t}(e.responseHeaders),n=e.payload;"string"==typeof n||n instanceof String||(n=JSON.stringify(n)),i={statusCode:e.status,headers:t,body:n},r&&r(null,i,i.body),o.end()},s.failure=function(e){r&&r(e)},Sfdc.canvas.client.ajax(t.url,s)}return o._write=function(e,t,r){s.push(e.toString(t)),r()},o.on("finish",function(){a||(u(s.join("")),a=!0)}),!t.body&&""!==t.body&&/^(put|post|patch)$/i.test(t.method)||(u(t.body),a=!0),o}}}},function(e,t,r){"use strict";var n=0;e.exports={supported:"undefined"!=typeof window&&"undefined"!=typeof document,createRequest:function(e,t){return e=e||"callback",t=t||1e4,function(r,i){if("GET"!==r.method.toUpperCase())return i(new Error("JSONP only supports GET request."));var o="_jsforce_jsonpCallback_"+ ++n,s=window,a=r.url;a+=a.indexOf("?")>0?"&":"?",a+=e+"="+o;var u=document.createElement("script");u.type="text/javascript",u.src=a,document.documentElement.appendChild(u);var c=setTimeout(function(){l(),i(new Error("JSONP call time out."))},t);s[o]=function(e){l(),i(null,{statusCode:200,headers:{"content-type":"application/json"},body:JSON.stringify(e)})};var l=function(){clearTimeout(c),document.documentElement.removeChild(u),delete s[o]}}}}},function(e,t,r){"use strict";var n=r(78);e.exports=function(e){"./jsforce"!==e&&"jsforce"!==e||(e="./core");var t=n[e];if(void 0===t)throw new Error("Cannot find module '"+e+"'");return t}},function(e,t,r){"use strict";e.exports={inherits:r(3),util:r(31),events:r(7),"readable-stream":r(19),"./VERSION":r(34),"./cache":r(28),"./connection":r(35),"./core":r(22),"./date":r(27),"./http-api":r(29),"./inherits":r(18),"./logger":r(37),"./oauth2":r(23),"./promise":r(11),"./query":r(26),"./record":r(46),"./soap":r(79),"./sobject":r(45),"./soql-builder":r(44),"./transport":r(24)}},function(e,t,r){"use strict";var n=r(18),i=r(29),o=e.exports=function(e,t){o.super_.apply(this,arguments),this._endpointUrl=t.endpointUrl,this._xmlns=t.xmlns||"urn:partner.soap.sforce.com"};function s(e,t){var r=t.shift();if(r){for(var n in e)if(r.test(n))return s(e[n],t);return null}return e}function a(e,t){if("object"==typeof e&&(t=e,e=null),Array.isArray(t)){let r=[];return t.forEach(function(t){r.push(a(e,t))}),r.join("")}var r=[],n=[];if("object"==typeof t){for(var i in t){var o=t[i];"@"===i[0]?(i=i.substring(1),r.push(i+'="'+o+'"')):n.push(a(i,o))}t=n.join("")}else t=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return(e?"<"+e+(r.length>0?" "+r.join(" "):"")+">":"")+t+(e?"</"+e+">":"")}n(o,i),o.prototype.invoke=function(e,t,r,n){"function"==typeof r&&(n=r,r=null);var i={};return i[e]=t,this.request({method:"POST",url:this._endpointUrl,headers:{"Content-Type":"text/xml",SOAPAction:'""'},message:i}).then(function(e){return r?function e(t,r){if(Array.isArray(t))return t.map(function(t){return e(t,r&&r[0])});if("object"==typeof t){if(t.$&&"true"===t.$["xsi:nil"])return null;if(Array.isArray(r))return[e(t,r[0])];var n={};for(var i in t)n[i]=e(t[i],r&&r[i]);return n}if(Array.isArray(r))return[e(t,r[0])];if("object"==typeof r)return{};switch(r){case"string":return String(t);case"number":return Number(t);case"boolean":return"true"===t;default:return t}}(e,r):e}).thenCall(n)},o.prototype.beforeSend=function(e){e.body=this._createEnvelope(e.message)},o.prototype.isSessionExpired=function(e){return 500===e.statusCode&&/<faultcode>[a-zA-Z]+:INVALID_SESSION_ID<\/faultcode>/.test(e.body)},o.prototype.parseError=function(e){var t=s(e,[/:Envelope$/,/:Body$/,/:Fault$/]);return{errorCode:t.faultcode,message:t.faultstring}},o.prototype.getResponseBody=function(e){return s(o.super_.prototype.getResponseBody.call(this,e),[/:Envelope$/,/:Body$/,/.+/])},o.prototype._createEnvelope=function(e){var t={},r=this._conn;return r.accessToken&&(t.SessionHeader={sessionId:this._conn.accessToken}),r.callOptions&&(t.CallOptions=r.callOptions),['<?xml version="1.0" encoding="UTF-8"?>','<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','<soapenv:Header xmlns="'+this._xmlns+'">',a(t),"</soapenv:Header>",'<soapenv:Body xmlns="'+this._xmlns+'">',a(e),"</soapenv:Body>","</soapenv:Envelope>"].join("")}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9),o=r(1),s=r(4),a=r(13);t.ApexRemoteDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){try{if(o.Logger.log("ApexRemote",this.input),"function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"apexremote",value:{className:this.input.className,methodName:this.input.methodName,inputMap:JSON.stringify(this.input.inputMap),optionsMap:this.input.optionsMap}},r=yield e(JSON.stringify(t));return JSON.parse(r)}if(this.inPlatformData)return this.inPlatformData;if(a.isNode||"function"!=typeof this.input.digest)return this.visualForceRemoteInvoke(this.input);{const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.visualForceRemoteInvoke(this.input).then(t=>n(this,void 0,void 0,function*(){return this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection?this.connection.instanceUrl:"")&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}visualForceRemoteInvoke(e){const t=`${i.SalesForceNamespace.namespace}.${e.className}.${e.methodName}`,r=Object.assign(Object.assign({},{escape:!1}),e.config);return new Promise((n,i)=>{Visualforce.remoting.timeout=this.input.timeoutInMillis,Visualforce.remoting.Manager.invokeAction(t,...this.input.paramsArray||[],(t,r)=>{if(o.Logger.log(t),"string"==typeof t&&(t=JSON.parse(t)),r.statusCode<400)n(t);else{if(404===r.statusCode&&0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.visualForceRemoteInvoke(e));i(r)}},r)}).catch(e=>Promise.reject(new Error(e)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.ApexRemoteInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.optionsMap={},this.className=e.className,this.methodName=e.methodName,this.paramsArray=e.paramsArray,this.config=e.config,this.inputMap=e.inputMap}digest(){return super.digestData(this.className,this.methodName,JSON.stringify(this.paramsArray),this.inputMap)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),r(54);const i=r(0),o=r(1),s=r(4),a=r(13),u=r(15),c="Request timed out";t.ApexRestDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){o.Logger.log("In ApexRest",this.input);try{if(this.inPlatformData)return this.inPlatformData;if(a.isNode||"function"!=typeof this.input.digest)return this.jsforceApexRest(this.input);{const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.jsforceApexRest(this.input).then(t=>n(this,void 0,void 0,function*(){return this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection.instanceUrl)&&(this.input.method===i.HttpMethod.GET||this.input.method===i.HttpMethod.POST)&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}jsforceApexRest(e){const t={method:i.HttpMethod.GET,options:{},path:""},r=new u.ApexRestInput(t);let n=new u.ApexRestInput(Object.assign(Object.assign({},r),e));return new Promise((t,r)=>{let i=setTimeout(()=>{r(new Error(c))},this.input.timeoutInMillis);"get"===n.method.toLowerCase()?this.connection.apex.get(n.path,n.options,(a,u)=>{if(clearTimeout(i),a){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e));o.Logger.log("ApexRest failed",n,a),r(a)}o.Logger.log("ApexRest is successful",n,u),t(u)}):"delete"===n.method.toLowerCase()?this.connection.apex[n.method.toLowerCase()](n.path,n.options,(a,u)=>{if(clearTimeout(i),a){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e).then(t).catch(r));o.Logger.log("ApexRest failed",n,a),r(a)}o.Logger.log("ApexRest is successful",n,u),t(u)}):this.connection.apex[n.method.toLowerCase()](n.path,n.body,n.options,(a,u)=>{if(clearTimeout(i),a){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e).then(t).catch(r));o.Logger.log("ApexRest failed",n,a),r(a)}o.Logger.log("ApexRest is successful",n,u),t(u)})}).catch(t=>{if(t.message===c&&this.input.retryCount>0)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceApexRest(e))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.ApexRestInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.path=e.path,this.method=e.method,this.body=e.body,this.options=e.options}digest(){return super.digestData(this.path,this.method,this.body,this.options?JSON.stringify(this.options):"")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.SoqlInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.query=e.query}digest(){return super.digestData(this.query)}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(86)),n(r(84))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(2),s=r(4),a=r(13),u="Request timed out";t.SoqlDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){i.Logger.log("In Soql",this.input);try{if("function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"query",value:JSON.stringify(this.input.query)};return yield e(JSON.stringify(t))}if(this.inPlatformData)return this.inPlatformData;if(!a.isNode&&this.input instanceof o.BaseDataSourceInput){const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.jsforceSoql(this.input).then(t=>n(this,void 0,void 0,function*(){return(yield this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection.instanceUrl))&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}return this.jsforceSoql(this.input)}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}jsforceSoql(e){return new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error(u))},this.input.timeoutInMillis);this.connection.query(e.query,(o,a)=>{if(clearTimeout(n),o){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSoql(e).then(t).catch(r));i.Logger.log("SOSL query failed",o),r(o)}t(a)})}).catch(t=>{if(t.message===u&&this.input.retryCount>0)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSoql(e))})}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(88)),n(r(89))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(2),s=r(4),a=r(13),u="Request timed out";t.SoslDataSource=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:s.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:s.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){i.Logger.log("SOSL",this.input);try{if("function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"search",value:JSON.stringify(this.input.query)};return yield e(JSON.stringify(t))}if(this.inPlatformData)return this.inPlatformData;if(!a.isNode&&this.input instanceof o.BaseDataSourceInput){const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.jsforceSosl(this.input).then(t=>n(this,void 0,void 0,function*(){return(yield this.dataSourceDB.getCacheableValue(this.input.cacheable,this.connection.instanceUrl))&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}return this.jsforceSosl(this.input)}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}jsforceSosl(e){return new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error(u))},this.input.timeoutInMillis);this.connection.search(this.escapeSOSLSearchCharacters(e.query),(o,a)=>{if(clearTimeout(n),o){if(0!==this.input.retryCount)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSosl(e).then(t).catch(r));i.Logger.log("SOSL query failed",o),r(o)}t(a)})}).catch(t=>{if(t.message===u&&this.input.retryCount>0)return--this.input.retryCount,s.default.addRetryDelay().then(()=>this.jsforceSosl(e))})}escapeSOSLSearchCharacters(e){if(0===(e=e.trim()).search(/FIND\s*{/i)){const t=e.match(/{(.|[\r\n\s])+}/i);if(t&&t.length>=0){const r=t[0].substr(1,t[0].length-2).replace(/[-[\]&{}!()*:"'~\+\-\?.,\\^$|]/g,"\\$&");return e.replace(/FIND\s*{(.|\s)*}/i,`FIND {${r}}`)}return e}return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.SoslInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.query=e.query}digest(){return super.digestData(this.query)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectMap=function(e,t,r){const n=[];try{e.forEach(e=>{const i={};t.forEach(t=>{if(t){const r=function(e){const t=e.split("#"),r={customKey:null,key:t[0]};return t.length>1&&(r.customKey=t[1]),r}(t),n=(t=r.key).split(".");n.length>1?i[r.customKey||n[n.length-1]]=n.reduce((e,t)=>e[t],e):i[r.customKey||t]=e[t]}}),r?n.push(Object.values(i).toString()):n.push(i)})}catch(e){return[]}return JSON.parse(JSON.stringify(n))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.findProductGroup=function e(t,r){try{for(const n of r)if(n.Id===t[0]){if(n.childProducts)return n;if(n.productGroups)return e(t.slice(1),n.productGroups)}}catch(e){return n.Logger.info("@@@ here in catch",e),null}},t.sortItems=function(e,t,r){try{let n=[];return n=t?e.sort((e,r)=>e[t].toString().localeCompare(r[t].toString())):e.sort(),r?n.reverse():n}catch(t){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93);r(54);const i=r(0),o=r(94),s=r(21),a=r(15),u=r(97),c=r(100),l=r(101),h=r(103),f=r(106),d=r(49),p=r(85),y=r(87),g=r(4);class m extends i.BaseSDK{constructor(e){if(super(),this.config=e,this.dataSourceDB=new o.default(this.config.dbName="IndexedResponseDB",this.config.storeName="DataSourceResponseStore"),this.dataSourceDB.createIndexedDBStore(),this.config&&this.config.jsforceConnection)this.connection=this.config.jsforceConnection;else if(this.config&&this.config.sessionId&&this.config.url){const e={serverUrl:this.config.url,sessionId:this.config.sessionId};this.config.proxyUrl&&(e.proxyUrl=this.config.proxyUrl),this.connection=new n.Connection(e)}}static getInstance(e){if(!m.instance&&!e)throw new Error("DataSource:getInstance: DataSource cannot be instantiated properly. DataSourceSDKConfig must be provided.");return(!m.instance||e&&e.create)&&(m.instance=new m(e)),m.instance}apexRemote(e){return new s.ApexRemoteDataSource(this.connection,e,this.dataSourceDB,this.config.inPlatformData)}apexRest(e){return new a.ApexRestDataSource(this.connection,e,this.dataSourceDB,this.config.inPlatformData)}rest(e){return new f.RestDataSource(e,this.dataSourceDB,this.config.inPlatformData)}soql(e){return new p.SoqlDataSource(this.connection,e,this.dataSourceDB,this.config.inPlatformData)}sosl(e){return new y.SoslDataSource(this.connection,e,this.dataSourceDB,this.config.inPlatformData)}dataRaptor(e){return new u.DataRaptor(this.connection,e,this.dataSourceDB,this.config.inPlatformData)}integrationProcedure(e){return new h.IntegrationProcedure(this.connection,e,this.dataSourceDB,this.config.inPlatformData)}dual(e,t){const r=new l.DualDataSource(this.connection,e,t,this.dataSourceDB,this.config.inPlatformData);return r.useRemote=this.config.useApexRemoteForDualDataSource,r}setRetryCount(e){g.default.setDefaultRetryCount(e)}setRequestTimeout(e){g.default.setDefaultTimeout(e)}getCacheData(e,t){return this.dataSourceDB.get(e,t)}setCacheData(e,t,r){return this.dataSourceDB.set(e,t,r)}deleteCacheData(e,t){return this.dataSourceDB.delete(e,t)}getCachedKeys(){return this.dataSourceDB.keys()}clearCache(){return this.dataSourceDB.clear()}getCachedResults(e,t){return this.dataSourceDB.getDataFromCache(e,!1,t)}setCachedResults(e,t,r,n){return this.dataSourceDB.setCache(e,t,r,n)}static createConfigForDatasourceUser(e,t,r){const n=new c.default;return n.sessionId=t,n.url=e,n.inPlatformData=r,n}apexRemoteInput(e){return new s.ApexRemoteInput(e)}apexRestInput(e){return new a.ApexRestInput(e)}dataRaptorInput(e){return new u.DataRaptorInput(e)}integrationProcedureInput(e){return new h.IntegrationProcedureInput(e)}restInput(e){return new d.RestInput(e)}soqlInput(e){return new p.SoqlInput(e)}soslInput(e){return new y.SoslInput(e)}static createConfigForLoginUser(e,t,r){return this.createConfigForDatasourceUser(e,t,r)}handleApexRemoteCall(e){return this.apexRemote(this.apexRemoteInput(e)).execute()}handleApexRestCall(e){return this.apexRest(this.apexRestInput(e)).execute()}handleDataRaptorCall(e){return this.dataRaptor(this.dataRaptorInput(e)).execute()}handleIntegrationProcedureCall(e){return this.integrationProcedure(this.integrationProcedureInput(e)).execute()}handleRestCall(e){return this.rest(this.restInput(e)).execute()}handleSoqlCall(e){return this.soql(this.soqlInput(e)).execute()}handleSoslCall(e){return this.sosl(this.soslInput(e)).execute()}}t.default=m},function(e,t,r){"use strict";var n=r(22);e.exports=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(95),o=r(96),s=r(13),a=r(16),u="VlocitySDK";new Date((new Date).getTime()+3e5);class c{constructor(e,t){this.dbName=e,this.storeName=u+"."+t}createIndexedDBStore(){c.isIndexedDBAvailable&&(this.db=new i.Store(this.dbName,this.storeName))}get(e,t){return n(this,void 0,void 0,function*(){return s.isNode?Promise.reject():t&&t!==a.CacheType.INDEXEDDB?t===a.CacheType.LOCALSTORAGE?localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null:t===a.CacheType.SESSIONSTORAGE?sessionStorage.getItem(e)?JSON.parse(sessionStorage.getItem(e)):null:void 0:c.isIndexedDBAvailable&&this.db?i.get(e,this.db):localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null})}set(e,t,r){return n(this,void 0,void 0,function*(){return s.isNode?Promise.reject():r&&r!==a.CacheType.INDEXEDDB?r===a.CacheType.LOCALSTORAGE?localStorage.setItem(e,t):r===a.CacheType.SESSIONSTORAGE?sessionStorage.setItem(e,t):void 0:c.isIndexedDBAvailable&&this.db?i.set(e,t,this.db):localStorage.setItem(e,t)})}delete(e,t){return n(this,void 0,void 0,function*(){return s.isNode?Promise.reject():t&&t!==a.CacheType.INDEXEDDB?t===a.CacheType.LOCALSTORAGE?localStorage.removeItem(e):t===a.CacheType.SESSIONSTORAGE?sessionStorage.removeItem(e):void 0:c.isIndexedDBAvailable&&this.db?i.del(e,this.db):localStorage.removeItem(e)})}clear(){return n(this,void 0,void 0,function*(){i.clear(this.db)})}keys(){return n(this,void 0,void 0,function*(){return c.isIndexedDBAvailable?i.keys(this.db):Promise.reject()})}getCachedResults(e){return n(this,void 0,void 0,function*(){let t;return c.isIndexedDBAvailable?(t=yield this.get(e))&&t.cacheExpiration.getTime()>Date.now()?Promise.resolve(JSON.parse(t.result)):Promise.reject():Promise.reject(t)})}setResultsCache(e,t,r){return n(this,void 0,void 0,function*(){let n=new o.CacheResult;n.result=JSON.stringify(t),n.cacheExpiration=r||t.cacheExpiration,yield this.set(e,n)})}deleteDatabase(){return n(this,void 0,void 0,function*(){const e=indexedDB.deleteDatabase(this.dbName);return new Promise((t,r)=>{e.onerror=(e=>{r(e)}),e.onsuccess=(()=>{t()})})})}getCacheableValue(e,t){let r=!0;if(t&&t.split("?")[1]){const e=t.split("?")[1].toLowerCase(),n=e.includes("usecache=")?e.split("usecache=")[1].split("&")[0]:null;r=null===n||"true"===n}return e&&r}getDataFromCache(e,t,r){return n(this,void 0,void 0,function*(){return t||s.isNode?Promise.reject():r&&r!==a.CacheType.INDEXEDDB||!c.isIndexedDBAvailable?r===a.CacheType.LOCALSTORAGE?this.getCachedResultsLocalStorage(e):r===a.CacheType.SESSIONSTORAGE?this.getCachedResultsSessionStorage(e):Promise.reject():this.db?this.getCachedResults(e):this.getCachedResultsLocalStorage(e)})}setCache(e,t,r,i){return n(this,void 0,void 0,function*(){return s.isNode?Promise.reject():i&&i!==a.CacheType.INDEXEDDB?i===a.CacheType.LOCALSTORAGE?this.setResultsCacheLocalStorage(e,t,r):i===a.CacheType.SESSIONSTORAGE?this.setResultsCacheSessionStorage(e,t,r):void 0:this.db?this.setResultsCache(e,t,r):this.setResultsCacheLocalStorage(e,t,r)})}getCachedResultsLocalStorage(e){return n(this,void 0,void 0,function*(){let t;return(t=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null)&&new Date(t.cacheExpiration).getTime()>Date.now()?Promise.resolve(JSON.parse(t.result)):Promise.reject()})}setResultsCacheLocalStorage(e,t,r){return n(this,void 0,void 0,function*(){let n=new o.CacheResult;n.result=JSON.stringify(t),n.cacheExpiration=r||t.cacheExpiration,yield localStorage.setItem(e,JSON.stringify(n))})}getCachedResultsSessionStorage(e){return n(this,void 0,void 0,function*(){let t;return(t=sessionStorage.getItem(e)?JSON.parse(sessionStorage.getItem(e)):null)&&new Date(t.cacheExpiration).getTime()>Date.now()?Promise.resolve(JSON.parse(t.result)):Promise.reject()})}setResultsCacheSessionStorage(e,t,r){return n(this,void 0,void 0,function*(){let n=new o.CacheResult;n.result=JSON.stringify(t),n.cacheExpiration=r||t.cacheExpiration,yield sessionStorage.setItem(e,JSON.stringify(n))})}}t.default=c,c.isIndexedDBAvailable=!s.isNode&&"indexedDB"in window},function(e,t,r){"use strict";r.r(t),r.d(t,"Store",function(){return n}),r.d(t,"get",function(){return s}),r.d(t,"set",function(){return a}),r.d(t,"del",function(){return u}),r.d(t,"clear",function(){return c}),r.d(t,"keys",function(){return l});class n{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbp=new Promise((r,n)=>{const i=indexedDB.open(e,1);i.onerror=(()=>n(i.error)),i.onsuccess=(()=>r(i.result)),i.onupgradeneeded=(()=>{i.result.createObjectStore(t)})})}_withIDBStore(e,t){return this._dbp.then(r=>new Promise((n,i)=>{const o=r.transaction(this.storeName,e);o.oncomplete=(()=>n()),o.onabort=o.onerror=(()=>i(o.error)),t(o.objectStore(this.storeName))}))}}let i;function o(){return i||(i=new n),i}function s(e,t=o()){let r;return t._withIDBStore("readonly",t=>{r=t.get(e)}).then(()=>r.result)}function a(e,t,r=o()){return r._withIDBStore("readwrite",r=>{r.put(t,e)})}function u(e,t=o()){return t._withIDBStore("readwrite",t=>{t.delete(e)})}function c(e=o()){return e._withIDBStore("readwrite",e=>{e.clear()})}function l(e=o()){const t=[];return e._withIDBStore("readonly",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CacheResult=class{}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(98)),n(r(99))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(9),s=r(1),a=r(33),u=r(15),c=r(4);t.DataRaptor=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:c.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:c.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){s.Logger.log("DataSource call input",this.input);try{if("function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"dataraptor",value:{bundleName:this.input.bundleName,inputMap:JSON.stringify(this.input.inputMap)}},r=yield e(JSON.stringify(t));return JSON.parse(r)}if(this.inPlatformData)return this.inPlatformData;{s.Logger.log("In Dataraptor using ApexRest",this.input);const e=new u.ApexRestInput({method:i.HttpMethod.GET,path:this.getDataraptorPath(this.input.bundleName,this.input.inputParamsString,this.input.inputMap),retryCount:this.input.retryCount,timeoutInMillis:this.input.timeoutInMillis,cacheable:this.input.cacheable,cacheExpiration:this.input.cacheExpiration,reload:this.input.reload,cacheType:this.input.cacheType});return yield new u.ApexRestDataSource(this.connection,e,this.dataSourceDB).execute()}}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}getDataraptorPath(e,t,r){let n="";return t?n="?"+t:r&&(n=a.queryStringEncode(r)),`${o.SalesForceNamespace.restAPIPrefix}/v2/DataRaptor/${e}/${n}`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.DataRaptorInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.bundleName=e.bundleName,this.inputParamsString=e.inputParamsString,this.inputMap=e.inputMap}digest(){return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.default=class extends n.SDKConfig{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(102))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(21),s=r(15),a=r(4);t.DualDataSource=class{constructor(e,t,r,n,i){this.connection=e,this.apexRestInput=t,this.apexRemoteInput=r,this.useRemote=!1,this.apexRestInput.retryCount=void 0!==this.apexRestInput.retryCount?this.apexRestInput.retryCount:a.default.defaultRetryCount,this.apexRemoteInput.retryCount=void 0!==this.apexRemoteInput.retryCount?this.apexRemoteInput.retryCount:a.default.defaultRetryCount,this.apexRestInput.timeoutInMillis=void 0!==this.apexRestInput.timeoutInMillis?this.apexRestInput.timeoutInMillis:a.default.defaultTimeout,this.apexRemoteInput.timeoutInMillis=void 0!==this.apexRemoteInput.timeoutInMillis?this.apexRemoteInput.timeoutInMillis:a.default.defaultTimeout,this.dataSourceDB=n,this.inPlatformData=i}execute(){return n(this,void 0,void 0,function*(){try{if("function"==typeof this.inPlatformData&&this.useRemote){const e=this.inPlatformData,t={type:"apexremote",value:{className:this.apexRemoteInput.className,methodName:this.apexRemoteInput.methodName,inputMap:JSON.stringify(this.apexRemoteInput.inputMap),optionsMap:this.apexRemoteInput.optionsMap}},r=yield e(JSON.stringify(t));return JSON.parse(r)}return this.inPlatformData?this.inPlatformData:this.useRemote?(i.Logger.log("In Dual using ApexRemote",this.apexRemoteInput),yield new o.ApexRemoteDataSource(this.connection,this.apexRemoteInput,this.dataSourceDB).execute()):(i.Logger.log("In Dual using ApexRest",this.apexRestInput),yield new s.ApexRestDataSource(this.connection,this.apexRestInput,this.dataSourceDB).execute())}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(104)),n(r(105))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9),o=r(1),s=r(33),a=r(21),u=r(15),c=r(4);t.IntegrationProcedure=class{constructor(e,t,r,n){this.connection=e,this.input=t,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:c.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:c.default.defaultTimeout,this.dataSourceDB=r,this.inPlatformData=n}execute(){return n(this,void 0,void 0,function*(){if(o.Logger.log("Integration Procedure call input",this.input),this.actionMode="undefined"!=typeof Visualforce,"function"==typeof this.inPlatformData){let e=this.inPlatformData,t={type:"integrationprocedure",value:{ipMethod:this.input.procedureKey,inputMap:JSON.stringify(this.input.input),optionsMap:this.input.optionsMap}};const r=yield e(JSON.stringify(t));return JSON.parse(r)}if(this.inPlatformData)return this.inPlatformData;if(this.actionMode){const e=i.SalesForceNamespace.namespace,t=this.input.remote.className,r=this.input.remote.methodName;if(!window[e]||!window[e][t]||!window[e][t][r])throw new Error("Remote Action not found.");const n=new a.ApexRemoteInput({className:t,methodName:r,paramsArray:[this.input.procedureKey,this.input.input,this.input.optionsMap],retryCount:this.input.retryCount,timeoutInMillis:this.input.timeoutInMillis,cacheable:this.input.cacheable,cacheExpiration:this.input.cacheExpiration,reload:this.input.reload,cacheType:this.input.cacheType});return yield new a.ApexRemoteDataSource(this.connection,n,this.dataSourceDB).execute().then(e=>this.ipResponse(e)).catch(e=>e)}const e=new u.ApexRestInput({body:this.input.rest?this.input.rest.body:{},method:this.input.rest?this.input.rest.method:"GET",options:this.input.rest?this.input.rest.options:{},path:this.getIntegrationProcedurePath(this.input.procedureKey,this.input.input),retryCount:this.input.retryCount,timeoutInMillis:this.input.timeoutInMillis,cacheable:this.input.cacheable,cacheExpiration:this.input.cacheExpiration,reload:this.input.reload,cacheType:this.input.cacheType});return yield new u.ApexRestDataSource(this.connection,e,this.dataSourceDB).execute().then(e=>this.ipResponse(e)).catch(e=>e)})}getIntegrationProcedurePath(e,t){let r="";return t&&(r=s.queryStringEncode(t)),`${i.SalesForceNamespace.restAPIPrefix}/v1/integrationprocedure/${e}${r}`}ipResponse(e){let t;try{t="string"==typeof e?JSON.parse(e):e}catch(e){throw new Error(e)}return t&&t.hasOwnProperty("vlcIPData")&&t.hasOwnProperty("vlcStatus")&&"InProgress"===t.vlcStatus?(this.actionMode?this.input.optionsMap=t:this.input.rest.options.headers=t,this.execute()):t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.IntegrationProcedureInput=class extends n.BaseDataSourceInput{constructor(e){super(e.cacheable,e.cacheExpiration,e.retryCount,e.timeoutInMillis,e.reload,e.cacheType),this.procedureKey=e.procedureKey,this.input=e.input,this.optionsMap=e.optionsMap,this.rest=e.rest,this.remote=e.remote}digest(){return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(107))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),r(108);const i=r(0),o=r(1),s=r(2),a=r(109),u=r(4),c=r(13);t.RestDataSource=class{constructor(e,t,r){this.input=e,this.input.retryCount=void 0!==this.input.retryCount?this.input.retryCount:u.default.defaultRetryCount,this.input.timeoutInMillis=void 0!==this.input.timeoutInMillis?this.input.timeoutInMillis:u.default.defaultTimeout,this.dataSourceDB=t,this.inPlatformData=r}execute(){return n(this,void 0,void 0,function*(){try{if(o.Logger.log("Rest ",this.input),"function"==typeof this.inPlatformData){const e=this.inPlatformData,t={type:"rest",value:{methodType:this.input.options.method,headers:this.input.options.headers,endpoint:this.input.url,data:this.input.options.body,namedCredential:this.input.options.credentials}};return yield e(JSON.stringify(t))}if(this.inPlatformData)return this.inPlatformData;if(!c.isNode&&this.input instanceof s.BaseDataSourceInput){const e=yield this.input.digest();return this.dataSourceDB.getDataFromCache(e,this.input.reload,this.input.cacheType).catch(()=>this.Rest(this.input).then(t=>n(this,void 0,void 0,function*(){return(yield this.dataSourceDB.getCacheableValue(this.input.cacheable,this.input.url))&&this.input.options.method===i.HttpMethod.GET&&(yield this.dataSourceDB.setCache(e,t,this.input.cacheExpiration,this.input.cacheType)),t})).catch(e=>e))}return this.Rest(this.input)}catch(e){let t="object"==typeof e&&null!==e?JSON.stringify(e):e;return Promise.reject(new Error(t))}})}Rest(e){return n(this,void 0,void 0,function*(){let e;try{e=setTimeout(()=>Promise.reject(new Error("Request timed out")),this.input.timeoutInMillis);const t=yield fetch(this.input.url,this.input.options);return clearTimeout(e),t.ok?204===t.status?yield{}:yield t.json():(o.Logger.info("Rest call failed",t),Promise.reject(new a.default(t.statusText,this.input.url,t)))}catch(e){if(404===e.status&&0!==this.input.retryCount)return--this.input.retryCount,yield u.default.addRetryDelay(),yield this.execute();o.Logger.info("Rest call error",e),yield e.response.json().then(t=>(e.errorJson=t,Promise.reject(e)))}})}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",function(){return l}),r.d(t,"Request",function(){return m}),r.d(t,"Response",function(){return b}),r.d(t,"DOMException",function(){return S}),r.d(t,"fetch",function(){return w});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=f(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=a(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=u(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];b.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var S=n.DOMException;try{new S}catch(e){(S=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function w(e,t){return new Promise(function(r,o){var s=new m(e,t);if(s.signal&&s.signal.aborted)return o(new S("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;setTimeout(function(){r(new b(t,e))},0)},a.onerror=function(){setTimeout(function(){o(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){o(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){o(new S("Aborted","AbortError"))},0)},a.open(s.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&(i.blob?a.responseType="blob":i.arrayBuffer&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof l?s.headers.forEach(function(e,t){a.setRequestHeader(t,e)}):Object.getOwnPropertyNames(t.headers).forEach(function(e){a.setRequestHeader(e,u(t.headers[e]))}),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})}w.polyfill=!0,n.fetch||(n.fetch=w,n.Headers=l,n.Request=m,n.Response=b)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class extends Error{constructor(e,t,r){super(e),this.requestOptions=t,this.response=(r||{}).response||r,this.status=r.status}}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(1);class o extends n.BaseSDK{constructor(){if(super(),this.callbacks=new Map,o.instance)throw new Error("Existing PubSub instance. Don't create instances, use the singleton from PubSub.instance")}static getInstance(){return o.instance||(o.instance=new o),o.instance}register(e,t){this.callbacks[e]||(this.callbacks[e]=new Set),this.callbacks[e].add(t)}unregister(e,t){this.callbacks[e]&&this.callbacks[e].delete(t)}fire(e,t,r){this.callbacks[e]&&this.callbacks[e].forEach(n=>{try{n[t]&&n[t](r)}catch(r){i.Logger.error(`Callback for ${e} and ${t} failed. There is an error in the registered callback: `,r)}})}}t.default=o},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i{constructor(){this.adjustments=[],this.customFields={}}static parse(e,t,r){const o=new i;if(o.name=e.Name,o.promoActionType=e.Action,o.actions=e.actions,o.groupMaxQuantity=e[n.SalesForceNamespace.namespace+"__MaxQuantity__c"],o.groupMinQuantity=e[n.SalesForceNamespace.namespace+"__MinQuantity__c"],o.promoCode=e[n.SalesForceNamespace.namespace+"__Code__c"],e.Adjustments&&e.Adjustments.length>0){const r={};e.Adjustments.forEach(e=>{if(t.pricingLogValue){const i="BaseAdjustment";t.pricingLogValue.LogData.OT_STD_PRC&&t.pricingLogValue.LogData.OT_STD_PRC.length>0&&t.pricingLogValue.LogData.OT_STD_PRC.forEach(t=>{if(t.PriceListEntryId===e[n.SalesForceNamespace.namespace+"__PriceListEntryId__c"]){r["adjustmentValue"]=t[i]}}),t.pricingLogValue.LogData.REC_MNTH_STD_PRC&&t.pricingLogValue.LogData.REC_MNTH_STD_PRC.length>0&&t.pricingLogValue.LogData.REC_MNTH_STD_PRC.forEach(t=>{if(t.PriceListEntryId===e[n.SalesForceNamespace.namespace+"__PriceListEntryId__c"]){r["adjustmentRecurring"]=t[i]}})}o.adjustments.push(r)})}return r&&r.customFields&&r.customFields.length&&r.customFields.map(t=>{e.hasOwnProperty(t)&&(o.customFields[t]=e[t])}),o}}t.Promotion=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(215),s=r(216);class a{constructor(){this.attachments=[],this.seoMetaData={},this.customFields={}}static parse(e,t){const r=new a,u=t&&t.includeAttributes?t.includeAttributes:[];if(!e)return r;if(t||(t={customFields:[]}),"Promotion"===e.offerType){r.name=e.Name,r.offerType=e.offerType,r.offerCode=e[n.SalesForceNamespace.namespace+"__Code__c"];const i=[];e.Product&&e.Product.length>0&&e.Product.forEach(r=>{const o=a.parse(r,t);o.promoCode=e[n.SalesForceNamespace.namespace+"__Code__c"],o.promoName=e.Name,i.push(o)}),r.products=i}else r.name=e.Name,r.description=e.Description,r.id=e.ProductCode,r.quantity=e.Quantity||0,r.minQuantity=e.minQuantity,r.maxQuantity=e.maxQuantity,r.groupMinQuantity=e.groupMinQuantity,r.groupMaxQuantity=e.groupMaxQuantity,r.offerType=e.offerType,r.attributes={},r.attachments=[],r.offerCode=e.ProductCode,r.priceInfo=o.PriceInfo.parse(e,t);if(e.offerDetailsAction&&(r.navigationInfo=e.offerDetailsAction.rest.link.split("?")[0]),e.Attachments&&(r.attachments=i.objectMap(e.Attachments,["defaultAttachment","url","contentType","description","displayConditionsData","sequenceNumber"].concat(t.customFields)),r.attachments=i.sortItems(r.attachments,"sequenceNumber")),e.AttributeCategory&&e.AttributeCategory.records){const n=e.AttributeCategory.records;for(const e in n)if(n.hasOwnProperty(e)){const o=i.objectMap(n[e].productAttributes.records,["label","multiselect","inputType","attributeId","userValues","values","code","hidden"].concat(t.customFields));o.map(e=>{e.values=i.objectMap(e.values,["value","defaultValue","disabled","readonly","defaultSelected","label"].concat(t.customFields))}),r.attributes[e]=o}}else if(e.AttributeCategory)for(const n in e.AttributeCategory)if(e.AttributeCategory.hasOwnProperty(n)){const o=["value__c","valuedescription__c","attributedisplayname__c#label","attributeRunTimeInfo.uiDisplayType","attributeRunTimeInfo.values","attributeRunTimeInfo.dataType","attributeRunTimeInfo.default"].concat(t.customFields);u.map(e=>{o.push(e)});let s=[];if(-1===u.indexOf("ishidden__c")){const t=e.AttributeCategory[n].filter(e=>!e.ishidden__c);s=i.objectMap(t,o)}else s=i.objectMap(e.AttributeCategory[n],o);s.map(e=>{e.values=i.objectMap(e.values,["value","displayText"])}),r.attributes[n]=s}const c={description:e.Description,keyWords:e.Name,pageTitle:e.Name};return r.seoMetaData=c,e.productGroups&&(r.productGroups=[],e.productGroups.map(e=>{r.productGroups.push(s.ProductGroup.parse(e,t))})),e.childProducts&&(r.childProducts=[],e.childProducts.map(e=>{r.childProducts.push(a.parse(e,t))})),e.productHierarchyPath&&(r.id=e.Id,r.productHierarchyPath=e.productHierarchyPath),e[n.SalesForceNamespace.namespace+"__VersionStartDateTime__c"]&&(r.versionStartDateTime=e[n.SalesForceNamespace.namespace+"__VersionStartDateTime__c"]),e[n.SalesForceNamespace.namespace+"__VersionLabel__c"]&&(r.versionLabel=e[n.SalesForceNamespace.namespace+"__VersionLabel__c"]),e[n.SalesForceNamespace.namespace+"__VersionEndDateTime__c"]&&(r.versionEndDateTime=e[n.SalesForceNamespace.namespace+"__VersionEndDateTime__c"]),e[n.SalesForceNamespace.namespace+"__SpecificationType__c"]&&(r.specificationType=e[n.SalesForceNamespace.namespace+"__SpecificationType__c"]),e[n.SalesForceNamespace.namespace+"__ProductSpecId__c"]&&(r.productSpecId=e[n.SalesForceNamespace.namespace+"__ProductSpecId__c"]),t&&t.customFields&&t.customFields.length&&t.customFields.map(t=>{e.hasOwnProperty(t)&&(r.customFields[t]=e[t])}),r}static updateOffer(e,t){let r={};if("Quantity"===e.field)t.result.offerDetails.offer.Quantity=e.value;else if("AttributeCategory"===e.field){let n;t.result?n=t.result.offerDetails.offer.AttributeCategory:t.attributeCategories&&(n=t.attributeCategories),n.records.map(t=>{t.productAttributes.records.map(t=>{e.value.map(e=>{if(t.code===e.code){if("number"===t.inputType&&(e.userValue>t.max||e.userValue<t.min))return r={error:!0,messages:["Value should be within "+t.min+" - "+t.max]};t.userValues=e.userValue}})})})}else if(e.productHierarchyPath){const n=e.productHierarchyPath.split("<").slice(1),o=i.findProductGroup(n,t.result.offerDetails.offer.productGroups);if(o)if(o&&o.groupMaxQuantity>1){o.childProducts.find(t=>t.Id===e.id).Quantity=e.quantity}else o.childProducts.map(t=>{t.Quantity=0,t.Id===e.id&&(t.Quantity=1)});else{const n=t.result.offerDetails.offer.childProducts.find(t=>t.Id===e.id);"AttributeCategoryLineItems"===e.field?n.AttributeCategory.records.map(t=>{t.productAttributes.records.map(t=>{e.value.map(e=>{if(t.code===e.code){if("number"===t.inputType&&(e.userValue>t.max||e.userValue<t.min))return r={error:!0,messages:["Value should be within "+t.min+" - "+t.max]};t.userValues=e.userValue}})})}):n&&n.Quantity!==e.quantity&&(t.result.offerDetails.offer.groupMaxQuantity>1?n.Quantity=e.quantity:t.result.offerDetails.offer.childProducts.map(t=>{t.Quantity=0,t.Id===e.id&&(t.Quantity=1)}))}}else"ChildAttributeCategory"===e.field&&t.result.offerDetails.offer.childProducts.map(t=>{t.AttributeCategory.records.map(t=>{t.productAttributes.records.map(t=>{e.value.map(e=>{if(t.code===e.code){if("number"===t.inputType&&(e.userValue>t.max||e.userValue<t.min))return r={error:!0,messages:["Value should be within "+t.min+" - "+t.max]};t.userValues=e.userValue}})})})});return t}}t.Offer=a},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.AddToCartInput=class extends o.DigitalCommerceInput{constructor(){super(),this.includeAttachment=!1,this.validatePrice=!0,this.validateAction=!0,this.remoteMethod=""}getInputMap(){const e={};return this.context&&(e.context=this.context),this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.fields&&(e.fields=this.fields.join(",")),this.includeAttachment&&(e.includeAttachment=this.includeAttachment),this.isLoggedIn&&(e.isloggedin=this.isLoggedIn),this.validatePrice||(e.price=!1),this.validateAction||(e.validate=!1),this.referencedatetime&&(e.referencedatetime=this.referencedatetime),e}getAPIPath(){const e=this.getEncodedQueryString(),t=this.cartContextKey||"",r=""!==t?"/":"";if(!this.catalogCode)throw new Error("AddToCartInput::getAPIPath() must have catalogCode.");return`${n.SalesForceNamespace.restAPIPrefix}/v3/catalogs/${this.catalogCode}/basket${r}${t}`+e}getAnonymousSiteRestUrl(){const e=this.getEncodedQueryString(),t=this.cartContextKey||"",r=""!==t?"/":"";if(!s.default.anonymousSiteConfigUrl)throw new Error("AddToCartInput::getAnonymousRestUrl() must have anonymousSiteUrl.");if(!this.catalogCode)throw new Error("AddToCartInput::getAnonymousSiteRestUrl() must have catalogCode.");return s.default.anonymousSiteConfigUrl+`/v3/catalogs/${this.catalogCode}/basket${r}${t}`+e}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/addtocart"),s.default.secureServerUrl+this.secureServerEndPointUrl}getRequestPayload(){if(!this.basketAction)throw new Error("AddToCartInput::getRequestPayload() must have basketAction.");if(this.basketAction&&"AddWithNoConfig"===this.basketAction&&!this.offerCode)throw new Error("AddToCartInput::getRequestPayload() must have offerCode when basketAction is 'AddWithNoConfig'.");if(this.basketAction&&"AddAfterConfig"===this.basketAction&&!this.offerConfiguration)throw new Error("AddToCartInput::getRequestPayload() must have offerConfiguration when basketAction is 'AddAfterConfig'.");if(this.basketAction&&"DeleteFromBasket"===this.basketAction){if(!this.actionParams.bundleContextKey)throw new Error("AddToCartInput::getRequestPayload() must have bundleContextKey when basketAction is 'DeleteFromBasket'.");if(!this.actionParams.lineItemKey)throw new Error("AddToCartInput::getRequestPayload() must have lineItemKey when basketAction is 'DeleteFromBasket'.")}if(this.basketAction&&"AddChildProduct"===this.basketAction){if(!this.actionParams.bundleContextKey)throw new Error("AddToCartInput::getRequestPayload() must have bundleContextKey when basketAction is 'AddChildProduct'.");if(!this.actionParams.parentLineItemKey)throw new Error("AddToCartInput::getRequestPayload() must have parentLineItemKey when basketAction is 'AddChildProduct'.");if(!this.actionParams.parentHierarchyPath)throw new Error("AddToCartInput::getRequestPayload() must have parentHierarchyPath when basketAction is 'AddChildProduct'.");if(!this.actionParams.offer)throw new Error("AddToCartInput::getRequestPayload() must have offer when basketAction is 'AddChildProduct'.")}if(this.basketAction&&"DeleteChildProduct"===this.basketAction){if(!this.actionParams.bundleContextKey)throw new Error("AddToCartInput::getRequestPayload() must have bundleContextKey when basketAction is 'DeleteChildProduct'.");if(!this.actionParams.lineItemKey)throw new Error("AddToCartInput::getRequestPayload() must have lineItemKey when basketAction is 'DeleteChildProduct'.")}if(this.basketAction&&"UpdateChildProduct"===this.basketAction){if(!this.actionParams.bundleContextKey)throw new Error("AddToCartInput::getRequestPayload() must have bundleContextKey when basketAction is 'UpdateChildProduct'.");if(!this.actionParams.lineItemKey)throw new Error("AddToCartInput::getRequestPayload() must have lineItemKey when basketAction is 'UpdateChildProduct'.")}if(this.basketAction&&"DeletePromotion"===this.basketAction&&!this.actionParams.offer)throw new Error("AddToCartInput::getRequestPayload() must have offerCode when basketAction is 'DeletePromotion'.");if(this.basketAction&&"AddPromotion"===this.basketAction&&!this.offerCode)throw new Error("AddToCartInput::getRequestPayload() must have offerCode when basketAction is 'AddPromotion'.");let e={};return e.basketAction=this.basketAction,"AddWithNoConfig"===this.basketAction?e.offer=this.offerCode:"AddAfterConfig"===this.basketAction?e.productConfig=this.offerConfiguration:"DeleteFromBasket"===this.basketAction?e=Object.assign(e,this.actionParams):"AddChildProduct"===this.basketAction?(e.offer=this.offerCode,e.basketAction="AddWithNoConfig",e=Object.assign(e,this.actionParams)):"DeleteChildProduct"===this.basketAction?(e.basketAction="DeleteFromBasket",e=Object.assign(e,this.actionParams)):"DeletePromotion"===this.basketAction?(e.basketAction="DeleteFromBasket",e=Object.assign(e,this.actionParams)):"AddPromotion"===this.basketAction&&(e.basketAction="AddWithNoConfig",e.offer=this.offerCode,e=Object.assign(e,this.actionParams)),this.transactionKey&&(e.transactionKey=this.transactionKey),this.multiTransactionKey&&(e.multiTransactionKey=this.multiTransactionKey),e}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["forceinvalidatecache","fields","context","includeAttachment","price","validate","isloggedin","referencedatetime"])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.AssetToBasketInput=class extends o.DigitalCommerceInput{constructor(){super(),this.isLoggedIn=!0,this.validatePrice=!0,this.validateAction=!0,this.remoteMethod=""}getInputMap(){const e={};return this.context&&(e.context=this.context),this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.canCreateBasket&&(e.canCreateBasket=this.canCreateBasket),this.fields&&(e.fields=this.fields.join(",")),this.validatePrice||(e.price=!1),this.validateAction||(e.validate=!1),this.isLoggedIn&&(e.isloggedin=!0),e}getAPIPath(){const e=this.getEncodedQueryString();if(!this.catalogCode)throw new Error("AssetToBasketInput::getAPIPath() must have catalogCode.");if(!this.context)throw new Error("AssetToBasketInput::getAPIPath() must have context.");if(!this.isLoggedIn)throw new Error("AssetToBasketInput::getAPIPath() must have set isLoggedIn=true.");return`${n.SalesForceNamespace.restAPIPrefix}/v3/catalogs/${this.catalogCode}/basket`+e}getAnonymousSiteRestUrl(){return""}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/assettobasket"),s.default.secureServerUrl+this.secureServerEndPointUrl}getRequestPayload(){if(!this.rootAssetIds)throw new Error("AssetToBasketInput::getRequestPayload() must have rootAssetIds.");if(!this.basketAction)throw new Error("AssetToBasketInput::getRequestPayload() must have basketAction.");if(!this.requestDateTime)throw new Error("AssetToBasketInput::getRequestPayload() must have valid requestDateTime input.");const e=Object.assign({},{basketAction:this.basketAction,requestDateTime:this.requestDateTime,rootAssetIds:this.rootAssetIds});return this.multiTransactionKey&&(e.multiTransactionKey=this.multiTransactionKey),this.transactionKey&&(e.transactionKey=this.transactionKey),e}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["forceinvalidatecache","fields","context","price","validate","canCreateBasket","isloggedin"])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i{constructor(){this.oneTimeCharge=0,this.recurringCharge=0,this.oneTimeLoyalty=0,this.recurringLoyalty=0,this.customFields={}}static parse(e,t,r){const o=new i;if(t&&e)e[n.SalesForceNamespace.namespace+"__RecurringTotal__c"]?(o.recurringCharge=e[n.SalesForceNamespace.namespace+"__RecurringTotal__c"].value,o.oneTimeCharge=e[n.SalesForceNamespace.namespace+"__OneTimeTotal__c"].value):(o.oneTimeCharge=e.EffectiveOneTimeTotal__c||e[n.SalesForceNamespace.namespace+"__EffectiveOneTimeTotal__c"]||0,o.recurringCharge=e.EffectiveRecurringTotal__c||e[n.SalesForceNamespace.namespace+"__EffectiveRecurringTotal__c"]||0);else if(e&&null!=e[n.SalesForceNamespace.namespace+"__OneTimeCharge__c"]){const t=e[n.SalesForceNamespace.namespace+"__RecurringCharge__c"],r=e[n.SalesForceNamespace.namespace+"__OneTimeCharge__c"].value;if(o.recurringCharge=t&&t.value?t.value:t,o.oneTimeCharge=r&&r.value?r.value:r,e.promotions){const t=e.pricingLogValue.LogData.OT_STD_PRC&&e.pricingLogValue.LogData.OT_STD_PRC.length&&e.pricingLogValue.LogData.OT_STD_PRC[e.pricingLogValue.LogData.OT_STD_PRC.length-1];t&&(o.oneTimeChargeInfo={adjustments:t.AdjustmentValue,baseamount:t.BaseValue,overrides:t.EndValue});const r=e.pricingLogValue.LogData.REC_MNTH_STD_PRC&&e.pricingLogValue.LogData.REC_MNTH_STD_PRC.length&&e.pricingLogValue.LogData.REC_MNTH_STD_PRC[e.pricingLogValue.LogData.REC_MNTH_STD_PRC.length-1];r&&(o.recurringChargeInfo={adjustments:r.AdjustmentValue,baseamount:r.BaseValue,overrides:r.EndValue})}}else e&&!e[n.SalesForceNamespace.namespace+"__OneTimeCharge__c"]&&(o.oneTimeCharge=null,o.recurringCharge=null);return r&&r.customFields&&r.customFields.map(t=>{e.hasOwnProperty(t)&&(o.customFields[t]=e[t])}),o}}t.PriceInfo=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.GetItemsInCartInput=class extends o.DigitalCommerceInput{constructor(){super(),this.remoteMethod=""}getInputMap(){const e={};return this.context&&(e.context=this.context),this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.fields&&(e.fields=this.fields.join(",")),this.isLoggedIn&&(e.isloggedin=this.isLoggedIn),this.contextKey&&(e.contextKey=this.contextKey),this.referencedatetime&&(e.referencedatetime=this.referencedatetime),e}getAPIPath(){const e=this.getEncodedQueryString();if(!this.cartContextKey)throw new Error("GetItemsInCartInput::getAPIPath() must have cartContextKey.");if(!this.catalogCode)throw new Error("GetItemsInCartInput::getAPIPath() must have catalogCode.");return`${n.SalesForceNamespace.restAPIPrefix}/v3/catalogs/${this.catalogCode}/basket/${this.cartContextKey}`+e}getAnonymousSiteRestUrl(){const e=this.getEncodedQueryString();if(!this.cartContextKey)throw new Error("GetItemsInCartInput::getAPIPath() must have cartContextKey.");if(!s.default.anonymousSiteConfigUrl)throw new Error("GetItemsInCartInput::getAnonymousRestUrl() must have anonymousSiteUrl.");if(!this.catalogCode)throw new Error("GetItemsInCartInput::getAnonymousSiteRestUrl() must have catalogCode.");return s.default.anonymousSiteConfigUrl+`/v3/catalogs/${this.catalogCode}/basket/${this.cartContextKey}`+e}getRequestPayload(){return""}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/getitemsincart"),s.default.secureServerUrl+this.secureServerEndPointUrl}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["forceinvalidatecache","fields","context","isloggedin","contextKey","referencedatetime"])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.UpdateItemsInCartInput=class extends o.DigitalCommerceInput{constructor(){super(),this.validatePrice=!0,this.validateAction=!0,this.includeAttachment=!1,this.offer={},this.offerConfigurations={}}getInputMap(){const e={};return this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.fields&&(e.fields=this.fields.join(",")),this.includeAttachment&&(e.includeAttachment=this.includeAttachment),this.validatePrice||(e.price=!1),this.validateAction||(e.validate=!1),this.context&&(e.context=this.context),this.isLoggedIn&&(e.isloggedin=this.isLoggedIn),this.referencedatetime&&(e.referencedatetime=this.referencedatetime),e}getAPIPath(){const e=this.getEncodedQueryString(),t=this.basketkey||"",r=""!==t?"/":"";if(!this.catalogCode)throw new Error("UpdateItemsInCart::getAPIPath() must have catalogCode.");return`${n.SalesForceNamespace.restAPIPrefix}/v3/catalogs/${this.catalogCode}/basket${r}${t}`+e}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/updateitemsincart"),s.default.secureServerUrl+this.secureServerEndPointUrl}getAnonymousSiteRestUrl(){const e=this.getEncodedQueryString(),t=this.basketkey||"",r=""!==t?"/":"";if(!s.default.anonymousSiteConfigUrl)throw new Error("UpdateItemsInCart::getAnonymousRestUrl() must have anonymousSiteUrl.");if(!this.catalogCode)throw new Error("UpdateItemsInCart::getAnonymousSiteRestUrl() must have catalogCode.");return s.default.anonymousSiteConfigUrl+`/v3/catalogs/${this.catalogCode}/basket${r}${t}`+e}getRequestPayload(){if(!this.basketkey)throw new Error("UpdateItemsInCart::getRequestPayload() must have basketAction.");if(!this.bundleContextKey)throw new Error("UpdateItemsInCart::getRequestPayload() must have bundleContextKey.");if(!this.lineItemKey)throw new Error("UpdateItemsInCart::getRequestPayload() must have lineItemKey.");const e={};return e.lineItemKey=this.lineItemKey,e.basketAction=this.basketAction,e.bundleContextKey=this.bundleContextKey,this.quantity?e.Quantity=this.quantity.toString():this.attributeCategories&&(e.attributeCategories=this.attributeCategories),this.multiTransactionKey&&(e.multiTransactionKey=this.multiTransactionKey),e}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["forceinvalidatecache","fields","context","price","validate","includeAttachment","context","isloggedin","referencedatetime"])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(32),o=r(30);t.AuthenticateUserInput=class extends i.DigitalCommerceInput{constructor(){super(),this.callSecureServer=!0}getAPIPath(){return""}getRequestPayload(){if(!this.email)throw new Error("AuthenticateUserInput::getRequestPayload() must have email.");if(!this.sessionToken)throw new Error("AuthenticateUserInput::getRequestPayload() must have sessionToken.");if(!this.firstName)throw new Error("AuthenticateUserInput::getRequestPayload() must have firstName.");if(!this.lastName)throw new Error("AuthenticateUserInput::getRequestPayload() must have lastName.");if(!this.phoneNumber)throw new Error("AuthenticateUserInput::getRequestPayload() must have phoneNumber.");let e={email:this.email,firstName:this.firstName,lastName:this.lastName,phoneNumber:this.phoneNumber,sessionToken:this.sessionToken};return""!==this.integrationProcedureKey&&(e={AccountEmail:this.email,AccountName:this.email,AccountRecordType:"Billing",AccountStatus:"Active"}),e}getInputMap(){return{}}getAnonymousSiteRestUrl(){if(!o.default.secureServerUrl)throw new Error("AuthenticateUserInput::getAnonymousRestUrl() must have secureServerUrl.");const e=this.getEncodedQueryString();return o.default.secureServerUrl+"/signin"+e}getSecureServerRestUrl(){return this.getAnonymousSiteRestUrl()}getRequestCredentials(){if(o.default.secureServerRequestCredentials)return o.default.secureServerRequestCredentials}getEncodedQueryString(){return n.queryStringEncode(this.getInputMap(),!0,[])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(32),o=r(30);t.SignOutUserInput=class extends i.DigitalCommerceInput{constructor(){super(),this.callSecureServer=!0}getAPIPath(){return""}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/signout"),o.default.secureServerUrl+this.secureServerEndPointUrl}getRequestPayload(){return""}getInputMap(){return{}}getAnonymousSiteRestUrl(){if(!o.default.secureServerUrl)throw new Error("SignOutUserInput::getAnonymousRestUrl() must have secureServerUrl.");const e=this.getEncodedQueryString();return o.default.secureServerUrl+"/signout"+e}getRequestCredentials(){if(o.default.secureServerRequestCredentials)return o.default.secureServerRequestCredentials}getEncodedQueryString(){return n.queryStringEncode(this.getInputMap(),!0,[])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(32),o=r(30);t.SaveCartInput=class extends i.DigitalCommerceInput{constructor(){super(),this.callSecureServer=!0}getAPIPath(){return""}getRequestPayload(){if(!this.catalogCode)throw new Error("SaveCartInput::getRequestPayload() must have catalogCode.");if(!this.cartContextKey)throw new Error("SaveCartInput::getRequestPayload() must have cartContextKey.");const e={cartContextKey:this.cartContextKey,catalogCode:this.catalogCode};return""!==this.integrationProcedureKey&&(e.accountId=this.accountId),e}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/createorder"),o.default.secureServerUrl+this.secureServerEndPointUrl}getInputMap(){return{}}getAnonymousSiteRestUrl(){if(!o.default.secureServerUrl)throw new Error("SaveCartInput::getAnonymousRestUrl() must have secureServerUrl.");const e=this.getEncodedQueryString();return o.default.secureServerUrl+"/createorder"+e}getRequestCredentials(){if(o.default.secureServerRequestCredentials)return o.default.secureServerRequestCredentials}getEncodedQueryString(){return n.queryStringEncode(this.getInputMap(),!0,[])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(32),o=r(30);t.SubmitOrderInput=class extends i.DigitalCommerceInput{constructor(){super(),this.callSecureServer=!0}getAPIPath(){return""}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/submitorder"),o.default.secureServerUrl+this.secureServerEndPointUrl}getRequestPayload(){if(!this.catalogCode&&!this.orderId)throw new Error("SubmitOrderInput::getRequestPayload() must have catalogCode.");if(!this.cartContextKey&&!this.orderId)throw new Error("SubmitOrderInput::getRequestPayload() must have cartContextKey.");const e={cartContextKey:this.cartContextKey,catalogCode:this.catalogCode};return this.orderId&&(e.orderId=this.orderId),""!==this.integrationProcedureKey&&(e.accountId=this.accountId),e}getInputMap(){return{}}getAnonymousSiteRestUrl(){if(!o.default.secureServerUrl)throw new Error("SubmitOrderInput::getAnonymousRestUrl() must have secureServerUrl.");const e=this.getEncodedQueryString();return o.default.secureServerUrl+"/submitorder"+e}getRequestCredentials(){if(o.default.secureServerRequestCredentials)return o.default.secureServerRequestCredentials}getEncodedQueryString(){return n.queryStringEncode(this.getInputMap(),!0,[])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(32),o=r(30);t.UpdateBillingDetailsInput=class extends i.DigitalCommerceInput{constructor(){super(),this.callSecureServer=!0}getAPIPath(){return""}getRequestPayload(){if(!this.billingCity)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have billingCity.");if(!this.billingState)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have billingState.");if(!this.billingAddress)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have billingAddress.");if(!this.billingZipCode)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have billingZipCode.");if(!this.shippingCity)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have shippingCity.");if(!this.shippingState)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have shippingState.");if(!this.shippingAddress)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have shippingAddress.");if(!this.shippingZipCode)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have shippingZipCode.");if(""!==this.integrationProcedureKey&&!this.accountId)throw new Error("UpdateBillingDetailsInput::getRequestPayload() must have accountId.");let e={};return e=""!==this.integrationProcedureKey?{AccountId:this.accountId,BillingAddress:this.billingAddress,BillingCity:this.billingCity,BillingState:this.billingState,BillingZipCode:this.billingZipCode,ShippingAddress:this.shippingAddress,ShippingCity:this.shippingCity,ShippingState:this.shippingState,ShippingZipCode:this.billingZipCode}:{billingAddress:this.billingAddress,billingCity:this.billingCity,billingState:this.billingState,billingZipCode:this.billingZipCode,shippingAddress:this.shippingAddress,shippingCity:this.shippingCity,shippingState:this.shippingState,shippingZipCode:this.billingZipCode}}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/updatedetails"),o.default.secureServerUrl+this.secureServerEndPointUrl}getInputMap(){return{}}getAnonymousSiteRestUrl(){if(!o.default.secureServerUrl)throw new Error("UpdateBillingDetailsInput::getAnonymousRestUrl() must have secureServerUrl.");const e=this.getEncodedQueryString();return o.default.secureServerUrl+"/updatedetails"+e}getRequestCredentials(){if(o.default.secureServerRequestCredentials)return o.default.secureServerRequestCredentials}getEncodedQueryString(){return n.queryStringEncode(this.getInputMap(),!0,[])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.GetOfferInput=class extends o.DigitalCommerceInput{constructor(){super(),this.remoteMethod=""}getInputMap(){const e={};return this.actionObj?this.actionObj.remote.params||{}:(this.contextKey&&(e.contextkey=this.contextKey),this.context&&(e.context=this.context),this.contextDebug&&(e.contextdebug=this.contextDebug),this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.include&&(e.includerelated=this.include),this.quantity&&(e.quantity=this.quantity),this.isLoggedIn&&(e.isloggedin=this.isLoggedIn),this.attributes&&(e.attributes=this.attributes),this.referencedatetime&&(e.referencedatetime=this.referencedatetime),this.fields&&(e.fields=this.fields.join(",")),e)}getAPIPath(){const e=this.getEncodedQueryString();if(!this.actionObj&&!this.catalogCode)throw new Error("GetOfferInput::getAPIPath() must have catalogCode.");if(!this.actionObj&&!this.offerCode)throw new Error("GetOfferInput::getAPIPath() must have offerCode.");return this.actionObj?n.SalesForceNamespace.restAPIPrefix+this.actionObj.rest.link+e:`${n.SalesForceNamespace.restAPIPrefix}/v3/catalogs/${this.catalogCode}/offers/${this.offerCode}${e}`}getAnonymousSiteRestUrl(){const e=this.getEncodedQueryString();if(!s.default.anonymousSiteConfigUrl)throw new Error("GetOfferInput::getAnonymousRestUrl() must have anonymousSiteUrl.");return this.actionObj?s.default.anonymousSiteConfigUrl+this.actionObj.rest.link+e:`${s.default.anonymousSiteConfigUrl}/v3/catalogs/${this.catalogCode}/offers/${this.offerCode}${e}`}getRequestPayload(){return null}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/getoffer"),s.default.secureServerUrl+this.secureServerEndPointUrl}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["contextkey","contextdebug","forceinvalidatecache","includerelated","quantity","attributes","fields","isloggedin","context","referencedatetime"])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.GetOffersInput=class extends o.DigitalCommerceInput{constructor(){super(),this.includeAttributes=[],this.remoteMethod="",this.contains=""}getInputMap(){const e={};if(this.context&&(e.context=this.context),(this.offset||this.offset>=0)&&(e.offset=this.offset),this.pageSize&&(e.pagesize=this.pageSize),this.contains&&(e.contains=this.contains),this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.sortBy&&(e.sortby=this.sortBy),this.isLoggedIn&&(e.isloggedin=this.isLoggedIn),this.referencedatetime&&(e.referencedatetime=this.referencedatetime),this.offerList){if("string"!=typeof this.offerList)throw new Error("GetOffersInput:  offerList must be a string.");e.offerList=this.offerList.trim()}return this.fields&&(e.fields=this.fields.join(",")),e}isValidInput(){if(!this.catalogCode)throw new Error("GetOffersInput::getAPIPath() must have catalogCode.");return!0}getAPIPath(){if(!this.catalogCode)throw new Error("GetOffersInput::getAPIPath() must have catalogCode.");if(this.contains&&this.sortBy)throw new Error("GetCatalogOffersContainsInput::getAPIPath() should not have both sortBy and contains.");return`${n.SalesForceNamespace.restAPIPrefix}/v3/catalogs/${this.catalogCode}/offers`+this.getEncodedQueryString()}getAnonymousSiteRestUrl(){const e=this.getEncodedQueryString();if(!this.catalogCode)throw new Error("GetOffersInput::getAnonymousRestUrl() must have catalogCode.");if(!s.default.anonymousSiteConfigUrl)throw new Error("GetOffersInput::getAnonymousRestUrl() must have anonymousSiteUrl.");if(this.contains&&this.sortBy)throw new Error("GetOffersInput::getAnonymousRestUrl() should not have both sortBy and contains.");return s.default.anonymousSiteConfigUrl+`/v3/catalogs/${this.catalogCode}/offers`+e}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/getoffers"),s.default.secureServerUrl+this.secureServerEndPointUrl}getRequestPayload(){return""}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["offset","pagesize","forceinvalidatecache","contains","fields","sortby","isloggedin","context","offerList","referencedatetime"])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.ValidateOfferInput=class extends o.DigitalCommerceInput{constructor(){super(),this.remoteMethod=""}isValidInput(){if(!this.offerConfiguration)throw new Error("ValidateOfferInput::isValidInput() must have an offerConfiguration to validate.");return!0}getInputMap(){const e={};return this.context&&(e.context=this.context),this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.isLoggedIn&&(e.isloggedin=this.isLoggedIn),this.referencedatetime&&(e.referencedatetime=this.referencedatetime),this.fields&&(e.fields=this.fields.join(",")),e}getAPIPath(){const e=this.getEncodedQueryString();if(!this.catalogCode)throw new Error("ValidateOfferInput::getAPIPath() must have catalogCode.");if(!this.offerCode)throw new Error("ValidateOfferInput::getAPIPath() must have offerCode.");return`${n.SalesForceNamespace.restAPIPrefix}/v3/catalogs/${this.catalogCode}/offers/${this.offerCode}`+e}getSecureServerRestUrl(){return this.secureServerEndPointUrl||(this.secureServerEndPointUrl="/validateoffer"),s.default.secureServerUrl+this.secureServerEndPointUrl}getAnonymousSiteRestUrl(){const e=this.getEncodedQueryString();if(!s.default.anonymousSiteConfigUrl)throw new Error("ValidateOfferInput::getAnonymousRestUrl() must have anonymousSiteUrl.");return s.default.anonymousSiteConfigUrl+`/v3/catalogs/${this.catalogCode}/offers/${this.offerCode}`+e}getRequestPayload(){if(!this.offerConfiguration)throw new Error("ValidateOfferInput::getRequestPayload() must have offerConfiguration.");return{result:this.offerConfiguration.result}}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["context","forceinvalidatecache","fields","isloggedin","referencedatetime"])}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(206);e.exports=n.default},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(21),s=r(15),a=r(92),u=r(49),c=r(111),l=r(1),h=r(117),f=r(118),d=r(16),p=r(207),y=r(210),g=r(120),m=r(121),v=r(122),b=r(123),_=r(124),S=r(125),w=r(126),C=r(211),P=r(30),I=r(214),T=r(127),x=r(128),A=r(115),E=r(217),R=r(218),O=r(129),D=r(219),k=r(13);class j extends i.BaseSDK{constructor(e){if(super(),this.isUserLoggedIn=!1,this.filteredPromotionList={},this.offersList=[],this.cartContextKey=null,null===e.datasource||null===e.context)throw new Error("DigitalCommerce:constructor: DigitalCommerce cannot be instantiated properly. Both datasource and user context objects have to be in Config object as argument.");this.datasource=e.datasource,this.context=e.context,this.offersInConfiguration=new Array}set apiURL(e){e&&(P.default.anonymousSiteConfigUrl=e)}set authToken(e){e&&(P.default.authToken=e)}set clientId(e){e&&(P.default.clientId=e)}set clientSecret(e){e&&(P.default.clientSecret=e)}set oauth2Url(e){e&&(P.default.oauth2Url=e)}set authTokenType(e){e&&(P.default.authTokenType=e)}set authTokenExpirationTime(e){e&&(P.default.authTokenExpirationTime=e)}set secureServerUrl(e){e&&(P.default.secureServerUrl=e)}set secureServerRequestCredentials(e){e&&(P.default.secureServerRequestCredentials=e)}static createConfigForAnonymousUser(e){const t=new C.UserContext;return t.hasLogin=!1,e=e,{context:t,create:!1,datasource:new a.default({jsforceConnection:null})}}static createConfigForLoginUser(e,t,r){const n=new C.UserContext;return n.hasLogin=!0,{context:n,create:!1,datasource:new a.default({sessionId:t,url:e,proxyUrl:r})}}static getInstance(e){if(!j.instance&&!e)throw new Error("DigitalCommerce:getInstance: Config object must be provided in argument to create an instance the first time.");return(!j.instance||e&&e.create)&&(j.instance=new j(e)),j.instance}createGetOffersInput(){return new x.GetOffersInput}parseOfferList(e,t){return E.OfferList.parse(e,t)}getOffersPostHook(e){return e}getOffers(e){return n(this,void 0,void 0,function*(){return this.isUserLoggedIn&&(e.callSecureServer=!0),this.invokeAPI(e,i.HttpMethod.GET).then(t=>{this.getOffersPostHook(t);const r=this.parseOfferList(t,e);return t&&t.contextKey&&(this.context.contextKey=t.contextKey),r})})}getFilteredOffersList(e){return n(this,void 0,void 0,function*(){if(this.isUserLoggedIn&&(e.callSecureServer=!0),e.isValidInput()){if(!this.filteredPromotionList||!this.filteredPromotionList[e.catalogCode]){this.filteredPromotionList={};const t=yield this.fetchCompleteOffersList(e);this.filteredPromotionList[e.catalogCode]=yield R.PromotionList.getFilteredPromotionList(t)}return this.offersList=[],!0===e.returnPromotion?this.filteredPromotionList[e.catalogCode].promotions:!1===e.returnPromotion?this.filteredPromotionList[e.catalogCode].products:this.filteredPromotionList[e.catalogCode]}return Promise.reject("")})}getPromotions(e){return n(this,void 0,void 0,function*(){if(this.isUserLoggedIn&&(e.callSecureServer=!0),e.offerCode){e.contains=e.offerCode;const t=yield this.getOffers(e);return(yield R.PromotionList.getFilteredPromotionList(t.offers)).promotions}return e.returnPromotion=!0,yield this.getFilteredOffersList(e)})}createGetOfferInput(){return new T.GetOfferInput}parseOffer(e,t){return A.Offer.parse(e,t)}getOfferPostHook(e){return e}getOffer(e){return n(this,void 0,void 0,function*(){this.isUserLoggedIn&&(e.callSecureServer=!0);const t=this.getSelectedOffer(e.offerCode,!1,e);let r=null;return t&&!e.reload?(this.currentOfferCode=e.offerCode,(r=this.parseOffer(t.result.offerDetails.offer,e)).offerCode=e.offerCode,r):this.invokeAPI(e,i.HttpMethod.GET).then(t=>t?(this.getOfferPostHook(t),t.offerCode=e.offerCode,t.catalogCode=e.catalogCode,this.addSelectedOffer(t),t.contextKey&&(this.context.contextKey=t.contextKey),(r=this.parseOffer(t.result.offerDetails.offer,e)).offerCode=e.offerCode,r):{})})}deleteSelectedOffer(e){return n(this,void 0,void 0,function*(){const t=this.findSelectedOfferIndex(e);if(t<0)return null;const r=this.offersInConfiguration[t];return this.offersInConfiguration.splice(t,1),r})}getSelectedOffer(e,t,r){const n=this.findSelectedOfferIndex(e);if(n<0)return;const i=JSON.parse(JSON.stringify(this.offersInConfiguration[n]));return 0===n?t?this.parseOffer(i.result.offerDetails.offer,r):i:(this.offersInConfiguration.push(this.offersInConfiguration.splice(n,1)[0]),t?this.parseOffer(i.result.offerDetails.offer,r):i)}getAllSelectedOffers(){return n(this,void 0,void 0,function*(){return this.offersInConfiguration})}createValidateOfferInput(){return new O.ValidateOfferInput}validateOfferPostHook(e){return e}validateOffer(e){return n(this,void 0,void 0,function*(){if(this.isUserLoggedIn&&(e.callSecureServer=!0),!e.isValidInput())return Promise.reject("");const t=this.getSelectedOffer(e.offerCode,!1,e);if(t){const r=A.Offer.updateOffer(e.offerConfiguration,t);if(r.error&&r.messages)return Promise.reject(r);e.offerConfiguration=r}let r=yield this.invokeAPI(e,i.HttpMethod.POST);if(this.validateOfferPostHook(r),142===r.result.offerDetails.StatusCode||"142"===r.result.offerDetails.StatusCode)return Promise.reject(r.result.offerDetails);{if(r.validateAndPriceAction&&r.validateAndPriceAction.rest&&r.validateAndPriceAction.rest.params){const t=r.validateAndPriceAction.rest.params.transactionKey;e.offerConfiguration.transactionKey=t,r=yield this.invokeAPI(e,i.HttpMethod.POST)}r.offerCode=e.offerCode,this.updateSelectedOffer(r);const t=this.parseOffer(r.result.offerDetails.offer,e);return t.offerCode=e.offerCode,t}})}parseCart(e,t,r){return p.Cart.parse(e,t,r)}createAddToCartInput(){return new h.AddToCartInput}addToCartPostHook(e){return e}fetchAWSAuthToken(e){return n(this,void 0,void 0,function*(){return this.isUserLoggedIn&&(e.callSecureServer=!0),e&&e.clientId&&(this.clientId=e.clientId),e&&e.clientSecret&&(this.clientSecret=e.clientSecret),e&&e.oauth2Url&&(this.oauth2Url=e.oauth2Url),e||(e=this.createGetAWSTokenInput()),this.invokeAPI(e,i.HttpMethod.POST).then(t=>(t&&(this.authToken=t.access_token,this.authTokenType=t.token_type+" ",e.autoRefreshToken&&this.refreshAuthTokenOnExpiration(t.expires_in)),this.fetchAWSAuthTokenPostHook(t),t))})}fetchAWSAuthTokenPostHook(e){return e}addToCart(e){return n(this,void 0,void 0,function*(){this.cartContextKey&&(e.cartContextKey=this.cartContextKey),this.isUserLoggedIn&&(e.callSecureServer=!0);const t=yield this.invokeAPI(e,i.HttpMethod.POST);if(t&&(422===t.errorCode||"422"===t.errorCode)&&t.error)return Promise.reject(t);if(this.deleteSeletedOffer(e.offerCode),t.cartContextKey&&(this.cartContextKey=t.cartContextKey),t&&t.result&&t.result.messages&&t.result.messages[0]&&!t.result.totals)return Promise.reject(t.result);if(t.validateAndPriceAction&&t.validateAndPriceAction.rest&&t.validateAndPriceAction.rest.params){const r=t.validateAndPriceAction.rest.params.transactionKey,n=yield this.handleMultiTransactionResponse(r,e,"transactionKey",i.HttpMethod.POST);return this.addToCartPostHook(n),this.cartContextKey=n.cartContextKey,this.cartResponse=n,this.parseCart(n,e)}if(t.nexttransaction&&t.nexttransaction.rest&&t.nexttransaction.rest.params){const r=t.nexttransaction.rest.params.multiTransactionKey,n=yield this.handleMultiTransactionResponse(r,e,"multiTransactionKey",i.HttpMethod.POST);return n&&!n.result?Promise.reject(n):(this.addToCartPostHook(n),this.cartResponse=n,this.cartContextKey=n.cartContextKey,this.parseCart(n,e))}return t&&!t.result?Promise.reject(t):(this.addToCartPostHook(t),this.cartResponse=t,this.parseCart(t,e))})}assetToBasketPostHook(e){return e}createAssetToBasketInput(){return new f.AssetToBasketInput}assetToBasket(e){return n(this,void 0,void 0,function*(){this.isUserLoggedIn&&(e.callSecureServer=!0);const t=yield this.invokeAPI(e,i.HttpMethod.POST);if(t&&t.result&&t.result.messages&&t.result.messages[0])return Promise.reject(t.result);if(t.nexttransaction&&t.nexttransaction.rest&&t.nexttransaction.rest.params){const r=t.nexttransaction.rest.params.multiTransactionKey,n=yield this.handleMultiTransactionResponse(r,e,"multiTransactionKey");return this.proccessAssetToBasketResponse(n,e)}if(t.validateAndPriceAction&&t.validateAndPriceAction.rest&&t.validateAndPriceAction.rest.params){const r=t.validateAndPriceAction.rest.params.transactionKey,n=yield this.handleMultiTransactionResponse(r,e,"transactionKey");return this.proccessAssetToBasketResponse(n,e)}return t&&!t.result?Promise.reject(t):this.proccessAssetToBasketResponse(t,e)})}proccessAssetToBasketResponse(e,t){this.assetToBasketPostHook(e);const r=this.parseCart(e,t,!0);return r.assetReferenceKey=e.assetReferenceKey,r.cartContextKey=e.cartContextKey,this.cartResponse=e,this.cartContextKey=e.cartContextKey,r}handleMultiTransactionResponse(e,t,r,o){return n(this,void 0,void 0,function*(){t[r]=e,o||(o=i.HttpMethod.PUT);const n=yield this.invokeAPI(t,o);if(n.nexttransaction&&n.nexttransaction.rest&&n.nexttransaction.rest.params){const e=n.nexttransaction.rest.params.multiTransactionKey;return this.handleMultiTransactionResponse(e,t,"multiTransactionKey",o)}if(n.validateAndPriceAction&&n.validateAndPriceAction.rest&&n.validateAndPriceAction.rest.params){const e=n.validateAndPriceAction.rest.params.transactionKey;return this.handleMultiTransactionResponse(e,t,"transactionKey",o)}return n})}authenticateUserPostHook(e){return e}createAuthenticateUserInput(){return new v.AuthenticateUserInput}authenticateUser(e){return n(this,void 0,void 0,function*(){let t=null;return""!==e.integrationProcedureKey?(t=yield this.invokeIntegrationProcedure(e,i.HttpMethod.POST),this.accountId=t.AccountId):(t=yield this.invokeAPI(e,i.HttpMethod.POST),this.isUserLoggedIn=!0),this.userEmail=e.email,this.authenticateUserPostHook(t),t})}signOutUserPostHook(e){return e}createSignOutUserInput(){return new b.SignOutUserInput}signOutUser(e){return n(this,void 0,void 0,function*(){let t=null;return t=yield this.invokeAPI(e,i.HttpMethod.POST),this.isUserLoggedIn=!1,this.signOutUserPostHook(t),t})}updateBillingDetailsPostHook(e){return e}createUpdateBillingDetailsInput(){return new w.UpdateBillingDetailsInput}updateBillingDetails(e){return n(this,void 0,void 0,function*(){let t=null;return""!==e.integrationProcedureKey?(e.accountId=this.accountId,t=yield this.invokeIntegrationProcedure(e,i.HttpMethod.POST)):t=yield this.invokeAPI(e,i.HttpMethod.POST),this.updateBillingDetailsPostHook(t),t})}saveCartPostHook(e){return e}createSaveCartInput(){return new _.SaveCartInput}saveCart(e){return n(this,void 0,void 0,function*(){let t=null;return""!==e.integrationProcedureKey?(e.accountId=this.accountId,t=yield this.invokeIntegrationProcedure(e,i.HttpMethod.POST)):t=yield this.invokeAPI(e,i.HttpMethod.POST),this.saveCartPostHook(t),t})}submitOrderPostHook(e){return e}createSubmitOrderInput(){return new S.SubmitOrderInput}submitOrder(e){return n(this,void 0,void 0,function*(){let t=null;return this.isUserLoggedIn&&(e.callSecureServer=!0),""!==e.integrationProcedureKey?(e.accountId=this.accountId,t=yield this.invokeIntegrationProcedure(e,i.HttpMethod.POST)):t=yield this.invokeAPI(e,i.HttpMethod.POST),this.submitOrderPostHook(t),t})}createGetItemsInCartInput(){return new g.GetItemsInCartInput}getItemsInCartPostHook(e){return e}getItemsInCart(e){return n(this,void 0,void 0,function*(){this.isUserLoggedIn&&(e.callSecureServer=!0),this.context.contextKey&&!e.contextKey&&(e.contextKey=this.context.contextKey);const t=yield this.invokeAPI(e,i.HttpMethod.GET);let r=null;return this.getItemsInCartPostHook(t),this.parsedCartItem&&this.parsedCartItem.cartItemsPriceInfo&&(r=Object.assign({},this.parsedCartItem.cartItemsPriceInfo)),this.cartResponse=t,t.cartContextKey&&(this.cartContextKey=t.cartContextKey),this.parsedCartItem=this.parseCart(t,e),r&&this.parsedCartItem.cartItemsPriceInfo&&(this.parsedCartItem.isCartPriceChanged=!D.default(r,this.parsedCartItem.cartItemsPriceInfo)),this.parsedCartItem})}createUpdateItemsInCartInput(){return new m.UpdateItemsInCartInput}updateItemsInCartPostHook(e){return e}updateItemsInCart(e){return n(this,void 0,void 0,function*(){if(this.isUserLoggedIn&&(e.callSecureServer=!0),e.offerConfigurations&&e.offerCode&&this.cartResponse){const t=this.getSelectedCartOffer(e.offerCode,this.cartResponse.result.records);if(t){const r=A.Offer.updateOffer(e.offerConfigurations,t);if(r.error&&r.messages)return Promise.reject(r);e.attributeCategories=r.attributeCategories}}const t=yield this.invokeAPI(e,i.HttpMethod.PUT);if(t.cartContextKey&&(this.cartContextKey=t.cartContextKey),t&&t.result&&t.result.messages&&t.result.messages[0])return Promise.reject(t.result);if(t.nexttransaction&&t.nexttransaction.rest&&t.nexttransaction.rest.params){const r=t.nexttransaction.rest.params.multiTransactionKey,n=yield this.handleMultiTransactionResponse(r,e,"multiTransactionKey");return this.updateItemsInCartPostHook(n),this.cartResponse=n,this.cartContextKey=n.cartContextKey,this.parseCart(n,e)}if(t.validateAndPriceAction&&t.validateAndPriceAction.rest&&t.validateAndPriceAction.rest.params){const r=t.validateAndPriceAction.rest.params.transactionKey,n=yield this.handleMultiTransactionResponse(r,e,"transactionKey");return this.updateItemsInCartPostHook(n),this.cartContextKey=n.cartContextKey,this.cartResponse=n,this.parseCart(n,e)}return t&&!t.result?Promise.reject(t):(this.updateItemsInCartPostHook(t),this.parseCart(t,e))})}checkoutCartInput(){return new y.CheckoutCartInput}checkoutCartPostHook(e){return e}checkoutCart(e){return n(this,void 0,void 0,function*(){this.isUserLoggedIn&&(e.callSecureServer=!0);const t=yield this.invokeAPI(e,i.HttpMethod.POST);return this.checkoutCartPostHook(t),this.cartContextKey=null,t})}register(e,t){return c.default.getInstance().register(e,t)}unregister(e,t){return c.default.getInstance().unregister(e,t)}fire(e,t,r){return c.default.getInstance().fire(e,t,r)}invokeIntegrationProcedure(e,t){return n(this,void 0,void 0,function*(){const r=new s.ApexRestInput({body:e.getRequestPayload?e.getRequestPayload():e.inputMap,method:t});e.chainable&&(r.options={headers:{chainable:!0}});const n={procedureKey:e.integrationProcedureKey,optionsMap:e.optionsMap,input:e.getRequestPayload?e.getRequestPayload():e.inputMap,cacheType:e.cacheType||!k.isNode&&("indexedDB"in window?d.CacheType.INDEXEDDB:d.CacheType.SESSIONSTORAGE),cacheable:e.cacheable,rest:r,reload:e.reload,cacheExpiration:e.cacheExpiration||new Date((new Date).getTime()+3e5),timeoutInMillis:e.timeoutInMillis},i=this.datasource.integrationProcedureInput(n);return yield this.datasource.integrationProcedure(i).execute()})}invokeAction(e){return n(this,void 0,void 0,function*(){return yield this.invokeAPI(e,i.HttpMethod[e.actionObj.rest.method])})}invokeAPI(e,t){return n(this,void 0,void 0,function*(){if(e.callSecureServer){const r=e.getAPIPath();let n;return n=new u.RestInput({options:{body:JSON.stringify({apiURL:r,httpMethod:t,payload:e.getRequestPayload()}),headers:{"Content-Type":"application/json",Authorization:"Basic "+P.default.authToken},method:i.HttpMethod.POST},url:e.getSecureServerRestUrl(),cacheable:e.cacheable,reload:e.reload,cacheType:e.cacheType||!k.isNode&&("indexedDB"in window?d.CacheType.INDEXEDDB:d.CacheType.SESSIONSTORAGE),cacheExpiration:e.cacheExpiration||new Date((new Date).getTime()+3e5),timeoutInMillis:e.timeoutInMillis}),e.getRequestCredentials()?n.options.credentials=e.getRequestCredentials():n.options.credentials="include",yield this.datasource.rest(n).execute()}if(this.context.hasLogin&&!e.callSecureServer){l.Logger.info("invokeAPI ApexRest Path: "+e.getAPIPath());const r=new s.ApexRestInput({body:e.getRequestPayload(),method:t,path:e.getAPIPath(),cacheable:e.cacheable,reload:e.reload,cacheType:e.cacheType||!k.isNode&&("indexedDB"in window?d.CacheType.INDEXEDDB:d.CacheType.SESSIONSTORAGE),cacheExpiration:e.cacheExpiration||new Date((new Date).getTime()+3e5),timeoutInMillis:e.timeoutInMillis}),n=new o.ApexRemoteInput({className:e.remoteClass,inputMap:e.getInputMap(),methodName:e.remoteMethod,cacheable:e.cacheable,reload:e.reload,cacheExpiration:e.cacheExpiration||new Date((new Date).getTime()+3e5),cacheType:e.cacheType||!k.isNode&&("indexedDB"in window?d.CacheType.INDEXEDDB:d.CacheType.SESSIONSTORAGE),timeoutInMillis:e.timeoutInMillis});return yield this.datasource.dual(r,n).execute()}{const r=e.getAnonymousSiteRestUrl(),n=yield e.getAuthToken(this);let i;return l.Logger.info("invokeAPI restUrl: "+e.getAnonymousSiteRestUrl()),i="POST"===t||"PUT"===t?new u.RestInput({options:{body:"object"==typeof e.getRequestPayload()?JSON.stringify(e.getRequestPayload()):e.getRequestPayload(),headers:{"Content-Type":e.contentType,Authorization:e.getAuthorisationType()+n},method:t},url:r,cacheable:e.cacheable,reload:e.reload,cacheType:e.cacheType||!k.isNode&&("indexedDB"in window?d.CacheType.INDEXEDDB:d.CacheType.SESSIONSTORAGE),cacheExpiration:e.cacheExpiration||new Date((new Date).getTime()+3e5),timeoutInMillis:e.timeoutInMillis}):new u.RestInput({options:{headers:{Authorization:e.getAuthorisationType()+n},method:t},url:r,cacheable:e.cacheable,reload:e.reload,cacheType:e.cacheType||!k.isNode&&("indexedDB"in window?d.CacheType.INDEXEDDB:d.CacheType.SESSIONSTORAGE),cacheExpiration:e.cacheExpiration||new Date((new Date).getTime()+3e5),timeoutInMillis:e.timeoutInMillis}),e.getRequestCredentials()&&(i.options.credentials=e.getRequestCredentials()),yield this.datasource.rest(i).execute()}})}addSelectedOffer(e){this.updateSelectedOffer(e)}updateSelectedOffer(e){const t=this.findSelectedOfferIndex(e.offerCode);t<0?this.offersInConfiguration.push(e):this.offersInConfiguration[t]=e}deleteSeletedOffer(e){const t=this.findSelectedOfferIndex(e);return this.offersInConfiguration.splice(t,1)}findSelectedOfferIndex(e){return this.offersInConfiguration.findIndex(t=>t.offerCode===e)}getSelectedCartOffer(e,t){return t.find(t=>t.ProductCode===e)}createGetAWSTokenInput(){return new I.GetAWSTokenInput}refreshAuthTokenOnExpiration(e){this.authTokenExpirationTime=Date.now()+(1e3*e-6e4)}fetchCompleteOffersList(e){return n(this,void 0,void 0,function*(){return e.pageSize=e.pageSize?e.pageSize:20,e.offset=e.offset?e.offset:0,yield this.getOffers(e).then(t=>n(this,void 0,void 0,function*(){t&&t.offers&&t.offers.length>=20?(e.offset=e.offset+t.offers.length,this.offersList.push(...t.offers),yield this.fetchCompleteOffersList(e)):this.offersList.push(...t.offers)})).catch(e=>e),this.offersList})}}t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(208),i=r(119);class o{constructor(){this.cartItemsPriceInfo={},this.cartItems=[],this.cartItemGroups=[],this.cartItemsPromotionList=[],this.customFields={}}static parse(e,t,r){const s=new o;return e&&e.result&&(s.cartContextKey=e.cartContextKey,s.priceInfo=i.PriceInfo.parse(e.result.totals,!0,t),e.result.records&&e.result.records.forEach(e=>{const i=n.CartItem.parse(e,t,r);i.promotions&&i.promotions.forEach(e=>{s.cartItemsPromotionList.push(e)});for(const e in i.cartItemsPriceInfo)i.cartItemsPriceInfo.hasOwnProperty(e)&&(s.cartItemsPriceInfo[e]=i.cartItemsPriceInfo[e]);s.cartItems.push(i)}),t&&t.customFields&&t.customFields.length&&t.customFields.forEach(t=>{e.hasOwnProperty(t)&&(s.customFields[t]=e[t])}),e.assetReferenceKey&&(s.assetReferenceKey=e.assetReferenceKey)),s}}t.Cart=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(114),s=r(209),a=r(119);class u{constructor(){this.cartItemsPriceInfo={},this.productGroups=[],this.attachments=[],this.customFields={},this.provisioningStatus={}}static parse(e,t,r){const c=new u,l=t&&t.includeAttributes?t.includeAttributes:[],h=e[n.SalesForceNamespace.namespace+"__CpqMessageData__c"];if(c.productId=e.productId,c.id=e.Id?e.Id.value:"",c.name=e.name,c.description=e.Product2.Description,c.lineNumber=e.lineNumber,c.productCode=e.ProductCode,(e.Quantity||e.quantity)&&(c.quantity=e.Quantity?e.Quantity.value:e.quantity.value),c.actions=e.actions,c.minQuantity=e.minQuantity,c.maxQuantity=e.maxQuantity,c.groupMinQuantity=e.groupMinQuantity,c.groupMaxQuantity=e.groupMaxQuantity,c.attachments=[],c.bundleTotal={},e[n.SalesForceNamespace.namespace+"__OneTimeTotal__c"]&&(c.bundleTotal=a.PriceInfo.parse(e,!0,t)),h&&h.value&&""!==h.value&&(c.messages=h.value.split(",").map(e=>e.trim())),e.Attachments&&(c.attachments=i.objectMap(e.Attachments,["defaultAttachment","url","contentType","description","displayConditionsData","sequenceNumber"].concat(t&&t.customFields)),c.attachments=i.sortItems(c.attachments,"sequenceNumber")),e.Product2&&(e.Product2[n.SalesForceNamespace.namespace+"__VersionStartDateTime__c"]&&(c.versionStartDateTime=e.Product2[n.SalesForceNamespace.namespace+"__VersionStartDateTime__c"]),e.Product2[n.SalesForceNamespace.namespace+"__VersionLabel__c"]&&(c.versionLabel=e.Product2[n.SalesForceNamespace.namespace+"__VersionLabel__c"]),e.Product2[n.SalesForceNamespace.namespace+"__VersionEndDateTime__c"]&&(c.versionEndDateTime=e.Product2[n.SalesForceNamespace.namespace+"__VersionEndDateTime__c"])),e.attributeCategories&&e.attributeCategories.records){c.attributes={},c.selectedAttributes={};const r=e.attributeCategories.records;for(const e in r)if(r.hasOwnProperty(e)){const n=i.objectMap(r[e].productAttributes.records,["label","multiselect","inputType","attributeId","userValues","values","code","hidden"].concat(t&&t.customFields));n.map(e=>{if("Color"===e.code){const t=e.values.find(t=>t.value===e.userValues);c.selectedAttributes.ColorLabel=t?t.label||t.defaultValue:e.userValues}c.selectedAttributes[e.code]=e.userValues,e.values=i.objectMap(e.values,["value","defaultValue","disabled","readonly","defaultSelected","label"].concat(t&&t.customFields))}),c.attributes[e]=n}}else if(e.attributeCategories){c.attributes={},c.selectedAttributes={};for(const r in e.attributeCategories)if(e.attributeCategories.hasOwnProperty(r)){const n=["value__c","valuedescription__c","attributedisplayname__c#label","attributeRunTimeInfo.uiDisplayType","attributeRunTimeInfo.values","attributeRunTimeInfo.dataType","attributeRunTimeInfo.default"].concat(t&&t.customFields);l.map(e=>{n.push(e)});let o=[];if(-1===l.indexOf("ishidden__c")){const t=e.AttributeCategory[r].filter(e=>!e.ishidden__c);o=i.objectMap(t,n)}else o=i.objectMap(e.AttributeCategory[r],n);o.map(e=>{e.values=i.objectMap(e.values,["value","displayText"])}),c.attributes[r]=o}}if(c.productHierarchyPath=e.productHierarchyPath,c.priceInfo=a.PriceInfo.parse(e,!1,t),c.cartItemsPriceInfo[e.bundleContextKey]={bundlePriceInfo:c.priceInfo,bundleName:c.name,productGroupPricing:{}},e.productGroups&&e.productGroups.records.forEach(n=>{const i=s.CartItemGroup.parse(n,t,r);for(const t in i.productGroupPrices)i.productGroupPrices.hasOwnProperty(t)&&(c.cartItemsPriceInfo[e.bundleContextKey].productGroupPricing[t]=i.productGroupPrices[t]);c.productGroups.push(i)}),e.childProducts&&(c.childProducts=[],e.childProducts.records.forEach(e=>{c.childProducts.push(s.CartItemGroup.parse(e,t,r))})),e.lineItems&&(c.lineItems=[],e.lineItems.records.forEach(e=>{c.lineItems.push(s.CartItemGroup.parse(e,t,r))})),t&&t.customFields&&t.customFields.length&&t.customFields.forEach(t=>{e.hasOwnProperty(t)&&(c.customFields[t]=e[t])}),e.promotions&&e.promotions.records&&(c.promotions=[],c.offerType="Promotion",e.promotions.records.forEach(r=>{const n=o.Promotion.parse(r,e,t);c.promotions.push(n)})),e.action&&(c.action=e.action),e[n.SalesForceNamespace.namespace+"__ProvisioningStatus__c"]){const t=e[n.SalesForceNamespace.namespace+"__ProvisioningStatus__c"];c.provisioningStatus={actions:t.actions,value:t.value,originalValue:t.originalValue,previousValue:t.previousValue}}return c}}t.CartItem=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(119);class s{constructor(){this.productGroupPrices={},this.attachments=[],this.customFields={},this.provisioningStatus={}}static parse(e,t,r){const a=new s,u=e[n.SalesForceNamespace.namespace+"__CpqMessageData__c"];if(a.name=e.name,a.id=e.productId,a.lineNumber=e.lineNumber,a.attachments=[],a.maxQuantity=e.maxQuantity,a.minQuantity=e.minQuantity,a.groupMaxQuantity=e.groupMaxQuantity,a.groupMinQuantity=e.groupMinQuantity,(e.Quantity||e.quantity)&&(a.quantity=e.Quantity?e.Quantity.value:e.quantity.value),u&&u.value&&""!==u.value&&(a.messages=u.value.split(",").map(e=>e.trim())),e.actions&&(a.actions=e.actions),e.Product2&&(e.Product2[n.SalesForceNamespace.namespace+"__VersionStartDateTime__c"]&&(a.versionStartDateTime=e.Product2[n.SalesForceNamespace.namespace+"__VersionStartDateTime__c"]),e.Product2[n.SalesForceNamespace.namespace+"__VersionLabel__c"]&&(a.versionLabel=e.Product2[n.SalesForceNamespace.namespace+"__VersionLabel__c"]),e.Product2[n.SalesForceNamespace.namespace+"__VersionEndDateTime__c"]&&(a.versionEndDateTime=e.Product2[n.SalesForceNamespace.namespace+"__VersionEndDateTime__c"])),e.attributeCategories&&e.attributeCategories.records){a.attributes={},a.selectedAttributes={};const r=e.attributeCategories.records;for(const e in r)if(r.hasOwnProperty(e)){const n=i.objectMap(r[e].productAttributes.records,["label","multiselect","inputType","attributeId","userValues","values","code","hidden"].concat(t.customFields));n.map(e=>{if("Color"===e.code){const t=e.values.find(t=>t.value===e.userValues);a.selectedAttributes.ColorLabel=t?t.label||t.defaultValue:e.userValues}a.selectedAttributes[e.code]=e.userValues,e.values=i.objectMap(e.values,["value","defaultValue","disabled","readonly","defaultSelected","label"].concat(t.customFields))}),a.attributes[e]=n}}if(e.Attachments&&(a.attachments=i.objectMap(e.Attachments,["defaultAttachment","url","contentType","description","displayConditionsData","sequenceNumber"].concat(t.customFields)),a.attachments=i.sortItems(a.attachments,"sequenceNumber")),e.childProducts&&(a.childProducts=[],e.childProducts.records.forEach(e=>{e.quantity?e.quantity.value=0:e.quantity={value:0},a.childProducts.push(this.parse(e,t,r))})),e.lineItems&&(a.lineItems=[],e.lineItems.records.forEach(e=>{const n=this.parse(e,t,r);if(a.productGroupPrices[e.lineItemKey]={lineItemPriceInfo:n.priceInfo,lineItemName:n.name},a.lineItems.push(n),a.childProducts){const e=a.childProducts.map(e=>e.id).indexOf(n.id);e>-1?a.childProducts.splice(e,1,n):a.childProducts.push(n)}})),e.productGroups&&(a.productGroups=[],e.productGroups.records.forEach(e=>{const n=this.parse(e,t,r);for(const e in n.productGroupPrices)n.productGroupPrices.hasOwnProperty(e)&&(a.productGroupPrices[e]=n.productGroupPrices[e]);a.productGroups.push(n)})),a.priceInfo=o.PriceInfo.parse(e,!1,t),a.productHierarchyPath=e.productHierarchyPath,t&&t.customFields&&t.customFields.length&&t.customFields.forEach(t=>{e.hasOwnProperty(t)&&(a.customFields[t]=e[t])}),e.action&&(a.action=e.action),e[n.SalesForceNamespace.namespace+"__ProvisioningStatus__c"]){const t=e[n.SalesForceNamespace.namespace+"__ProvisioningStatus__c"];a.provisioningStatus={actions:t.actions,value:t.value,originalValue:t.originalValue,previousValue:t.previousValue}}return a}}t.CartItemGroup=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(32),s=r(30);t.CheckoutCartInput=class extends o.DigitalCommerceInput{constructor(){super(),this.validatePrice=!0,this.validateAction=!0}getAPIPath(){const e=this.getEncodedQueryString();return`${n.SalesForceNamespace.restAPIPrefix}/v3/carts`+e}getSecureServerRestUrl(){return""}getRequestPayload(){if(!this.catalogCode)throw new Error("CheckoutCartInput::getRequestPayload() must have catalogCode.");if(!this.accountId)throw new Error("CheckoutCartInput::getRequestPayload() must have accountId.");if(!this.cartContextKey)throw new Error("CheckoutCartInput::getRequestPayload() must have cartContextKey.");return{accountId:this.accountId,assetReferenceKey:this.assetReferenceKey,cartContextKey:this.cartContextKey,catalogCode:this.catalogCode,orderFields:this.orderFields,orderItemFields:this.orderItemFields}}getInputMap(){const e={};return this.forceInvalidateCache&&(e.forceinvalidatecache=this.forceInvalidateCache),this.validatePrice||(e.price=!1),this.validateAction||(e.validate=!1),this.context&&(e.context=this.context),this.isLoggedIn&&(e.isloggedin=this.isLoggedIn),this.referencedatetime&&(e.referencedatetime=this.referencedatetime),e}getAnonymousSiteRestUrl(){if(!s.default.anonymousSiteConfigUrl)throw new Error("CheckoutCartInput::getAnonymousRestUrl() must have anonymousSiteUrl.");const e=this.getEncodedQueryString();return s.default.anonymousSiteConfigUrl+"/v3/carts"+e}getEncodedQueryString(){return i.queryStringEncode(this.getInputMap(),!0,["forceinvalidatecache","price","validate","context","isloggedin","referencedatetime"])}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(212)),n(r(32)),n(r(213))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Action=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UserContext=class{constructor(){this.hasLogin=!1,this.currencyCode="USD",this.currencySymbol="$"}}},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(30),o=r(32);t.GetAWSTokenInput=class extends o.DigitalCommerceInput{constructor(){super(),this.contentType="application/x-www-form-urlencoded",this.autoRefreshToken=!1,this.remoteMethod=""}getAPIPath(){return""}getAnonymousSiteRestUrl(){if(!i.default.oauth2Url)throw new Error("GetAWSTokenInput::getAnonymousRestUrl() must have AWS OAuth2 url.");return i.default.oauth2Url}getRequestPayload(){return"grant_type=client_credentials"}getAuthToken(){return n(this,void 0,void 0,function*(){if(i.default.clientId&&i.default.clientSecret)return void 0!==window.btoa?btoa(i.default.clientId+":"+i.default.clientSecret):e.from(i.default.clientId+":"+i.default.clientSecret).toString("base64");throw new Error("GetAWSTokenInput::getAuthToken() must have clientId and client secret.")})}getSecureServerRestUrl(){return""}getAuthorisationType(){return"Basic "}getInputMap(){return""}getEncodedQueryString(){return""}}}).call(this,r(17).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6);class i{constructor(){this.oneTimeCharge=0,this.recurringCharge=0,this.usageCharge=0,this.recurringChargeInfo={},this.oneTimeChargeInfo={},this.usageChargeInfo={},this.oneTimeChargeCostInfo={},this.recurringChargeCostInfo={},this.usageChargeCostInfo={}}static parse(e,t){const r=new i;if(e&&e.priceResult){n.objectMap(e.priceResult,["ChargeType__c","chargeamount","Amount__c","baseamount","adjustments","overrides","Type__c","RecurringFrequency__c","DisplayText__c","RecurringTotal__c","OneTimeTotal__c"].concat(t.customFields)).map(e=>{!0===t.costDetailsRequired&&"Cost"===e.Type__c?"Recurring"===e.ChargeType__c?(r.recurringChargeCostInfo={adjustments:e.adjustments,baseamount:e.baseamount,overrides:e.overrides,recurringCharge:e.chargeamount||e.Amount__c,type:e.Type__c,recurringFrequency:e.RecurringFrequency__c,displayText:e.DisplayText__c,recurringTotal:e.RecurringTotal__c},t.customFields.map(t=>{e.hasOwnProperty(t)&&(r.recurringChargeCostInfo[t]=e[t])})):"One-time"===e.ChargeType__c?(r.oneTimeChargeCostInfo={adjustments:e.adjustments,baseamount:e.baseamount,oneTimeCharge:e.chargeamount||e.Amount__c,overrides:e.overrides,type:e.Type__c,recurringFrequency:e.RecurringFrequency__c,displayText:e.DisplayText__c,onetimeTotal:e.OneTimeTotal__c},t.customFields.map(t=>{e.hasOwnProperty(t)&&(r.oneTimeChargeCostInfo[t]=e[t])})):"Usage"===e.ChargeType__c&&(r.usageChargeCostInfo={adjustments:e.adjustments,baseamount:e.baseamount,usageCharge:e.chargeamount||e.Amount__c,overrides:e.overrides,type:e.Type__c,recurringFrequency:e.RecurringFrequency__c,displayText:e.DisplayText__c,usageTotal:e.UsageTotal__c},t.customFields.map(t=>{e.hasOwnProperty(t)&&(r.usageChargeCostInfo[t]=e[t])})):"Cost"!==e.Type__c&&("Recurring"===e.ChargeType__c?(r.recurringCharge=e.chargeamount||e.Amount__c,r.recurringChargeInfo={adjustments:e.adjustments,baseamount:e.baseamount,overrides:e.overrides,recurringCharge:e.chargeamount||0===e.chargeamount?e.chargeamount:e.Amount__c,type:e.Type__c,recurringFrequency:e.RecurringFrequency__c,displayText:e.DisplayText__c,recurringTotal:e.RecurringTotal__c},t.customFields.map(t=>{e.hasOwnProperty(t)&&(r.recurringChargeInfo[t]=e[t])})):"One-time"===e.ChargeType__c?(r.oneTimeCharge=e.chargeamount||e.Amount__c,r.oneTimeChargeInfo={adjustments:e.adjustments,baseamount:e.baseamount,oneTimeCharge:e.chargeamount||0===e.chargeamount?e.chargeamount:e.Amount__c,overrides:e.overrides,type:e.Type__c,recurringFrequency:e.RecurringFrequency__c,displayText:e.DisplayText__c,onetimeTotal:e.OneTimeTotal__c},t.customFields.map(t=>{e.hasOwnProperty(t)&&(r.oneTimeChargeInfo[t]=e[t])})):"Usage"===e.ChargeType__c&&(r.usageCharge=e.chargeamount||e.Amount__c,r.usageChargeInfo={adjustments:e.adjustments,baseamount:e.baseamount,usageCharge:e.chargeamount||0===e.chargeamount?e.chargeamount:e.Amount__c,overrides:e.overrides,type:e.Type__c,recurringFrequency:e.RecurringFrequency__c,displayText:e.DisplayText__c,usageTotal:e.UsageTotal__c},t.customFields.map(t=>{e.hasOwnProperty(t)&&(r.usageChargeInfo[t]=e[t])})))})}return r}}t.PriceInfo=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(115);class i{constructor(){this.customFields={}}static parse(e,t){const r=new i;return r.id=e.Id,r.name=e.Name,r.description=e.Description,r.quantity=e.Quantity,r.minQuantity=e.minQuantity,r.maxQuantity=e.maxQuantity,r.groupMinQuantity=e.groupMinQuantity,r.groupMaxQuantity=e.groupMaxQuantity,t&&t.customFields&&t.customFields.length&&t.customFields.forEach(t=>{e[t]&&(r.customFields[t]=e[t])}),e.childProducts?(r.childProducts=[],e.childProducts.forEach(e=>{r.childProducts.push(n.Offer.parse(e,t))})):e.productGroups&&(r.productGroups=[],e.productGroups.forEach(e=>{r.productGroups.push(i.parse(e,t))})),r}}t.ProductGroup=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(115);class i{constructor(){this.offers=[],this.seoMetaData={},this.customFields={}}static parse(e,t){const r=new i;if(!e)return r;r.nextOffersAction=e.nextOffersAction,e.offers.forEach(e=>{const i=n.Offer.parse(e,t);r.offers.push(i)});return r.seoMetaData={description:"Phones",keyWords:"Phones",pageTitle:"Phones"},t&&t.customFields&&t.customFields.length&&t.customFields.forEach(t=>{e.hasOwnProperty(t)&&(r.customFields[t]=e[t])}),r}}t.OfferList=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(115);class o{constructor(){this.promoCode=""}static parse(e){return n(this,void 0,void 0,function*(){const t={};return e?(e&&e.length>0&&e.map(e=>{t.hasOwnProperty(e.id)?t[e.id].push(e):(t[e.id]=[],t[e.id].push(e))}),t):t})}static parsePromotions(e){const t=[];return e.map(e=>{e.products.map(r=>{const n=i.Offer.parse(r);n.promoCode=e.promoCode,e.promoName=e.promoName,t.push(n)})}),t}static getFilteredPromotionList(e){return n(this,void 0,void 0,function*(){const t={promotions:[],products:[]};return e&&e.length>0&&e.map(e=>{"Promotion"===e.offerType?t.promotions.push(e):t.products.push(e)}),t})}static createPromotionList(e,t){return n(this,void 0,void 0,function*(){const r=yield o.parse(e);return void 0===t?r:t?r.hasOwnProperty(t)&&r[t]?r[t]:{}:void 0})}}t.PromotionList=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){for(let n in t){if(t.hasOwnProperty(n)!==r.hasOwnProperty(n))return!1;switch(typeof t[n]){case"object":if(!e(t[n],r[n]))return!1;break;case"function":if(void 0===r[n]||t[n].name.includes("bound ")&&t[n].name!==r[n].name||!t[n].name.includes("bound ")&&t[n].toString()!==r[n].toString())return!1;break;default:if(t[n]!=r[n])return!1}}for(const e in r)if(void 0===t[e])return!1;return!0}}])});
//# sourceMappingURL=digitalcommerce.sdk.js.map